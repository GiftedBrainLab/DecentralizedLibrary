var gd=Object.defineProperty;var Pu=Object.getOwnPropertySymbols;var yd=Object.prototype.hasOwnProperty,vd=Object.prototype.propertyIsEnumerable;var Du=(t,e,r)=>e in t?gd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ju=(t,e)=>{for(var r in e||(e={}))yd.call(e,r)&&Du(t,r,e[r]);if(Pu)for(var r of Pu(e))vd.call(e,r)&&Du(t,r,e[r]);return t};import{c as X,g as Fr,a as bd}from"./index.29f8f2ea.js";import{t as Eo,u as md,v as Mo,w as Tn,x as wd}from"./index.0890b907.js";function _d(t,e){return e.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in t)){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var ja={},ui={},xo={};Object.defineProperty(xo,"__esModule",{value:!0});xo.ScopedLocalStorage=void 0;class Sd{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}xo.ScopedLocalStorage=Sd;var bn={},On={};Object.defineProperty(On,"__esModule",{value:!0});const Ed=Eo.exports;function Bu(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Md(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}class xd extends Ed.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let s;if(r.length>0&&([s]=r),s instanceof Error)throw s;const a=new Error(`Unhandled error.${s?` (${s.message})`:""}`);throw a.context=s,a}const o=i[e];if(o===void 0)return!1;if(typeof o=="function")Bu(o,this,r);else{const s=o.length,a=Md(o);for(let l=0;l<s;l+=1)Bu(a[l],this,r)}return!0}}On.default=xd;var vi={exports:{}};(function(t){(function(e,r){function n(b,u){if(!b)throw new Error(u||"Assertion failed")}function i(b,u){b.super_=u;var f=function(){};f.prototype=u.prototype,b.prototype=new f,b.prototype.constructor=b}function o(b,u,f){if(o.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((u==="le"||u==="be")&&(f=u,u=10),this._init(b||0,u||10,f||"be"))}typeof e=="object"?e.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?s=window.Buffer:s=require("buffer").Buffer}catch{}o.isBN=function(u){return u instanceof o?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===o.wordSize&&Array.isArray(u.words)},o.max=function(u,f){return u.cmp(f)>0?u:f},o.min=function(u,f){return u.cmp(f)<0?u:f},o.prototype._init=function(u,f,g){if(typeof u=="number")return this._initNumber(u,f,g);if(typeof u=="object")return this._initArray(u,f,g);f==="hex"&&(f=16),n(f===(f|0)&&f>=2&&f<=36),u=u.toString().replace(/\s+/g,"");var v=0;u[0]==="-"&&(v++,this.negative=1),v<u.length&&(f===16?this._parseHex(u,v,g):(this._parseBase(u,f,v),g==="le"&&this._initArray(this.toArray(),f,g)))},o.prototype._initNumber=function(u,f,g){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),f,g)},o.prototype._initArray=function(u,f,g){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var w,_,M=0;if(g==="be")for(v=u.length-1,w=0;v>=0;v-=3)_=u[v]|u[v-1]<<8|u[v-2]<<16,this.words[w]|=_<<M&67108863,this.words[w+1]=_>>>26-M&67108863,M+=24,M>=26&&(M-=26,w++);else if(g==="le")for(v=0,w=0;v<u.length;v+=3)_=u[v]|u[v+1]<<8|u[v+2]<<16,this.words[w]|=_<<M&67108863,this.words[w+1]=_>>>26-M&67108863,M+=24,M>=26&&(M-=26,w++);return this._strip()};function a(b,u){var f=b.charCodeAt(u);if(f>=48&&f<=57)return f-48;if(f>=65&&f<=70)return f-55;if(f>=97&&f<=102)return f-87;n(!1,"Invalid character in "+b)}function l(b,u,f){var g=a(b,f);return f-1>=u&&(g|=a(b,f-1)<<4),g}o.prototype._parseHex=function(u,f,g){this.length=Math.ceil((u.length-f)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var w=0,_=0,M;if(g==="be")for(v=u.length-1;v>=f;v-=2)M=l(u,f,v)<<w,this.words[_]|=M&67108863,w>=18?(w-=18,_+=1,this.words[_]|=M>>>26):w+=8;else{var y=u.length-f;for(v=y%2===0?f+1:f;v<u.length;v+=2)M=l(u,f,v)<<w,this.words[_]|=M&67108863,w>=18?(w-=18,_+=1,this.words[_]|=M>>>26):w+=8}this._strip()};function d(b,u,f,g){for(var v=0,w=0,_=Math.min(b.length,f),M=u;M<_;M++){var y=b.charCodeAt(M)-48;v*=g,y>=49?w=y-49+10:y>=17?w=y-17+10:w=y,n(y>=0&&w<g,"Invalid character"),v+=w}return v}o.prototype._parseBase=function(u,f,g){this.words=[0],this.length=1;for(var v=0,w=1;w<=67108863;w*=f)v++;v--,w=w/f|0;for(var _=u.length-g,M=_%v,y=Math.min(_,_-M)+g,c=0,h=g;h<y;h+=v)c=d(u,h,h+v,f),this.imuln(w),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(M!==0){var x=1;for(c=d(u,h,u.length,f),h=0;h<M;h++)x*=f;this.imuln(x),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(u){u.words=new Array(this.length);for(var f=0;f<this.length;f++)u.words[f]=this.words[f];u.length=this.length,u.negative=this.negative,u.red=this.red};function p(b,u){b.words=u.words,b.length=u.length,b.negative=u.negative,b.red=u.red}if(o.prototype._move=function(u){p(u,this)},o.prototype.clone=function(){var u=new o(null);return this.copy(u),u},o.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=S}catch{o.prototype.inspect=S}else o.prototype.inspect=S;function S(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(u,f){u=u||10,f=f|0||1;var g;if(u===16||u==="hex"){g="";for(var v=0,w=0,_=0;_<this.length;_++){var M=this.words[_],y=((M<<v|w)&16777215).toString(16);w=M>>>24-v&16777215,w!==0||_!==this.length-1?g=m[6-y.length]+y+g:g=y+g,v+=2,v>=26&&(v-=26,_--)}for(w!==0&&(g=w.toString(16)+g);g.length%f!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(u===(u|0)&&u>=2&&u<=36){var c=E[u],h=k[u];g="";var x=this.clone();for(x.negative=0;!x.isZero();){var I=x.modrn(h).toString(u);x=x.idivn(h),x.isZero()?g=I+g:g=m[c-I.length]+I+g}for(this.isZero()&&(g="0"+g);g.length%f!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(u,f){return this.toArrayLike(s,u,f)}),o.prototype.toArray=function(u,f){return this.toArrayLike(Array,u,f)};var P=function(u,f){return u.allocUnsafe?u.allocUnsafe(f):new u(f)};o.prototype.toArrayLike=function(u,f,g){this._strip();var v=this.byteLength(),w=g||Math.max(1,v);n(v<=w,"byte array longer than desired length"),n(w>0,"Requested array length <= 0");var _=P(u,w),M=f==="le"?"LE":"BE";return this["_toArrayLike"+M](_,v),_},o.prototype._toArrayLikeLE=function(u,f){for(var g=0,v=0,w=0,_=0;w<this.length;w++){var M=this.words[w]<<_|v;u[g++]=M&255,g<u.length&&(u[g++]=M>>8&255),g<u.length&&(u[g++]=M>>16&255),_===6?(g<u.length&&(u[g++]=M>>24&255),v=0,_=0):(v=M>>>24,_+=2)}if(g<u.length)for(u[g++]=v;g<u.length;)u[g++]=0},o.prototype._toArrayLikeBE=function(u,f){for(var g=u.length-1,v=0,w=0,_=0;w<this.length;w++){var M=this.words[w]<<_|v;u[g--]=M&255,g>=0&&(u[g--]=M>>8&255),g>=0&&(u[g--]=M>>16&255),_===6?(g>=0&&(u[g--]=M>>24&255),v=0,_=0):(v=M>>>24,_+=2)}if(g>=0)for(u[g--]=v;g>=0;)u[g--]=0},Math.clz32?o.prototype._countBits=function(u){return 32-Math.clz32(u)}:o.prototype._countBits=function(u){var f=u,g=0;return f>=4096&&(g+=13,f>>>=13),f>=64&&(g+=7,f>>>=7),f>=8&&(g+=4,f>>>=4),f>=2&&(g+=2,f>>>=2),g+f},o.prototype._zeroBits=function(u){if(u===0)return 26;var f=u,g=0;return(f&8191)===0&&(g+=13,f>>>=13),(f&127)===0&&(g+=7,f>>>=7),(f&15)===0&&(g+=4,f>>>=4),(f&3)===0&&(g+=2,f>>>=2),(f&1)===0&&g++,g},o.prototype.bitLength=function(){var u=this.words[this.length-1],f=this._countBits(u);return(this.length-1)*26+f};function R(b){for(var u=new Array(b.bitLength()),f=0;f<u.length;f++){var g=f/26|0,v=f%26;u[f]=b.words[g]>>>v&1}return u}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,f=0;f<this.length;f++){var g=this._zeroBits(this.words[f]);if(u+=g,g!==26)break}return u},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},o.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var f=0;f<u.length;f++)this.words[f]=this.words[f]|u.words[f];return this._strip()},o.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},o.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},o.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},o.prototype.iuand=function(u){var f;this.length>u.length?f=u:f=this;for(var g=0;g<f.length;g++)this.words[g]=this.words[g]&u.words[g];return this.length=f.length,this._strip()},o.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},o.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},o.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},o.prototype.iuxor=function(u){var f,g;this.length>u.length?(f=this,g=u):(f=u,g=this);for(var v=0;v<g.length;v++)this.words[v]=f.words[v]^g.words[v];if(this!==f)for(;v<f.length;v++)this.words[v]=f.words[v];return this.length=f.length,this._strip()},o.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},o.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},o.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},o.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var f=Math.ceil(u/26)|0,g=u%26;this._expand(f),g>0&&f--;for(var v=0;v<f;v++)this.words[v]=~this.words[v]&67108863;return g>0&&(this.words[v]=~this.words[v]&67108863>>26-g),this._strip()},o.prototype.notn=function(u){return this.clone().inotn(u)},o.prototype.setn=function(u,f){n(typeof u=="number"&&u>=0);var g=u/26|0,v=u%26;return this._expand(g+1),f?this.words[g]=this.words[g]|1<<v:this.words[g]=this.words[g]&~(1<<v),this._strip()},o.prototype.iadd=function(u){var f;if(this.negative!==0&&u.negative===0)return this.negative=0,f=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,f=this.isub(u),u.negative=1,f._normSign();var g,v;this.length>u.length?(g=this,v=u):(g=u,v=this);for(var w=0,_=0;_<v.length;_++)f=(g.words[_]|0)+(v.words[_]|0)+w,this.words[_]=f&67108863,w=f>>>26;for(;w!==0&&_<g.length;_++)f=(g.words[_]|0)+w,this.words[_]=f&67108863,w=f>>>26;if(this.length=g.length,w!==0)this.words[this.length]=w,this.length++;else if(g!==this)for(;_<g.length;_++)this.words[_]=g.words[_];return this},o.prototype.add=function(u){var f;return u.negative!==0&&this.negative===0?(u.negative=0,f=this.sub(u),u.negative^=1,f):u.negative===0&&this.negative!==0?(this.negative=0,f=u.sub(this),this.negative=1,f):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},o.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var f=this.iadd(u);return u.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var g=this.cmp(u);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,w;g>0?(v=this,w=u):(v=u,w=this);for(var _=0,M=0;M<w.length;M++)f=(v.words[M]|0)-(w.words[M]|0)+_,_=f>>26,this.words[M]=f&67108863;for(;_!==0&&M<v.length;M++)f=(v.words[M]|0)+_,_=f>>26,this.words[M]=f&67108863;if(_===0&&M<v.length&&v!==this)for(;M<v.length;M++)this.words[M]=v.words[M];return this.length=Math.max(this.length,M),v!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(u){return this.clone().isub(u)};function N(b,u,f){f.negative=u.negative^b.negative;var g=b.length+u.length|0;f.length=g,g=g-1|0;var v=b.words[0]|0,w=u.words[0]|0,_=v*w,M=_&67108863,y=_/67108864|0;f.words[0]=M;for(var c=1;c<g;c++){for(var h=y>>>26,x=y&67108863,I=Math.min(c,u.length-1),O=Math.max(0,c-b.length+1);O<=I;O++){var $=c-O|0;v=b.words[$]|0,w=u.words[O]|0,_=v*w+x,h+=_/67108864|0,x=_&67108863}f.words[c]=x|0,y=h|0}return y!==0?f.words[c]=y|0:f.length--,f._strip()}var L=function(u,f,g){var v=u.words,w=f.words,_=g.words,M=0,y,c,h,x=v[0]|0,I=x&8191,O=x>>>13,$=v[1]|0,D=$&8191,j=$>>>13,ie=v[2]|0,J=ie&8191,se=ie>>>13,It=v[3]|0,ue=It&8191,fe=It>>>13,qt=v[4]|0,he=qt&8191,de=qt>>>13,A=v[5]|0,pe=A&8191,ye=A>>>13,Hn=v[6]|0,$e=Hn&8191,Ue=Hn>>>13,qn=v[7]|0,ze=qn&8191,He=qn>>>13,zr=v[8]|0,ve=zr&8191,be=zr>>>13,Hr=v[9]|0,me=Hr&8191,we=Hr>>>13,qr=w[0]|0,_e=qr&8191,Se=qr>>>13,Vr=w[1]|0,Ee=Vr&8191,Me=Vr>>>13,Gr=w[2]|0,xe=Gr&8191,ke=Gr>>>13,Qr=w[3]|0,Ae=Qr&8191,Ce=Qr>>>13,Yr=w[4]|0,Re=Yr&8191,Ie=Yr>>>13,Kr=w[5]|0,Te=Kr&8191,Oe=Kr>>>13,Jr=w[6]|0,Ne=Jr&8191,Le=Jr>>>13,Zr=w[7]|0,Pe=Zr&8191,De=Zr>>>13,Xr=w[8]|0,je=Xr&8191,Be=Xr>>>13,en=w[9]|0,Fe=en&8191,We=en>>>13;g.negative=u.negative^f.negative,g.length=19,y=Math.imul(I,_e),c=Math.imul(I,Se),c=c+Math.imul(O,_e)|0,h=Math.imul(O,Se);var lr=(M+y|0)+((c&8191)<<13)|0;M=(h+(c>>>13)|0)+(lr>>>26)|0,lr&=67108863,y=Math.imul(D,_e),c=Math.imul(D,Se),c=c+Math.imul(j,_e)|0,h=Math.imul(j,Se),y=y+Math.imul(I,Ee)|0,c=c+Math.imul(I,Me)|0,c=c+Math.imul(O,Ee)|0,h=h+Math.imul(O,Me)|0;var fr=(M+y|0)+((c&8191)<<13)|0;M=(h+(c>>>13)|0)+(fr>>>26)|0,fr&=67108863,y=Math.imul(J,_e),c=Math.imul(J,Se),c=c+Math.imul(se,_e)|0,h=Math.imul(se,Se),y=y+Math.imul(D,Ee)|0,c=c+Math.imul(D,Me)|0,c=c+Math.imul(j,Ee)|0,h=h+Math.imul(j,Me)|0,y=y+Math.imul(I,xe)|0,c=c+Math.imul(I,ke)|0,c=c+Math.imul(O,xe)|0,h=h+Math.imul(O,ke)|0;var hr=(M+y|0)+((c&8191)<<13)|0;M=(h+(c>>>13)|0)+(hr>>>26)|0,hr&=67108863,y=Math.imul(ue,_e),c=Math.imul(ue,Se),c=c+Math.imul(fe,_e)|0,h=Math.imul(fe,Se),y=y+Math.imul(J,Ee)|0,c=c+Math.imul(J,Me)|0,c=c+Math.imul(se,Ee)|0,h=h+Math.imul(se,Me)|0,y=y+Math.imul(D,xe)|0,c=c+Math.imul(D,ke)|0,c=c+Math.imul(j,xe)|0,h=h+Math.imul(j,ke)|0,y=y+Math.imul(I,Ae)|0,c=c+Math.imul(I,Ce)|0,c=c+Math.imul(O,Ae)|0,h=h+Math.imul(O,Ce)|0;var dr=(M+y|0)+((c&8191)<<13)|0;M=(h+(c>>>13)|0)+(dr>>>26)|0,dr&=67108863,y=Math.imul(he,_e),c=Math.imul(he,Se),c=c+Math.imul(de,_e)|0,h=Math.imul(de,Se),y=y+Math.imul(ue,Ee)|0,c=c+Math.imul(ue,Me)|0,c=c+Math.imul(fe,Ee)|0,h=h+Math.imul(fe,Me)|0,y=y+Math.imul(J,xe)|0,c=c+Math.imul(J,ke)|0,c=c+Math.imul(se,xe)|0,h=h+Math.imul(se,ke)|0,y=y+Math.imul(D,Ae)|0,c=c+Math.imul(D,Ce)|0,c=c+Math.imul(j,Ae)|0,h=h+Math.imul(j,Ce)|0,y=y+Math.imul(I,Re)|0,c=c+Math.imul(I,Ie)|0,c=c+Math.imul(O,Re)|0,h=h+Math.imul(O,Ie)|0;var pr=(M+y|0)+((c&8191)<<13)|0;M=(h+(c>>>13)|0)+(pr>>>26)|0,pr&=67108863,y=Math.imul(pe,_e),c=Math.imul(pe,Se),c=c+Math.imul(ye,_e)|0,h=Math.imul(ye,Se),y=y+Math.imul(he,Ee)|0,c=c+Math.imul(he,Me)|0,c=c+Math.imul(de,Ee)|0,h=h+Math.imul(de,Me)|0,y=y+Math.imul(ue,xe)|0,c=c+Math.imul(ue,ke)|0,c=c+Math.imul(fe,xe)|0,h=h+Math.imul(fe,ke)|0,y=y+Math.imul(J,Ae)|0,c=c+Math.imul(J,Ce)|0,c=c+Math.imul(se,Ae)|0,h=h+Math.imul(se,Ce)|0,y=y+Math.imul(D,Re)|0,c=c+Math.imul(D,Ie)|0,c=c+Math.imul(j,Re)|0,h=h+Math.imul(j,Ie)|0,y=y+Math.imul(I,Te)|0,c=c+Math.imul(I,Oe)|0,c=c+Math.imul(O,Te)|0,h=h+Math.imul(O,Oe)|0;var gr=(M+y|0)+((c&8191)<<13)|0;M=(h+(c>>>13)|0)+(gr>>>26)|0,gr&=67108863,y=Math.imul($e,_e),c=Math.imul($e,Se),c=c+Math.imul(Ue,_e)|0,h=Math.imul(Ue,Se),y=y+Math.imul(pe,Ee)|0,c=c+Math.imul(pe,Me)|0,c=c+Math.imul(ye,Ee)|0,h=h+Math.imul(ye,Me)|0,y=y+Math.imul(he,xe)|0,c=c+Math.imul(he,ke)|0,c=c+Math.imul(de,xe)|0,h=h+Math.imul(de,ke)|0,y=y+Math.imul(ue,Ae)|0,c=c+Math.imul(ue,Ce)|0,c=c+Math.imul(fe,Ae)|0,h=h+Math.imul(fe,Ce)|0,y=y+Math.imul(J,Re)|0,c=c+Math.imul(J,Ie)|0,c=c+Math.imul(se,Re)|0,h=h+Math.imul(se,Ie)|0,y=y+Math.imul(D,Te)|0,c=c+Math.imul(D,Oe)|0,c=c+Math.imul(j,Te)|0,h=h+Math.imul(j,Oe)|0,y=y+Math.imul(I,Ne)|0,c=c+Math.imul(I,Le)|0,c=c+Math.imul(O,Ne)|0,h=h+Math.imul(O,Le)|0;var yr=(M+y|0)+((c&8191)<<13)|0;M=(h+(c>>>13)|0)+(yr>>>26)|0,yr&=67108863,y=Math.imul(ze,_e),c=Math.imul(ze,Se),c=c+Math.imul(He,_e)|0,h=Math.imul(He,Se),y=y+Math.imul($e,Ee)|0,c=c+Math.imul($e,Me)|0,c=c+Math.imul(Ue,Ee)|0,h=h+Math.imul(Ue,Me)|0,y=y+Math.imul(pe,xe)|0,c=c+Math.imul(pe,ke)|0,c=c+Math.imul(ye,xe)|0,h=h+Math.imul(ye,ke)|0,y=y+Math.imul(he,Ae)|0,c=c+Math.imul(he,Ce)|0,c=c+Math.imul(de,Ae)|0,h=h+Math.imul(de,Ce)|0,y=y+Math.imul(ue,Re)|0,c=c+Math.imul(ue,Ie)|0,c=c+Math.imul(fe,Re)|0,h=h+Math.imul(fe,Ie)|0,y=y+Math.imul(J,Te)|0,c=c+Math.imul(J,Oe)|0,c=c+Math.imul(se,Te)|0,h=h+Math.imul(se,Oe)|0,y=y+Math.imul(D,Ne)|0,c=c+Math.imul(D,Le)|0,c=c+Math.imul(j,Ne)|0,h=h+Math.imul(j,Le)|0,y=y+Math.imul(I,Pe)|0,c=c+Math.imul(I,De)|0,c=c+Math.imul(O,Pe)|0,h=h+Math.imul(O,De)|0;var vr=(M+y|0)+((c&8191)<<13)|0;M=(h+(c>>>13)|0)+(vr>>>26)|0,vr&=67108863,y=Math.imul(ve,_e),c=Math.imul(ve,Se),c=c+Math.imul(be,_e)|0,h=Math.imul(be,Se),y=y+Math.imul(ze,Ee)|0,c=c+Math.imul(ze,Me)|0,c=c+Math.imul(He,Ee)|0,h=h+Math.imul(He,Me)|0,y=y+Math.imul($e,xe)|0,c=c+Math.imul($e,ke)|0,c=c+Math.imul(Ue,xe)|0,h=h+Math.imul(Ue,ke)|0,y=y+Math.imul(pe,Ae)|0,c=c+Math.imul(pe,Ce)|0,c=c+Math.imul(ye,Ae)|0,h=h+Math.imul(ye,Ce)|0,y=y+Math.imul(he,Re)|0,c=c+Math.imul(he,Ie)|0,c=c+Math.imul(de,Re)|0,h=h+Math.imul(de,Ie)|0,y=y+Math.imul(ue,Te)|0,c=c+Math.imul(ue,Oe)|0,c=c+Math.imul(fe,Te)|0,h=h+Math.imul(fe,Oe)|0,y=y+Math.imul(J,Ne)|0,c=c+Math.imul(J,Le)|0,c=c+Math.imul(se,Ne)|0,h=h+Math.imul(se,Le)|0,y=y+Math.imul(D,Pe)|0,c=c+Math.imul(D,De)|0,c=c+Math.imul(j,Pe)|0,h=h+Math.imul(j,De)|0,y=y+Math.imul(I,je)|0,c=c+Math.imul(I,Be)|0,c=c+Math.imul(O,je)|0,h=h+Math.imul(O,Be)|0;var br=(M+y|0)+((c&8191)<<13)|0;M=(h+(c>>>13)|0)+(br>>>26)|0,br&=67108863,y=Math.imul(me,_e),c=Math.imul(me,Se),c=c+Math.imul(we,_e)|0,h=Math.imul(we,Se),y=y+Math.imul(ve,Ee)|0,c=c+Math.imul(ve,Me)|0,c=c+Math.imul(be,Ee)|0,h=h+Math.imul(be,Me)|0,y=y+Math.imul(ze,xe)|0,c=c+Math.imul(ze,ke)|0,c=c+Math.imul(He,xe)|0,h=h+Math.imul(He,ke)|0,y=y+Math.imul($e,Ae)|0,c=c+Math.imul($e,Ce)|0,c=c+Math.imul(Ue,Ae)|0,h=h+Math.imul(Ue,Ce)|0,y=y+Math.imul(pe,Re)|0,c=c+Math.imul(pe,Ie)|0,c=c+Math.imul(ye,Re)|0,h=h+Math.imul(ye,Ie)|0,y=y+Math.imul(he,Te)|0,c=c+Math.imul(he,Oe)|0,c=c+Math.imul(de,Te)|0,h=h+Math.imul(de,Oe)|0,y=y+Math.imul(ue,Ne)|0,c=c+Math.imul(ue,Le)|0,c=c+Math.imul(fe,Ne)|0,h=h+Math.imul(fe,Le)|0,y=y+Math.imul(J,Pe)|0,c=c+Math.imul(J,De)|0,c=c+Math.imul(se,Pe)|0,h=h+Math.imul(se,De)|0,y=y+Math.imul(D,je)|0,c=c+Math.imul(D,Be)|0,c=c+Math.imul(j,je)|0,h=h+Math.imul(j,Be)|0,y=y+Math.imul(I,Fe)|0,c=c+Math.imul(I,We)|0,c=c+Math.imul(O,Fe)|0,h=h+Math.imul(O,We)|0;var mr=(M+y|0)+((c&8191)<<13)|0;M=(h+(c>>>13)|0)+(mr>>>26)|0,mr&=67108863,y=Math.imul(me,Ee),c=Math.imul(me,Me),c=c+Math.imul(we,Ee)|0,h=Math.imul(we,Me),y=y+Math.imul(ve,xe)|0,c=c+Math.imul(ve,ke)|0,c=c+Math.imul(be,xe)|0,h=h+Math.imul(be,ke)|0,y=y+Math.imul(ze,Ae)|0,c=c+Math.imul(ze,Ce)|0,c=c+Math.imul(He,Ae)|0,h=h+Math.imul(He,Ce)|0,y=y+Math.imul($e,Re)|0,c=c+Math.imul($e,Ie)|0,c=c+Math.imul(Ue,Re)|0,h=h+Math.imul(Ue,Ie)|0,y=y+Math.imul(pe,Te)|0,c=c+Math.imul(pe,Oe)|0,c=c+Math.imul(ye,Te)|0,h=h+Math.imul(ye,Oe)|0,y=y+Math.imul(he,Ne)|0,c=c+Math.imul(he,Le)|0,c=c+Math.imul(de,Ne)|0,h=h+Math.imul(de,Le)|0,y=y+Math.imul(ue,Pe)|0,c=c+Math.imul(ue,De)|0,c=c+Math.imul(fe,Pe)|0,h=h+Math.imul(fe,De)|0,y=y+Math.imul(J,je)|0,c=c+Math.imul(J,Be)|0,c=c+Math.imul(se,je)|0,h=h+Math.imul(se,Be)|0,y=y+Math.imul(D,Fe)|0,c=c+Math.imul(D,We)|0,c=c+Math.imul(j,Fe)|0,h=h+Math.imul(j,We)|0;var wr=(M+y|0)+((c&8191)<<13)|0;M=(h+(c>>>13)|0)+(wr>>>26)|0,wr&=67108863,y=Math.imul(me,xe),c=Math.imul(me,ke),c=c+Math.imul(we,xe)|0,h=Math.imul(we,ke),y=y+Math.imul(ve,Ae)|0,c=c+Math.imul(ve,Ce)|0,c=c+Math.imul(be,Ae)|0,h=h+Math.imul(be,Ce)|0,y=y+Math.imul(ze,Re)|0,c=c+Math.imul(ze,Ie)|0,c=c+Math.imul(He,Re)|0,h=h+Math.imul(He,Ie)|0,y=y+Math.imul($e,Te)|0,c=c+Math.imul($e,Oe)|0,c=c+Math.imul(Ue,Te)|0,h=h+Math.imul(Ue,Oe)|0,y=y+Math.imul(pe,Ne)|0,c=c+Math.imul(pe,Le)|0,c=c+Math.imul(ye,Ne)|0,h=h+Math.imul(ye,Le)|0,y=y+Math.imul(he,Pe)|0,c=c+Math.imul(he,De)|0,c=c+Math.imul(de,Pe)|0,h=h+Math.imul(de,De)|0,y=y+Math.imul(ue,je)|0,c=c+Math.imul(ue,Be)|0,c=c+Math.imul(fe,je)|0,h=h+Math.imul(fe,Be)|0,y=y+Math.imul(J,Fe)|0,c=c+Math.imul(J,We)|0,c=c+Math.imul(se,Fe)|0,h=h+Math.imul(se,We)|0;var _r=(M+y|0)+((c&8191)<<13)|0;M=(h+(c>>>13)|0)+(_r>>>26)|0,_r&=67108863,y=Math.imul(me,Ae),c=Math.imul(me,Ce),c=c+Math.imul(we,Ae)|0,h=Math.imul(we,Ce),y=y+Math.imul(ve,Re)|0,c=c+Math.imul(ve,Ie)|0,c=c+Math.imul(be,Re)|0,h=h+Math.imul(be,Ie)|0,y=y+Math.imul(ze,Te)|0,c=c+Math.imul(ze,Oe)|0,c=c+Math.imul(He,Te)|0,h=h+Math.imul(He,Oe)|0,y=y+Math.imul($e,Ne)|0,c=c+Math.imul($e,Le)|0,c=c+Math.imul(Ue,Ne)|0,h=h+Math.imul(Ue,Le)|0,y=y+Math.imul(pe,Pe)|0,c=c+Math.imul(pe,De)|0,c=c+Math.imul(ye,Pe)|0,h=h+Math.imul(ye,De)|0,y=y+Math.imul(he,je)|0,c=c+Math.imul(he,Be)|0,c=c+Math.imul(de,je)|0,h=h+Math.imul(de,Be)|0,y=y+Math.imul(ue,Fe)|0,c=c+Math.imul(ue,We)|0,c=c+Math.imul(fe,Fe)|0,h=h+Math.imul(fe,We)|0;var Sr=(M+y|0)+((c&8191)<<13)|0;M=(h+(c>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,y=Math.imul(me,Re),c=Math.imul(me,Ie),c=c+Math.imul(we,Re)|0,h=Math.imul(we,Ie),y=y+Math.imul(ve,Te)|0,c=c+Math.imul(ve,Oe)|0,c=c+Math.imul(be,Te)|0,h=h+Math.imul(be,Oe)|0,y=y+Math.imul(ze,Ne)|0,c=c+Math.imul(ze,Le)|0,c=c+Math.imul(He,Ne)|0,h=h+Math.imul(He,Le)|0,y=y+Math.imul($e,Pe)|0,c=c+Math.imul($e,De)|0,c=c+Math.imul(Ue,Pe)|0,h=h+Math.imul(Ue,De)|0,y=y+Math.imul(pe,je)|0,c=c+Math.imul(pe,Be)|0,c=c+Math.imul(ye,je)|0,h=h+Math.imul(ye,Be)|0,y=y+Math.imul(he,Fe)|0,c=c+Math.imul(he,We)|0,c=c+Math.imul(de,Fe)|0,h=h+Math.imul(de,We)|0;var Er=(M+y|0)+((c&8191)<<13)|0;M=(h+(c>>>13)|0)+(Er>>>26)|0,Er&=67108863,y=Math.imul(me,Te),c=Math.imul(me,Oe),c=c+Math.imul(we,Te)|0,h=Math.imul(we,Oe),y=y+Math.imul(ve,Ne)|0,c=c+Math.imul(ve,Le)|0,c=c+Math.imul(be,Ne)|0,h=h+Math.imul(be,Le)|0,y=y+Math.imul(ze,Pe)|0,c=c+Math.imul(ze,De)|0,c=c+Math.imul(He,Pe)|0,h=h+Math.imul(He,De)|0,y=y+Math.imul($e,je)|0,c=c+Math.imul($e,Be)|0,c=c+Math.imul(Ue,je)|0,h=h+Math.imul(Ue,Be)|0,y=y+Math.imul(pe,Fe)|0,c=c+Math.imul(pe,We)|0,c=c+Math.imul(ye,Fe)|0,h=h+Math.imul(ye,We)|0;var ps=(M+y|0)+((c&8191)<<13)|0;M=(h+(c>>>13)|0)+(ps>>>26)|0,ps&=67108863,y=Math.imul(me,Ne),c=Math.imul(me,Le),c=c+Math.imul(we,Ne)|0,h=Math.imul(we,Le),y=y+Math.imul(ve,Pe)|0,c=c+Math.imul(ve,De)|0,c=c+Math.imul(be,Pe)|0,h=h+Math.imul(be,De)|0,y=y+Math.imul(ze,je)|0,c=c+Math.imul(ze,Be)|0,c=c+Math.imul(He,je)|0,h=h+Math.imul(He,Be)|0,y=y+Math.imul($e,Fe)|0,c=c+Math.imul($e,We)|0,c=c+Math.imul(Ue,Fe)|0,h=h+Math.imul(Ue,We)|0;var gs=(M+y|0)+((c&8191)<<13)|0;M=(h+(c>>>13)|0)+(gs>>>26)|0,gs&=67108863,y=Math.imul(me,Pe),c=Math.imul(me,De),c=c+Math.imul(we,Pe)|0,h=Math.imul(we,De),y=y+Math.imul(ve,je)|0,c=c+Math.imul(ve,Be)|0,c=c+Math.imul(be,je)|0,h=h+Math.imul(be,Be)|0,y=y+Math.imul(ze,Fe)|0,c=c+Math.imul(ze,We)|0,c=c+Math.imul(He,Fe)|0,h=h+Math.imul(He,We)|0;var ys=(M+y|0)+((c&8191)<<13)|0;M=(h+(c>>>13)|0)+(ys>>>26)|0,ys&=67108863,y=Math.imul(me,je),c=Math.imul(me,Be),c=c+Math.imul(we,je)|0,h=Math.imul(we,Be),y=y+Math.imul(ve,Fe)|0,c=c+Math.imul(ve,We)|0,c=c+Math.imul(be,Fe)|0,h=h+Math.imul(be,We)|0;var vs=(M+y|0)+((c&8191)<<13)|0;M=(h+(c>>>13)|0)+(vs>>>26)|0,vs&=67108863,y=Math.imul(me,Fe),c=Math.imul(me,We),c=c+Math.imul(we,Fe)|0,h=Math.imul(we,We);var bs=(M+y|0)+((c&8191)<<13)|0;return M=(h+(c>>>13)|0)+(bs>>>26)|0,bs&=67108863,_[0]=lr,_[1]=fr,_[2]=hr,_[3]=dr,_[4]=pr,_[5]=gr,_[6]=yr,_[7]=vr,_[8]=br,_[9]=mr,_[10]=wr,_[11]=_r,_[12]=Sr,_[13]=Er,_[14]=ps,_[15]=gs,_[16]=ys,_[17]=vs,_[18]=bs,M!==0&&(_[19]=M,g.length++),g};Math.imul||(L=N);function T(b,u,f){f.negative=u.negative^b.negative,f.length=b.length+u.length;for(var g=0,v=0,w=0;w<f.length-1;w++){var _=v;v=0;for(var M=g&67108863,y=Math.min(w,u.length-1),c=Math.max(0,w-b.length+1);c<=y;c++){var h=w-c,x=b.words[h]|0,I=u.words[c]|0,O=x*I,$=O&67108863;_=_+(O/67108864|0)|0,$=$+M|0,M=$&67108863,_=_+($>>>26)|0,v+=_>>>26,_&=67108863}f.words[w]=M,g=_,_=v}return g!==0?f.words[w]=g:f.length--,f._strip()}function W(b,u,f){return T(b,u,f)}o.prototype.mulTo=function(u,f){var g,v=this.length+u.length;return this.length===10&&u.length===10?g=L(this,u,f):v<63?g=N(this,u,f):v<1024?g=T(this,u,f):g=W(this,u,f),g},o.prototype.mul=function(u){var f=new o(null);return f.words=new Array(this.length+u.length),this.mulTo(u,f)},o.prototype.mulf=function(u){var f=new o(null);return f.words=new Array(this.length+u.length),W(this,u,f)},o.prototype.imul=function(u){return this.clone().mulTo(u,this)},o.prototype.imuln=function(u){var f=u<0;f&&(u=-u),n(typeof u=="number"),n(u<67108864);for(var g=0,v=0;v<this.length;v++){var w=(this.words[v]|0)*u,_=(w&67108863)+(g&67108863);g>>=26,g+=w/67108864|0,g+=_>>>26,this.words[v]=_&67108863}return g!==0&&(this.words[v]=g,this.length++),f?this.ineg():this},o.prototype.muln=function(u){return this.clone().imuln(u)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(u){var f=R(u);if(f.length===0)return new o(1);for(var g=this,v=0;v<f.length&&f[v]===0;v++,g=g.sqr());if(++v<f.length)for(var w=g.sqr();v<f.length;v++,w=w.sqr())f[v]!==0&&(g=g.mul(w));return g},o.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var f=u%26,g=(u-f)/26,v=67108863>>>26-f<<26-f,w;if(f!==0){var _=0;for(w=0;w<this.length;w++){var M=this.words[w]&v,y=(this.words[w]|0)-M<<f;this.words[w]=y|_,_=M>>>26-f}_&&(this.words[w]=_,this.length++)}if(g!==0){for(w=this.length-1;w>=0;w--)this.words[w+g]=this.words[w];for(w=0;w<g;w++)this.words[w]=0;this.length+=g}return this._strip()},o.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},o.prototype.iushrn=function(u,f,g){n(typeof u=="number"&&u>=0);var v;f?v=(f-f%26)/26:v=0;var w=u%26,_=Math.min((u-w)/26,this.length),M=67108863^67108863>>>w<<w,y=g;if(v-=_,v=Math.max(0,v),y){for(var c=0;c<_;c++)y.words[c]=this.words[c];y.length=_}if(_!==0)if(this.length>_)for(this.length-=_,c=0;c<this.length;c++)this.words[c]=this.words[c+_];else this.words[0]=0,this.length=1;var h=0;for(c=this.length-1;c>=0&&(h!==0||c>=v);c--){var x=this.words[c]|0;this.words[c]=h<<26-w|x>>>w,h=x&M}return y&&h!==0&&(y.words[y.length++]=h),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(u,f,g){return n(this.negative===0),this.iushrn(u,f,g)},o.prototype.shln=function(u){return this.clone().ishln(u)},o.prototype.ushln=function(u){return this.clone().iushln(u)},o.prototype.shrn=function(u){return this.clone().ishrn(u)},o.prototype.ushrn=function(u){return this.clone().iushrn(u)},o.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var f=u%26,g=(u-f)/26,v=1<<f;if(this.length<=g)return!1;var w=this.words[g];return!!(w&v)},o.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var f=u%26,g=(u-f)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(f!==0&&g++,this.length=Math.min(g,this.length),f!==0){var v=67108863^67108863>>>f<<f;this.words[this.length-1]&=v}return this._strip()},o.prototype.maskn=function(u){return this.clone().imaskn(u)},o.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},o.prototype._iaddn=function(u){this.words[0]+=u;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},o.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this._strip()},o.prototype.addn=function(u){return this.clone().iaddn(u)},o.prototype.subn=function(u){return this.clone().isubn(u)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(u,f,g){var v=u.length+g,w;this._expand(v);var _,M=0;for(w=0;w<u.length;w++){_=(this.words[w+g]|0)+M;var y=(u.words[w]|0)*f;_-=y&67108863,M=(_>>26)-(y/67108864|0),this.words[w+g]=_&67108863}for(;w<this.length-g;w++)_=(this.words[w+g]|0)+M,M=_>>26,this.words[w+g]=_&67108863;if(M===0)return this._strip();for(n(M===-1),M=0,w=0;w<this.length;w++)_=-(this.words[w]|0)+M,M=_>>26,this.words[w]=_&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(u,f){var g=this.length-u.length,v=this.clone(),w=u,_=w.words[w.length-1]|0,M=this._countBits(_);g=26-M,g!==0&&(w=w.ushln(g),v.iushln(g),_=w.words[w.length-1]|0);var y=v.length-w.length,c;if(f!=="mod"){c=new o(null),c.length=y+1,c.words=new Array(c.length);for(var h=0;h<c.length;h++)c.words[h]=0}var x=v.clone()._ishlnsubmul(w,1,y);x.negative===0&&(v=x,c&&(c.words[y]=1));for(var I=y-1;I>=0;I--){var O=(v.words[w.length+I]|0)*67108864+(v.words[w.length+I-1]|0);for(O=Math.min(O/_|0,67108863),v._ishlnsubmul(w,O,I);v.negative!==0;)O--,v.negative=0,v._ishlnsubmul(w,1,I),v.isZero()||(v.negative^=1);c&&(c.words[I]=O)}return c&&c._strip(),v._strip(),f!=="div"&&g!==0&&v.iushrn(g),{div:c||null,mod:v}},o.prototype.divmod=function(u,f,g){if(n(!u.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var v,w,_;return this.negative!==0&&u.negative===0?(_=this.neg().divmod(u,f),f!=="mod"&&(v=_.div.neg()),f!=="div"&&(w=_.mod.neg(),g&&w.negative!==0&&w.iadd(u)),{div:v,mod:w}):this.negative===0&&u.negative!==0?(_=this.divmod(u.neg(),f),f!=="mod"&&(v=_.div.neg()),{div:v,mod:_.mod}):(this.negative&u.negative)!==0?(_=this.neg().divmod(u.neg(),f),f!=="div"&&(w=_.mod.neg(),g&&w.negative!==0&&w.isub(u)),{div:_.div,mod:w}):u.length>this.length||this.cmp(u)<0?{div:new o(0),mod:this}:u.length===1?f==="div"?{div:this.divn(u.words[0]),mod:null}:f==="mod"?{div:null,mod:new o(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new o(this.modrn(u.words[0]))}:this._wordDiv(u,f)},o.prototype.div=function(u){return this.divmod(u,"div",!1).div},o.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},o.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},o.prototype.divRound=function(u){var f=this.divmod(u);if(f.mod.isZero())return f.div;var g=f.div.negative!==0?f.mod.isub(u):f.mod,v=u.ushrn(1),w=u.andln(1),_=g.cmp(v);return _<0||w===1&&_===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},o.prototype.modrn=function(u){var f=u<0;f&&(u=-u),n(u<=67108863);for(var g=(1<<26)%u,v=0,w=this.length-1;w>=0;w--)v=(g*v+(this.words[w]|0))%u;return f?-v:v},o.prototype.modn=function(u){return this.modrn(u)},o.prototype.idivn=function(u){var f=u<0;f&&(u=-u),n(u<=67108863);for(var g=0,v=this.length-1;v>=0;v--){var w=(this.words[v]|0)+g*67108864;this.words[v]=w/u|0,g=w%u}return this._strip(),f?this.ineg():this},o.prototype.divn=function(u){return this.clone().idivn(u)},o.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var f=this,g=u.clone();f.negative!==0?f=f.umod(u):f=f.clone();for(var v=new o(1),w=new o(0),_=new o(0),M=new o(1),y=0;f.isEven()&&g.isEven();)f.iushrn(1),g.iushrn(1),++y;for(var c=g.clone(),h=f.clone();!f.isZero();){for(var x=0,I=1;(f.words[0]&I)===0&&x<26;++x,I<<=1);if(x>0)for(f.iushrn(x);x-- >0;)(v.isOdd()||w.isOdd())&&(v.iadd(c),w.isub(h)),v.iushrn(1),w.iushrn(1);for(var O=0,$=1;(g.words[0]&$)===0&&O<26;++O,$<<=1);if(O>0)for(g.iushrn(O);O-- >0;)(_.isOdd()||M.isOdd())&&(_.iadd(c),M.isub(h)),_.iushrn(1),M.iushrn(1);f.cmp(g)>=0?(f.isub(g),v.isub(_),w.isub(M)):(g.isub(f),_.isub(v),M.isub(w))}return{a:_,b:M,gcd:g.iushln(y)}},o.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var f=this,g=u.clone();f.negative!==0?f=f.umod(u):f=f.clone();for(var v=new o(1),w=new o(0),_=g.clone();f.cmpn(1)>0&&g.cmpn(1)>0;){for(var M=0,y=1;(f.words[0]&y)===0&&M<26;++M,y<<=1);if(M>0)for(f.iushrn(M);M-- >0;)v.isOdd()&&v.iadd(_),v.iushrn(1);for(var c=0,h=1;(g.words[0]&h)===0&&c<26;++c,h<<=1);if(c>0)for(g.iushrn(c);c-- >0;)w.isOdd()&&w.iadd(_),w.iushrn(1);f.cmp(g)>=0?(f.isub(g),v.isub(w)):(g.isub(f),w.isub(v))}var x;return f.cmpn(1)===0?x=v:x=w,x.cmpn(0)<0&&x.iadd(u),x},o.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var f=this.clone(),g=u.clone();f.negative=0,g.negative=0;for(var v=0;f.isEven()&&g.isEven();v++)f.iushrn(1),g.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;g.isEven();)g.iushrn(1);var w=f.cmp(g);if(w<0){var _=f;f=g,g=_}else if(w===0||g.cmpn(1)===0)break;f.isub(g)}while(!0);return g.iushln(v)},o.prototype.invm=function(u){return this.egcd(u).a.umod(u)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(u){return this.words[0]&u},o.prototype.bincn=function(u){n(typeof u=="number");var f=u%26,g=(u-f)/26,v=1<<f;if(this.length<=g)return this._expand(g+1),this.words[g]|=v,this;for(var w=v,_=g;w!==0&&_<this.length;_++){var M=this.words[_]|0;M+=w,w=M>>>26,M&=67108863,this.words[_]=M}return w!==0&&(this.words[_]=w,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(u){var f=u<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this._strip();var g;if(this.length>1)g=1;else{f&&(u=-u),n(u<=67108863,"Number is too big");var v=this.words[0]|0;g=v===u?0:v<u?-1:1}return this.negative!==0?-g|0:g},o.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var f=this.ucmp(u);return this.negative!==0?-f|0:f},o.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var f=0,g=this.length-1;g>=0;g--){var v=this.words[g]|0,w=u.words[g]|0;if(v!==w){v<w?f=-1:v>w&&(f=1);break}}return f},o.prototype.gtn=function(u){return this.cmpn(u)===1},o.prototype.gt=function(u){return this.cmp(u)===1},o.prototype.gten=function(u){return this.cmpn(u)>=0},o.prototype.gte=function(u){return this.cmp(u)>=0},o.prototype.ltn=function(u){return this.cmpn(u)===-1},o.prototype.lt=function(u){return this.cmp(u)===-1},o.prototype.lten=function(u){return this.cmpn(u)<=0},o.prototype.lte=function(u){return this.cmp(u)<=0},o.prototype.eqn=function(u){return this.cmpn(u)===0},o.prototype.eq=function(u){return this.cmp(u)===0},o.red=function(u){return new U(u)},o.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(u){return this.red=u,this},o.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},o.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},o.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},o.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},o.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},o.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},o.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},o.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var G={k256:null,p224:null,p192:null,p25519:null};function V(b,u){this.name=b,this.p=new o(u,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var u=new o(null);return u.words=new Array(Math.ceil(this.n/13)),u},V.prototype.ireduce=function(u){var f=u,g;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),g=f.bitLength();while(g>this.n);var v=g<this.n?-1:f.ucmp(this.p);return v===0?(f.words[0]=0,f.length=1):v>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},V.prototype.split=function(u,f){u.iushrn(this.n,0,f)},V.prototype.imulK=function(u){return u.imul(this.k)};function K(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(K,V),K.prototype.split=function(u,f){for(var g=4194303,v=Math.min(u.length,9),w=0;w<v;w++)f.words[w]=u.words[w];if(f.length=v,u.length<=9){u.words[0]=0,u.length=1;return}var _=u.words[9];for(f.words[f.length++]=_&g,w=10;w<u.length;w++){var M=u.words[w]|0;u.words[w-10]=(M&g)<<4|_>>>22,_=M}_>>>=22,u.words[w-10]=_,_===0&&u.length>10?u.length-=10:u.length-=9},K.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var f=0,g=0;g<u.length;g++){var v=u.words[g]|0;f+=v*977,u.words[g]=f&67108863,f=v*64+(f/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function ge(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(ge,V);function le(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(le,V);function ae(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(ae,V),ae.prototype.imulK=function(u){for(var f=0,g=0;g<u.length;g++){var v=(u.words[g]|0)*19+f,w=v&67108863;v>>>=26,u.words[g]=w,f=v}return f!==0&&(u.words[u.length++]=f),u},o._prime=function(u){if(G[u])return G[u];var f;if(u==="k256")f=new K;else if(u==="p224")f=new ge;else if(u==="p192")f=new le;else if(u==="p25519")f=new ae;else throw new Error("Unknown prime "+u);return G[u]=f,f};function U(b){if(typeof b=="string"){var u=o._prime(b);this.m=u.p,this.prime=u}else n(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}U.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},U.prototype._verify2=function(u,f){n((u.negative|f.negative)===0,"red works only with positives"),n(u.red&&u.red===f.red,"red works only with red numbers")},U.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(p(u,u.umod(this.m)._forceRed(this)),u)},U.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},U.prototype.add=function(u,f){this._verify2(u,f);var g=u.add(f);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},U.prototype.iadd=function(u,f){this._verify2(u,f);var g=u.iadd(f);return g.cmp(this.m)>=0&&g.isub(this.m),g},U.prototype.sub=function(u,f){this._verify2(u,f);var g=u.sub(f);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},U.prototype.isub=function(u,f){this._verify2(u,f);var g=u.isub(f);return g.cmpn(0)<0&&g.iadd(this.m),g},U.prototype.shl=function(u,f){return this._verify1(u),this.imod(u.ushln(f))},U.prototype.imul=function(u,f){return this._verify2(u,f),this.imod(u.imul(f))},U.prototype.mul=function(u,f){return this._verify2(u,f),this.imod(u.mul(f))},U.prototype.isqr=function(u){return this.imul(u,u.clone())},U.prototype.sqr=function(u){return this.mul(u,u)},U.prototype.sqrt=function(u){if(u.isZero())return u.clone();var f=this.m.andln(3);if(n(f%2===1),f===3){var g=this.m.add(new o(1)).iushrn(2);return this.pow(u,g)}for(var v=this.m.subn(1),w=0;!v.isZero()&&v.andln(1)===0;)w++,v.iushrn(1);n(!v.isZero());var _=new o(1).toRed(this),M=_.redNeg(),y=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);this.pow(c,y).cmp(M)!==0;)c.redIAdd(M);for(var h=this.pow(c,v),x=this.pow(u,v.addn(1).iushrn(1)),I=this.pow(u,v),O=w;I.cmp(_)!==0;){for(var $=I,D=0;$.cmp(_)!==0;D++)$=$.redSqr();n(D<O);var j=this.pow(h,new o(1).iushln(O-D-1));x=x.redMul(j),h=j.redSqr(),I=I.redMul(h),O=D}return x},U.prototype.invm=function(u){var f=u._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},U.prototype.pow=function(u,f){if(f.isZero())return new o(1).toRed(this);if(f.cmpn(1)===0)return u.clone();var g=4,v=new Array(1<<g);v[0]=new o(1).toRed(this),v[1]=u;for(var w=2;w<v.length;w++)v[w]=this.mul(v[w-1],u);var _=v[0],M=0,y=0,c=f.bitLength()%26;for(c===0&&(c=26),w=f.length-1;w>=0;w--){for(var h=f.words[w],x=c-1;x>=0;x--){var I=h>>x&1;if(_!==v[0]&&(_=this.sqr(_)),I===0&&M===0){y=0;continue}M<<=1,M|=I,y++,!(y!==g&&(w!==0||x!==0))&&(_=this.mul(_,v[M]),y=0,M=0)}c=26}return _},U.prototype.convertTo=function(u){var f=u.umod(this.m);return f===u?f.clone():f},U.prototype.convertFrom=function(u){var f=u.clone();return f.red=null,f},o.mont=function(u){return new z(u)};function z(b){U.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(z,U),z.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},z.prototype.convertFrom=function(u){var f=this.imod(u.mul(this.rinv));return f.red=null,f},z.prototype.imul=function(u,f){if(u.isZero()||f.isZero())return u.words[0]=0,u.length=1,u;var g=u.imul(f),v=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(v).iushrn(this.shift),_=w;return w.cmp(this.m)>=0?_=w.isub(this.m):w.cmpn(0)<0&&(_=w.iadd(this.m)),_._forceRed(this)},z.prototype.mul=function(u,f){if(u.isZero()||f.isZero())return new o(0)._forceRed(this);var g=u.mul(f),v=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(v).iushrn(this.shift),_=w;return w.cmp(this.m)>=0?_=w.isub(this.m):w.cmpn(0)<0&&(_=w.iadd(this.m)),_._forceRed(this)},z.prototype.invm=function(u){var f=this.imod(u._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(t,X)})(vi);var bi={},nr={},kd=ci;ci.default=ci;ci.stable=gl;ci.stableStringify=gl;var oo="[...]",dl="[Circular]",Pr=[],Rr=[];function pl(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function ci(t,e,r,n){typeof n=="undefined"&&(n=pl()),la(t,"",0,[],void 0,0,n);var i;try{Rr.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,yl(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Pr.length!==0;){var o=Pr.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function ln(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),Pr.push([n,r,e,i])):Rr.push([e,r,t]):(n[r]=t,Pr.push([n,r,e]))}function la(t,e,r,n,i,o,s){o+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){ln(dl,t,e,i);return}if(typeof s.depthLimit!="undefined"&&o>s.depthLimit){ln(oo,t,e,i);return}if(typeof s.edgesLimit!="undefined"&&r+1>s.edgesLimit){ln(oo,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)la(t[a],a,a,n,t,o,s);else{var l=Object.keys(t);for(a=0;a<l.length;a++){var d=l[a];la(t[d],d,a,n,t,o,s)}}n.pop()}}function Ad(t,e){return t<e?-1:t>e?1:0}function gl(t,e,r,n){typeof n=="undefined"&&(n=pl());var i=fa(t,"",0,[],void 0,0,n)||t,o;try{Rr.length===0?o=JSON.stringify(i,e,r):o=JSON.stringify(i,yl(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Pr.length!==0;){var s=Pr.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return o}function fa(t,e,r,n,i,o,s){o+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){ln(dl,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof s.depthLimit!="undefined"&&o>s.depthLimit){ln(oo,t,e,i);return}if(typeof s.edgesLimit!="undefined"&&r+1>s.edgesLimit){ln(oo,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)fa(t[a],a,a,n,t,o,s);else{var l={},d=Object.keys(t).sort(Ad);for(a=0;a<d.length;a++){var p=d[a];fa(t[p],p,a,n,t,o,s),l[p]=t[p]}if(typeof i!="undefined")Pr.push([i,e,t]),i[e]=l;else return l}n.pop()}}function yl(t){return t=typeof t!="undefined"?t:function(e,r){return r},function(e,r){if(Rr.length>0)for(var n=0;n<Rr.length;n++){var i=Rr[n];if(i[1]===e&&i[0]===r){r=i[2],Rr.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(nr,"__esModule",{value:!0});nr.EthereumProviderError=nr.EthereumRpcError=void 0;const Cd=kd;class vl extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return Cd.default(this.serialize(),Td,2)}}nr.EthereumRpcError=vl;class Rd extends vl{constructor(e,r,n){if(!Id(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}nr.EthereumProviderError=Rd;function Id(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function Td(t,e){if(e!=="[Circular]")return e}var Ba={},ir={};Object.defineProperty(ir,"__esModule",{value:!0});ir.errorValues=ir.errorCodes=void 0;ir.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};ir.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},"4001":{standard:"EIP-1193",message:"User rejected the request."},"4100":{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},"4200":{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},"4900":{standard:"EIP-1193",message:"The provider is disconnected from all chains."},"4901":{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=ir,r=nr,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",o={code:n,message:s(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function s(m,E=i){if(Number.isInteger(m)){const k=m.toString();if(S(e.errorValues,k))return e.errorValues[k].message;if(d(m))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return E}t.getMessageFromCode=s;function a(m){if(!Number.isInteger(m))return!1;const E=m.toString();return!!(e.errorValues[E]||d(m))}t.isValidCode=a;function l(m,{fallbackError:E=o,shouldIncludeStack:k=!1}={}){var P,R;if(!E||!Number.isInteger(E.code)||typeof E.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(m instanceof r.EthereumRpcError)return m.serialize();const N={};if(m&&typeof m=="object"&&!Array.isArray(m)&&S(m,"code")&&a(m.code)){const T=m;N.code=T.code,T.message&&typeof T.message=="string"?(N.message=T.message,S(T,"data")&&(N.data=T.data)):(N.message=s(N.code),N.data={originalError:p(m)})}else{N.code=E.code;const T=(P=m)===null||P===void 0?void 0:P.message;N.message=T&&typeof T=="string"?T:E.message,N.data={originalError:p(m)}}const L=(R=m)===null||R===void 0?void 0:R.stack;return k&&m&&L&&typeof L=="string"&&(N.stack=L),N}t.serializeError=l;function d(m){return m>=-32099&&m<=-32e3}function p(m){return m&&typeof m=="object"&&!Array.isArray(m)?Object.assign({},m):m}function S(m,E){return Object.prototype.hasOwnProperty.call(m,E)}})(Ba);var ko={};Object.defineProperty(ko,"__esModule",{value:!0});ko.ethErrors=void 0;const Fa=nr,bl=Ba,at=ir;ko.ethErrors={rpc:{parse:t=>bt(at.errorCodes.rpc.parse,t),invalidRequest:t=>bt(at.errorCodes.rpc.invalidRequest,t),invalidParams:t=>bt(at.errorCodes.rpc.invalidParams,t),methodNotFound:t=>bt(at.errorCodes.rpc.methodNotFound,t),internal:t=>bt(at.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return bt(e,t)},invalidInput:t=>bt(at.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>bt(at.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>bt(at.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>bt(at.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>bt(at.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>bt(at.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Vn(at.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Vn(at.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Vn(at.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Vn(at.errorCodes.provider.disconnected,t),chainDisconnected:t=>Vn(at.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Fa.EthereumProviderError(e,r,n)}}};function bt(t,e){const[r,n]=ml(e);return new Fa.EthereumRpcError(t,r||bl.getMessageFromCode(t),n)}function Vn(t,e){const[r,n]=ml(e);return new Fa.EthereumProviderError(t,r||bl.getMessageFromCode(t),n)}function ml(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=nr;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Ba;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=ko;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=ir;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(bi);var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.EVENTS=void 0;Nn.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Ln={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ha=function(t,e){return ha=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ha(t,e)};function C(t,e){ha(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function mn(t){return typeof t=="function"}var Fu=!1,wt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}Fu=t},get useDeprecatedSynchronousErrorHandling(){return Fu}};function an(t){setTimeout(function(){throw t},0)}var so={closed:!0,next:function(t){},error:function(t){if(wt.useDeprecatedSynchronousErrorHandling)throw t;an(t)},complete:function(){}},dt=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function Wa(t){return t!==null&&typeof t=="object"}var Od=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),Jn=Od,Ve=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,o=r._unsubscribe,s=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var l=n[a];l.remove(this)}if(mn(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(S){e=S instanceof Jn?Wu(S.errors):[S]}}if(dt(s))for(var a=-1,d=s.length;++a<d;){var p=s[a];if(Wa(p))try{p.unsubscribe()}catch(m){e=e||[],m instanceof Jn?e=e.concat(Wu(m.errors)):e.push(m)}}if(e)throw new Jn(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var o=this._subscriptions;return o===null?this._subscriptions=[r]:o.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function Wu(t){return t.reduce(function(e,r){return e.concat(r instanceof Jn?r.errors:r)},[])}var ao=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),F=function(t){C(e,t);function e(r,n,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=so;break;case 1:if(!r){o.destination=so;break}if(typeof r=="object"){r instanceof e?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new $u(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new $u(o,r,n,i);break}return o}return e.prototype[ao]=function(){return this},e.create=function(r,n,i){var o=new e(r,n,i);return o.syncErrorThrowable=!1,o},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(Ve),$u=function(t){C(e,t);function e(r,n,i,o){var s=t.call(this)||this;s._parentSubscriber=r;var a,l=s;return mn(n)?a=n:n&&(a=n.next,i=n.error,o=n.complete,n!==so&&(l=Object.create(n),mn(l.unsubscribe)&&s.add(l.unsubscribe.bind(l)),l.unsubscribe=s.unsubscribe.bind(s))),s._context=l,s._next=a,s._error=i,s._complete=o,s}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!wt.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=wt.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):an(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;an(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!wt.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),wt.useDeprecatedSynchronousErrorHandling)throw i;an(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!wt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(o){return wt.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=o,r.syncErrorThrown=!0,!0):(an(o),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(F);function $a(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof F?t=n:t=null}return!0}function Nd(t,e,r){if(t){if(t instanceof F)return t;if(t[ao])return t[ao]()}return!t&&!e&&!r?new F(so):new F(t,e,r)}var Pn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function or(t){return t}function da(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return wl(t)}function wl(t){return t.length===0?or:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var Y=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,o=Nd(e,r,n);if(i?o.add(i.call(o,this.source)):o.add(this.source||wt.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),wt.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){wt.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),$a(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=Uu(r),new r(function(i,o){var s;s=n.subscribe(function(a){try{e(a)}catch(l){o(l),s&&s.unsubscribe()}},o,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[Pn]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:wl(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=Uu(e),new e(function(n,i){var o;r.subscribe(function(s){return o=s},function(s){return i(s)},function(){return n(o)})})},t.create=function(e){return new t(e)},t}();function Uu(t){if(t||(t=wt.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var Ld=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Zt=Ld,_l=function(t){C(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(Ve),Sl=function(t){C(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(F),tt=function(t){C(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[ao]=function(){return new Sl(this)},e.prototype.lift=function(r){var n=new zu(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new Zt;if(!this.isStopped)for(var n=this.observers,i=n.length,o=n.slice(),s=0;s<i;s++)o[s].next(r)},e.prototype.error=function(r){if(this.closed)throw new Zt;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,o=n.slice(),s=0;s<i;s++)o[s].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Zt;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),o=0;o<n;o++)i[o].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new Zt;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new Zt;return this.hasError?(r.error(this.thrownError),Ve.EMPTY):this.isStopped?(r.complete(),Ve.EMPTY):(this.observers.push(r),new _l(this,r))},e.prototype.asObservable=function(){var r=new Y;return r.source=this,r},e.create=function(r,n){return new zu(r,n)},e}(Y),zu=function(t){C(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):Ve.EMPTY},e}(tt);function Ua(){return function(e){return e.lift(new Pd(e))}}var Pd=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new Dd(e,n),o=r.subscribe(i);return i.closed||(i.connection=n.connect()),o},t}(),Dd=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=r._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(F),El=function(t){C(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new Ve,r.add(this.source.subscribe(new Bd(this.getSubject(),this))),r.closed&&(this._connection=null,r=Ve.EMPTY)),r},e.prototype.refCount=function(){return Ua()(this)},e}(Y),jd=function(){var t=El.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),Bd=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(Sl);function Fd(t,e,r,n){return function(i){return i.lift(new Wd(t,e,r,n))}}var Wd=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new $d(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),$d=function(t){C(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=o,a.subjectSelector=s,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var o=i.get(n),s;if(this.elementSelector)try{s=this.elementSelector(r)}catch(d){this.error(d)}else s=r;if(!o){o=this.subjectSelector?this.subjectSelector():new tt,i.set(n,o);var a=new pa(n,o,this);if(this.destination.next(a),this.durationSelector){var l=void 0;try{l=this.durationSelector(new pa(n,o))}catch(d){this.error(d);return}this.add(l.subscribe(new Ud(n,o,this)))}}o.closed||o.next(s)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,o){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(F),Ud=function(t){C(e,t);function e(r,n,i){var o=t.call(this,n)||this;return o.key=r,o.group=n,o.parent=i,o}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(F),pa=function(t){C(e,t);function e(r,n,i){var o=t.call(this)||this;return o.key=r,o.groupSubject=n,o.refCountSubscription=i,o}return e.prototype._subscribe=function(r){var n=new Ve,i=this,o=i.refCountSubscription,s=i.groupSubject;return o&&!o.closed&&n.add(new zd(o)),n.add(s.subscribe(r)),n},e}(Y),zd=function(t){C(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(Ve),Ml=function(t){C(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Zt;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(tt),Hd=function(t){C(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),this},e}(Ve),mi=function(t){C(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,o=void 0;try{this.work(r)}catch(s){i=!0,o=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),o},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,o=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&i.splice(o,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(Hd),qd=function(t){C(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(mi),ga=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),wi=function(t){C(e,t);function e(r,n){n===void 0&&(n=ga.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(ga),Vd=function(t){C(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(wi),xl=new Vd(qd),kl=xl,wn=new Y(function(t){return t.complete()});function Dn(t){return t?Gd(t):wn}function Gd(t){return new Y(function(e){return t.schedule(function(){return e.complete()})})}function vt(t){return t&&typeof t.schedule=="function"}var Al=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function za(t,e){return new Y(function(r){var n=new Ve,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function _i(t,e){return e?za(t,e):new Y(Al(t))}function Ao(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return vt(r)?(t.pop(),za(t,r)):_i(t)}function Ha(t,e){return e?new Y(function(r){return e.schedule(Qd,0,{error:t,subscriber:r})}):new Y(function(r){return r.error(t)})}function Qd(t){var e=t.error,r=t.subscriber;r.error(e)}var ya;ya||(ya={});var Wt=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return Ao(this.value);case"E":return Ha(this.error);case"C":return Dn()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e!="undefined"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function Yd(t,e){return e===void 0&&(e=0),function(n){return n.lift(new Kd(t,e))}}var Kd=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new Cl(e,this.scheduler,this.delay))},t}(),Cl=function(t){C(e,t);function e(r,n,i){i===void 0&&(i=0);var o=t.call(this,r)||this;return o.scheduler=n,o.delay=i,o}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new Jd(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(Wt.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(Wt.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Wt.createComplete()),this.unsubscribe()},e}(F),Jd=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),qa=function(t){C(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var o=t.call(this)||this;return o.scheduler=i,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=r<1?1:r,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new Zd(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,s=i.length,a;if(this.closed)throw new Zt;if(this.isStopped||this.hasError?a=Ve.EMPTY:(this.observers.push(r),a=new _l(this,r)),o&&r.add(r=new Cl(r,o)),n)for(var l=0;l<s&&!r.closed;l++)r.next(i[l]);else for(var l=0;l<s&&!r.closed;l++)r.next(i[l].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||kl).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,o=this._events,s=o.length,a=0;a<s&&!(r-o[a].time<i);)a++;return s>n&&(a=Math.max(a,s-n)),a>0&&o.splice(0,a),o},e}(tt),Zd=function(){function t(e,r){this.time=e,this.value=r}return t}(),jn=function(t){C(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),Ve.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),Ve.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(tt),Xd=1,ep=function(){return Promise.resolve()}(),va={};function Hu(t){return t in va?(delete va[t],!0):!1}var qu={setImmediate:function(t){var e=Xd++;return va[e]=!0,ep.then(function(){return Hu(e)&&t()}),e},clearImmediate:function(t){Hu(t)}},tp=function(t){C(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=qu.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(qu.clearImmediate(n),r.scheduled=void 0)},e}(mi),rp=function(t){C(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,s=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++o<s&&(r=n.shift()));if(this.active=!1,i){for(;++o<s&&(r=n.shift());)r.unsubscribe();throw i}},e}(wi),Rl=new rp(tp),Ki=Rl,Il=new wi(mi),pt=Il,np=function(t){C(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(mi),ip=function(t){C(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,s=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++o<s&&(r=n.shift()));if(this.active=!1,i){for(;++o<s&&(r=n.shift());)r.unsubscribe();throw i}},e}(wi),Tl=new ip(np),op=Tl,sp=function(t){C(e,t);function e(r,n){r===void 0&&(r=Ol),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,o,s;(s=n[0])&&s.delay<=i&&(n.shift(),this.frame=s.delay,!(o=s.execute(s.state,s.delay))););if(o){for(;s=n.shift();)s.unsubscribe();throw o}},e.frameTimeFactor=10,e}(wi),Ol=function(t){C(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var o=t.call(this,r,n)||this;return o.scheduler=r,o.work=n,o.index=i,o.active=!0,o.index=r.index=i,o}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var o=r.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){i===void 0&&(i=0)},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(mi);function Ot(){}function ap(t){return!!t&&(t instanceof Y||typeof t.lift=="function"&&typeof t.subscribe=="function")}var up=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),_n=up,cp=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Si=cp,lp=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),Nl=lp;function Et(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new fp(t,e))}}var fp=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new hp(e,this.project,this.thisArg))},t}(),hp=function(t){C(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.project=n,o.count=0,o.thisArg=i||o,o}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(F);function Ll(t,e,r){if(e)if(vt(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Ll(t,r).apply(void 0,n).pipe(Et(function(o){return dt(o)?e.apply(void 0,o):e(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this,s,a={context:o,subject:s,callbackFunc:t,scheduler:r};return new Y(function(l){if(r){var p={args:n,subscriber:l,params:a};return r.schedule(dp,0,p)}else{if(!s){s=new jn;var d=function(){for(var S=[],m=0;m<arguments.length;m++)S[m]=arguments[m];s.next(S.length<=1?S[0]:S),s.complete()};try{t.apply(o,n.concat([d]))}catch(S){$a(s)?s.error(S):console.warn(S)}}return s.subscribe(l)}})}}function dp(t){var e=this,r=t.args,n=t.subscriber,i=t.params,o=i.callbackFunc,s=i.context,a=i.scheduler,l=i.subject;if(!l){l=i.subject=new jn;var d=function(){for(var p=[],S=0;S<arguments.length;S++)p[S]=arguments[S];var m=p.length<=1?p[0]:p;e.add(a.schedule(pp,0,{value:m,subject:l}))};try{o.apply(s,r.concat([d]))}catch(p){l.error(p)}}this.add(l.subscribe(n))}function pp(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Pl(t,e,r){if(e)if(vt(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Pl(t,r).apply(void 0,n).pipe(Et(function(o){return dt(o)?e.apply(void 0,o):e(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new Y(function(s){var a=o.context,l=o.subject;if(r)return r.schedule(gp,0,{params:o,subscriber:s,context:a});if(!l){l=o.subject=new jn;var d=function(){for(var p=[],S=0;S<arguments.length;S++)p[S]=arguments[S];var m=p.shift();if(m){l.error(m);return}l.next(p.length<=1?p[0]:p),l.complete()};try{t.apply(a,n.concat([d]))}catch(p){$a(l)?l.error(p):console.warn(p)}}return l.subscribe(s)})}}function gp(t){var e=this,r=t.params,n=t.subscriber,i=t.context,o=r.callbackFunc,s=r.args,a=r.scheduler,l=r.subject;if(!l){l=r.subject=new jn;var d=function(){for(var p=[],S=0;S<arguments.length;S++)p[S]=arguments[S];var m=p.shift();if(m)e.add(a.schedule(Vu,0,{err:m,subject:l}));else{var E=p.length<=1?p[0]:p;e.add(a.schedule(yp,0,{value:E,subject:l}))}};try{o.apply(i,s.concat([d]))}catch(p){this.add(a.schedule(Vu,0,{err:p,subject:l}))}}this.add(l.subscribe(n))}function yp(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Vu(t){var e=t.err,r=t.subject;r.error(e)}var Wr=function(t){C(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,o,s){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(F),vp=function(t){C(e,t);function e(r,n,i){var o=t.call(this)||this;return o.parent=r,o.outerValue=n,o.outerIndex=i,o.index=0,o}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(F),bp=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,an),e}};function mp(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var sr=mp(),wp=function(t){return function(e){var r=t[sr]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},_p=function(t){return function(e){var r=t[Pn]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},Dl=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function jl(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var li=function(t){if(!!t&&typeof t[Pn]=="function")return _p(t);if(Dl(t))return Al(t);if(jl(t))return bp(t);if(!!t&&typeof t[sr]=="function")return wp(t);var e=Wa(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function $t(t,e,r,n,i){if(i===void 0&&(i=new vp(t,r,n)),!i.closed)return e instanceof Y?e.subscribe(i):li(e)(i)}var Gu={};function Sp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return vt(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&dt(t[0])&&(t=t[0]),_i(t,n).lift(new Va(r))}var Va=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Ep(e,this.resultSelector))},t}(),Ep=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(Gu),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var o=r[i];this.add($t(this,o,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var o=this.values,s=o[i],a=this.toRespond?s===Gu?--this.toRespond:this.toRespond:0;o[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Wr);function Mp(t,e){return new Y(function(r){var n=new Ve;return n.add(e.schedule(function(){var i=t[Pn]();n.add(i.subscribe({next:function(o){n.add(e.schedule(function(){return r.next(o)}))},error:function(o){n.add(e.schedule(function(){return r.error(o)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function xp(t,e){return new Y(function(r){var n=new Ve;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function kp(t,e){if(!t)throw new Error("Iterable cannot be null");return new Y(function(r){var n=new Ve,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[sr](),n.add(e.schedule(function(){if(!r.closed){var o,s;try{var a=i.next();o=a.value,s=a.done}catch(l){r.error(l);return}s?r.complete():(r.next(o),this.schedule())}}))})),n})}function Ap(t){return t&&typeof t[Pn]=="function"}function Cp(t){return t&&typeof t[sr]=="function"}function Bl(t,e){if(t!=null){if(Ap(t))return Mp(t,e);if(jl(t))return xp(t,e);if(Dl(t))return za(t,e);if(Cp(t)||typeof t=="string")return kp(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function zt(t,e){return e?Bl(t,e):t instanceof Y?t:new Y(li(t))}var Ke=function(t){C(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(F),Je=function(t){C(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(F);function Ze(t,e){if(!e.closed){if(t instanceof Y)return t.subscribe(e);var r;try{r=li(t)(e)}catch(n){e.error(n)}return r}}function Dr(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(Dr(function(i,o){return zt(t(i,o)).pipe(Et(function(s,a){return e(i,s,o,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new Rp(t,r))})}var Rp=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new Ip(e,this.project,this.concurrent))},t}(),Ip=function(t){C(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(o){this.destination.error(o);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new Ke(this),i=this.destination;i.add(n);var o=Ze(r,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(Je),Tp=Dr;function Ga(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),Dr(or,t)}function Fl(){return Ga(1)}function fi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Fl()(Ao.apply(void 0,t))}function Qa(t){return new Y(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?zt(r):Dn();return n.subscribe(e)})}function Op(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(dt(r))return ji(r,null);if(Wa(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return ji(n.map(function(o){return r[o]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&dt(t[0])?t[0]:t,ji(t,null).pipe(Et(function(o){return i.apply(void 0,o)}))}return ji(t,null)}function ji(t,e){return new Y(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),o=0,s=0,a=function(d){var p=zt(t[d]),S=!1;r.add(p.subscribe({next:function(m){S||(S=!0,s++),i[d]=m},error:function(m){return r.error(m)},complete:function(){o++,(o===n||!S)&&(s===n&&r.next(e?e.reduce(function(m,E,k){return m[E]=i[k],m},{}):i),r.complete())}}))},l=0;l<n;l++)a(l)})}function Wl(t,e,r,n){return mn(r)&&(n=r,r=void 0),n?Wl(t,e,r).pipe(Et(function(i){return dt(i)?n.apply(void 0,i):n(i)})):new Y(function(i){function o(s){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(s)}$l(t,e,o,i,r)})}function $l(t,e,r,n,i){var o;if(Pp(t)){var s=t;t.addEventListener(e,r,i),o=function(){return s.removeEventListener(e,r,i)}}else if(Lp(t)){var a=t;t.on(e,r),o=function(){return a.off(e,r)}}else if(Np(t)){var l=t;t.addListener(e,r),o=function(){return l.removeListener(e,r)}}else if(t&&t.length)for(var d=0,p=t.length;d<p;d++)$l(t[d],e,r,n,i);else throw new TypeError("Invalid event target");n.add(o)}function Np(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function Lp(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function Pp(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function Ul(t,e,r){return r?Ul(t,e).pipe(Et(function(n){return dt(n)?r.apply(void 0,n):r(n)})):new Y(function(n){var i=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return n.next(s.length===1?s[0]:s)},o;try{o=t(i)}catch(s){n.error(s);return}if(!!mn(e))return function(){return e(i,o)}})}function Dp(t,e,r,n,i){var o,s;if(arguments.length==1){var a=t;s=a.initialState,e=a.condition,r=a.iterate,o=a.resultSelector||or,i=a.scheduler}else n===void 0||vt(n)?(s=t,o=or,i=n):(s=t,o=n);return new Y(function(l){var d=s;if(i)return i.schedule(jp,0,{subscriber:l,iterate:r,condition:e,resultSelector:o,state:d});do{if(e){var p=void 0;try{p=e(d)}catch(m){l.error(m);return}if(!p){l.complete();break}}var S=void 0;try{S=o(d)}catch(m){l.error(m);return}if(l.next(S),l.closed)break;try{d=r(d)}catch(m){l.error(m);return}}while(!0)})}function jp(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(o){e.error(o);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(o){e.error(o);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(o){e.error(o);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function Bp(t,e,r){return e===void 0&&(e=wn),r===void 0&&(r=wn),Qa(function(){return t()?e:r})}function Sn(t){return!dt(t)&&t-parseFloat(t)+1>=0}function Fp(t,e){return t===void 0&&(t=0),e===void 0&&(e=pt),(!Sn(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=pt),new Y(function(r){return r.add(e.schedule(Wp,t,{subscriber:r,counter:0,period:t})),r})}function Wp(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function zl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return vt(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof Y?t[0]:Ga(r)(_i(t,n))}var Hl=new Y(Ot);function $p(){return Hl}function ba(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return wn;var r=t[0],n=t.slice(1);return t.length===1&&dt(r)?ba.apply(void 0,r):new Y(function(i){var o=function(){return i.add(ba.apply(void 0,n).subscribe(i))};return zt(r).subscribe({next:function(s){i.next(s)},error:o,complete:o})})}function Up(t,e){return e?new Y(function(r){var n=Object.keys(t),i=new Ve;return i.add(e.schedule(zp,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new Y(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var o=n[i];t.hasOwnProperty(o)&&r.next([o,t[o]])}r.complete()})}function zp(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,o=t.obj;if(!n.closed)if(r<e.length){var s=e[r];n.next([s,o[s]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:o}))}else n.complete()}function ql(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function ar(t,e){return function(n){return n.lift(new Hp(t,e))}}var Hp=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new qp(e,this.predicate,this.thisArg))},t}(),qp=function(t){C(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.count=0,o}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(F);function Vp(t,e,r){return[ar(e,r)(new Y(li(t))),ar(ql(e,r))(new Y(li(t)))]}function Vl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(dt(t[0]))t=t[0];else return t[0];return _i(t,void 0).lift(new Gp)}var Gp=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Qp(e))},t}(),Qp=function(t){C(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var o=r[i],s=$t(this,o,void 0,i);this.subscriptions&&this.subscriptions.push(s),this.add(s)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==i){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(n)},e}(Wr);function Yp(t,e,r){return t===void 0&&(t=0),new Y(function(n){e===void 0&&(e=t,t=0);var i=0,o=t;if(r)return r.schedule(Kp,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(o++),n.closed)break}while(!0)})}function Kp(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function Gl(t,e,r){t===void 0&&(t=0);var n=-1;return Sn(e)?n=Number(e)<1&&1||Number(e):vt(e)&&(r=e),vt(r)||(r=pt),new Y(function(i){var o=Sn(t)?t:+t-r.now();return r.schedule(Jp,o,{index:0,period:n,subscriber:i})})}function Jp(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function Zp(t,e){return new Y(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var o=i?zt(i):wn,s=o.subscribe(r);return function(){s.unsubscribe(),n&&n.unsubscribe()}})}function Ql(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),_i(t,void 0).lift(new Yl(r))}var Yl=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Xp(e,this.resultSelector))},t}(),Xp=function(t){C(e,t);function e(r,n,i){i===void 0&&(i=Object.create(null));var o=t.call(this,r)||this;return o.resultSelector=n,o.iterators=[],o.active=0,o.resultSelector=typeof n=="function"?n:void 0,o}return e.prototype._next=function(r){var n=this.iterators;dt(r)?n.push(new t0(r)):typeof r[sr]=="function"?n.push(new e0(r[sr]())):n.push(new r0(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var o=r[i];if(o.stillUnsubscribed){var s=this.destination;s.add(o.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,o=0;o<n;o++){var s=r[o];if(typeof s.hasValue=="function"&&!s.hasValue())return}for(var a=!1,l=[],o=0;o<n;o++){var s=r[o],d=s.next();if(s.hasCompleted()&&(a=!0),d.done){i.complete();return}l.push(d.value)}this.resultSelector?this._tryresultSelector(l):i.next(l),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(F),e0=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),t0=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[sr]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),r0=function(t){C(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.parent=n,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return e.prototype[sr]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return Ze(this.observable,new Ke(this))},e}(Je),n0=Object.freeze(Object.defineProperty({__proto__:null,Observable:Y,ConnectableObservable:El,GroupedObservable:pa,observable:Pn,Subject:tt,BehaviorSubject:Ml,ReplaySubject:qa,AsyncSubject:jn,asap:Ki,asapScheduler:Rl,async:pt,asyncScheduler:Il,queue:kl,queueScheduler:xl,animationFrame:op,animationFrameScheduler:Tl,VirtualTimeScheduler:sp,VirtualAction:Ol,Scheduler:ga,Subscription:Ve,Subscriber:F,Notification:Wt,get NotificationKind(){return ya},pipe:da,noop:Ot,identity:or,isObservable:ap,ArgumentOutOfRangeError:_n,EmptyError:Si,ObjectUnsubscribedError:Zt,UnsubscriptionError:Jn,TimeoutError:Nl,bindCallback:Ll,bindNodeCallback:Pl,combineLatest:Sp,concat:fi,defer:Qa,empty:Dn,forkJoin:Op,from:zt,fromEvent:Wl,fromEventPattern:Ul,generate:Dp,iif:Bp,interval:Fp,merge:zl,never:$p,of:Ao,onErrorResumeNext:ba,pairs:Up,partition:Vp,race:Vl,range:Yp,throwError:Ha,timer:Gl,using:Zp,zip:Ql,scheduled:Bl,EMPTY:wn,NEVER:Hl,config:wt},Symbol.toStringTag,{value:"Module"})),Bn=Fr(n0);function Kl(t){return function(r){return r.lift(new i0(t))}}var i0=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new o0(e,this.durationSelector))},t}(),o0=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(s){return this.destination.error(s)}var o=Ze(n,new Ke(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,o=r.throttled;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(Je);function s0(t,e){return e===void 0&&(e=pt),Kl(function(){return Gl(t,e)})}function a0(t){return function(r){return r.lift(new u0(t))}}var u0=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new c0(e,this.closingNotifier))},t}(),c0=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(Ze(n,new Ke(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(Je);function l0(t,e){return e===void 0&&(e=null),function(n){return n.lift(new f0(t,e))}}var f0=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=h0:this.subscriberClass=d0}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),h0=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(F),d0=function(t){C(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.bufferSize=n,o.startBufferEvery=i,o.buffers=[],o.count=0,o}return e.prototype._next=function(r){var n=this,i=n.bufferSize,o=n.startBufferEvery,s=n.buffers,a=n.count;this.count++,a%o===0&&s.push([]);for(var l=s.length;l--;){var d=s[l];d.push(r),d.length===i&&(s.splice(l,1),this.destination.next(d))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var o=n.shift();o.length>0&&i.next(o)}t.prototype._complete.call(this)},e}(F);function p0(t){var e=arguments.length,r=pt;vt(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(s){return s.lift(new g0(t,n,i,r))}}var g0=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new v0(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),y0=function(){function t(){this.buffer=[]}return t}(),v0=function(t){C(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=o,a.scheduler=s,a.contexts=[];var l=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var d={subscriber:a,context:l,bufferTimeSpan:n};a.add(l.closeAction=s.schedule(Qu,n,d))}else{var p={subscriber:a,context:l},S={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:s};a.add(l.closeAction=s.schedule(Jl,n,p)),a.add(s.schedule(b0,i,S))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,o,s=0;s<i;s++){var a=n[s],l=a.buffer;l.push(r),l.length==this.maxBufferSize&&(o=a)}o&&this.onBufferFull(o)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var o=n.shift();i.next(o.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,o={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(Qu,i,o))}},e.prototype.openContext=function(){var r=new y0;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(F);function Qu(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function b0(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,o=n.openContext(),s=this;n.closed||(n.add(o.closeAction=i.schedule(Jl,r,{subscriber:n,context:o})),s.schedule(t,e))}function Jl(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function m0(t,e){return function(n){return n.lift(new w0(t,e))}}var w0=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new _0(e,this.openings,this.closingSelector))},t}(),_0=function(t){C(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.closingSelector=i,o.contexts=[],o.add($t(o,n)),o}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,o=0;o<i;o++)n[o].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(o){this._error(o)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,o=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(o),o.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],o=new Ve,s={buffer:i,subscription:o};n.push(s);var a=$t(this,r,s);!a||a.closed?this.closeBuffer(s):(a.context=s,this.add(a),o.add(a))},e}(Wr);function S0(t){return function(e){return e.lift(new E0(t))}}var E0=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new M0(e,this.closingSelector))},t}(),M0=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var o=this.closingSelector;i=o()}catch(s){return this.error(s)}r=new Ve,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(Ze(i,new Ke(this))),this.subscribing=!1},e}(Je);function x0(t){return function(r){var n=new k0(t),i=r.lift(n);return n.caught=i}}var k0=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new A0(e,this.selector,this.caught))},t}(),A0=function(t){C(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.selector=n,o.caught=i,o}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(s){t.prototype.error.call(this,s);return}this._unsubscribeAndRecycle();var i=new Ke(this);this.add(i);var o=Ze(n,i);o!==i&&this.add(o)}},e}(Je);function C0(t){return function(e){return e.lift(new Va(t))}}function R0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&dt(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(zt([n].concat(t)),new Va(r))}}function I0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(fi.apply(void 0,[r].concat(t)))}}function Zl(t,e){return Dr(t,e,1)}function T0(t,e){return Zl(function(){return t},e)}function O0(t){return function(e){return e.lift(new N0(t,e))}}var N0=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new L0(e,this.predicate,this.source))},t}(),L0=function(t){C(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.predicate=n,o.source=i,o.count=0,o.index=0,o}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(F);function P0(t){return function(e){return e.lift(new D0(t))}}var D0=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new j0(e,this.durationSelector))},t}(),j0=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=Ze(n,new Ke(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(Je);function B0(t,e){return e===void 0&&(e=pt),function(r){return r.lift(new F0(t,e))}}var F0=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new W0(e,this.dueTime,this.scheduler))},t}(),W0=function(t){C(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.dueTime=n,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule($0,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(F);function $0(t){t.debouncedNext()}function Ei(t){return t===void 0&&(t=null),function(e){return e.lift(new U0(t))}}var U0=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new z0(e,this.defaultValue))},t}(),z0=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(F);function Xl(t){return t instanceof Date&&!isNaN(+t)}function H0(t,e){e===void 0&&(e=pt);var r=Xl(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new q0(n,e))}}var q0=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new V0(e,this.delay,this.scheduler))},t}(),V0=function(t){C(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.delay=n,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return e.dispatch=function(r){for(var n=r.source,i=n.queue,o=r.scheduler,s=r.destination;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(s);if(i.length>0){var a=Math.max(0,i[0].time-o.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new G0(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(Wt.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(Wt.createComplete()),this.unsubscribe()},e}(F),G0=function(){function t(e,r){this.time=e,this.notification=r}return t}();function Q0(t,e){return e?function(r){return new K0(r,e).lift(new Yu(t))}:function(r){return r.lift(new Yu(t))}}var Yu=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Y0(e,this.delayDurationSelector))},t}(),Y0=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,o,s){this.destination.next(r),this.removeSubscription(s),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(o){this.destination.error(o)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=$t(this,r,n);if(i&&!i.closed){var o=this.destination;o.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Wr),K0=function(t){C(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new J0(r,this.source))},e}(Y),J0=function(t){C(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(F);function Z0(){return function(e){return e.lift(new X0)}}var X0=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new eg(e))},t}(),eg=function(t){C(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(F);function tg(t,e){return function(r){return r.lift(new rg(t,e))}}var rg=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new ng(e,this.keySelector,this.flushes))},t}(),ng=function(t){C(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.keySelector=n,o.values=new Set,i&&o.add(Ze(i,new Ke(o))),o}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(o){i.error(o);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(Je);function ef(t,e){return function(r){return r.lift(new ig(t,e))}}var ig=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new og(e,this.compare,this.keySelector))},t}(),og=function(t){C(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.keySelector=i,o.hasKey=!1,typeof n=="function"&&(o.compare=n),o}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var o=!1;if(this.hasKey)try{var s=this.compare;o=s(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;o||(this.key=n,this.destination.next(r))},e}(F);function sg(t,e){return ef(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function Co(t){return t===void 0&&(t=cg),function(e){return e.lift(new ag(t))}}var ag=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new ug(e,this.errorFactory))},t}(),ug=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(F);function cg(){return new Si}function Ya(t){return function(e){return t===0?Dn():e.lift(new lg(t))}}var lg=function(){function t(e){if(this.total=e,this.total<0)throw new _n}return t.prototype.call=function(e,r){return r.subscribe(new fg(e,this.total))},t}(),fg=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(F);function hg(t,e){if(t<0)throw new _n;var r=arguments.length>=2;return function(n){return n.pipe(ar(function(i,o){return o===t}),Ya(1),r?Ei(e):Co(function(){return new _n}))}}function dg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return fi(r,Ao.apply(void 0,t))}}function pg(t,e){return function(r){return r.lift(new gg(t,e,r))}}var gg=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new yg(e,this.predicate,this.thisArg,this.source))},t}(),yg=function(t){C(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.source=o,s.index=0,s.thisArg=i||s,s}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(F);function vg(){return function(t){return t.lift(new bg)}}var bg=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new mg(e))},t}(),mg=function(t){C(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(Ze(r,new Ke(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Je);function tf(t,e){return e?function(r){return r.pipe(tf(function(n,i){return zt(t(n,i)).pipe(Et(function(o,s){return e(n,o,i,s)}))}))}:function(r){return r.lift(new wg(t))}}var wg=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new _g(e,this.project))},t}(),_g=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(o){this.destination.error(o);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new Ke(this),i=this.destination;i.add(n);var o=Ze(r,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Je);function Sg(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new Eg(t,e,r))}}var Eg=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new Mg(e,this.project,this.concurrent,this.scheduler))},t}(),Mg=function(t){C(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.scheduler=o,s.index=0,s.active=0,s.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(s.buffer=[]),s}return e.dispatch=function(r){var n=r.subscriber,i=r.result,o=r.value,s=r.index;n.subscribeToProjection(i,o,s)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var o=this.project,s=o(r,i);if(!this.scheduler)this.subscribeToProjection(s,r,i);else{var a={subscriber:this,result:s,value:r,index:i},l=this.destination;l.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(d){n.error(d)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var o=this.destination;o.add(Ze(r,new Ke(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(Je);function xg(t){return function(e){return e.lift(new kg(t))}}var kg=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new Ag(e,this.callback))},t}(),Ag=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new Ve(n)),i}return e}(F);function Cg(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new rf(t,r,!1,e))}}var rf=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new Rg(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),Rg=function(t){C(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=o,a.thisArg=s,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,o=n.thisArg,s=this.index++;try{var a=i.call(o||this,r,s,this.source);a&&this.notifyComplete(this.yieldIndex?s:r)}catch(l){this.destination.error(l)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(F);function Ig(t,e){return function(r){return r.lift(new rf(t,r,!0,e))}}function Tg(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?ar(function(i,o){return t(i,o,n)}):or,Ya(1),r?Ei(e):Co(function(){return new Si}))}}function Og(){return function(e){return e.lift(new Ng)}}var Ng=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Lg(e))},t}(),Lg=function(t){C(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(F);function Pg(){return function(t){return t.lift(new Dg)}}var Dg=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new jg(e))},t}(),jg=function(t){C(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(F);function uo(t){return function(r){return t===0?Dn():r.lift(new Bg(t))}}var Bg=function(){function t(e){if(this.total=e,this.total<0)throw new _n}return t.prototype.call=function(e,r){return r.subscribe(new Fg(e,this.total))},t}(),Fg=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,o=this.count++;if(n.length<i)n.push(r);else{var s=o%i;n[s]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,o=this.ring,s=0;s<i;s++){var a=n++%i;r.next(o[a])}r.complete()},e}(F);function Wg(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?ar(function(i,o){return t(i,o,n)}):or,uo(1),r?Ei(e):Co(function(){return new Si}))}}function $g(t){return function(e){return e.lift(new Ug(t))}}var Ug=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new zg(e,this.value))},t}(),zg=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(F);function Hg(){return function(e){return e.lift(new qg)}}var qg=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Vg(e))},t}(),Vg=function(t){C(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(Wt.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(Wt.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(Wt.createComplete()),r.complete()},e}(F);function co(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new Gg(t,e,r))}}var Gg=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new Qg(e,this.accumulator,this.seed,this.hasSeed))},t}(),Qg=function(t){C(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.accumulator=n,s._seed=i,s.hasSeed=o,s.index=0,s}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(o){this.destination.error(o)}this.seed=i,this.destination.next(i)},e}(F);function Ro(t,e){return arguments.length>=2?function(n){return da(co(t,e),uo(1),Ei(e))(n)}:function(n){return da(co(function(i,o,s){return t(i,o,s+1)}),uo(1))(n)}}function Yg(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return Ro(e)}function Kg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(zl.apply(void 0,[r].concat(t)))}}function Jg(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?Dr(function(){return t},e,r):(typeof e=="number"&&(r=e),Dr(function(){return t},r))}function Zg(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new Xg(t,e,r))}}var Xg=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new ey(e,this.accumulator,this.seed,this.concurrent))},t}(),ey=function(t){C(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.accumulator=n,s.acc=i,s.concurrent=o,s.hasValue=!1,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,o=void 0;try{var s=this.accumulator;o=s(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(o)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new Ke(this),i=this.destination;i.add(n);var o=Ze(r,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(Je);function ty(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return Ro(e)}function jr(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new ry(i,e));var o=Object.create(n,jd);return o.source=n,o.subjectFactory=i,o}}var ry=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),o=n(i).subscribe(e);return o.add(r.subscribe(i)),o},t}();function ny(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&dt(t[0])&&(t=t[0]),function(r){return r.lift(new iy(t))}}var iy=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new oy(e,this.nextSources))},t}(),oy=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new Ke(this),i=this.destination;i.add(n);var o=Ze(r,n);o!==n&&i.add(o)}else this.destination.complete()},e}(Je);function sy(){return function(t){return t.lift(new ay)}}var ay=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new uy(e))},t}(),uy=function(t){C(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(F);function cy(t,e){return function(r){return[ar(t,e)(r),ar(ql(t,e))(r)]}}function ly(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return Et(fy(t,r))(n)}}function fy(t,e){var r=function(n){for(var i=n,o=0;o<e;o++){var s=i!=null?i[t[o]]:void 0;if(s!==void 0)i=s;else return}return i};return r}function hy(t){return t?jr(function(){return new tt},t):jr(new tt)}function dy(t){return function(e){return jr(new Ml(t))(e)}}function py(){return function(t){return jr(new jn)(t)}}function gy(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,o=new qa(t,e,n);return function(s){return jr(function(){return o},i)(s)}}function yy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&dt(t[0])&&(t=t[0]),n.lift.call(Vl.apply(void 0,[n].concat(t)))}}function vy(t){return t===void 0&&(t=-1),function(e){return t===0?Dn():t<0?e.lift(new Ku(-1,e)):e.lift(new Ku(t-1,e))}}var Ku=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new by(e,this.count,this.source))},t}(),by=function(t){C(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.count=n,o.source=i,o}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(F);function my(t){return function(e){return e.lift(new wy(t))}}var wy=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new _y(e,this.notifier,r))},t}(),_y=function(t){C(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.notifier=n,o.source=i,o.sourceIsBeingSubscribedTo=!0,o}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new tt;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=Ze(r,new Ke(this))},e}(Je);function Sy(t){return t===void 0&&(t=-1),function(e){return e.lift(new Ey(t,e))}}var Ey=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new My(e,this.count,this.source))},t}(),My=function(t){C(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.count=n,o.source=i,o}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,o=n.count;if(o===0)return t.prototype.error.call(this,r);o>-1&&(this.count=o-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(F);function xy(t){return function(e){return e.lift(new ky(t,e))}}var ky=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Ay(e,this.notifier,this.source))},t}(),Ay=function(t){C(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.notifier=n,o.source=i,o}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,o=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new tt;try{var s=this.notifier;i=s(n)}catch(a){return t.prototype.error.call(this,a)}o=Ze(i,new Ke(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=o,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(Je);function Cy(t){return function(e){return e.lift(new Ry(t))}}var Ry=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new Iy(e),i=r.subscribe(n);return i.add(Ze(this.notifier,new Ke(n))),i},t}(),Iy=function(t){C(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(Je);function Ty(t,e){return e===void 0&&(e=pt),function(r){return r.lift(new Oy(t,e))}}var Oy=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new Ny(e,this.period,this.scheduler))},t}(),Ny=function(t){C(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.period=n,o.scheduler=i,o.hasValue=!1,o.add(i.schedule(Ly,n,{subscriber:o,period:n})),o}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(F);function Ly(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function Py(t,e){return function(r){return r.lift(new Dy(t,e))}}var Dy=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new jy(e,this.compareTo,this.comparator))},t}(),jy=function(t){C(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.compareTo=n,o.comparator=i,o._a=[],o._b=[],o._oneComplete=!1,o.destination.add(n.subscribe(new By(r,o))),o}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,o=r.comparator;n.length>0&&i.length>0;){var s=n.shift(),a=i.shift(),l=!1;try{l=o?o(s,a):s===a}catch(d){this.destination.error(d)}l||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(F),By=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(F);function Fy(){return new tt}function Wy(){return function(t){return Ua()(jr(Fy)(t))}}function $y(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(Uy(n))}}function Uy(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,o=t.refCount,s=t.scheduler,a,l=0,d,p=!1,S=!1;return function(E){l++;var k;!a||p?(p=!1,a=new qa(r,i,s),k=a.subscribe(this),d=E.subscribe({next:function(P){a.next(P)},error:function(P){p=!0,a.error(P)},complete:function(){S=!0,d=void 0,a.complete()}}),S&&(d=void 0)):k=a.subscribe(this),this.add(function(){l--,k.unsubscribe(),k=void 0,d&&!S&&o&&l===0&&(d.unsubscribe(),d=void 0,a=void 0)})}}function zy(t){return function(e){return e.lift(new Hy(t,e))}}var Hy=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new qy(e,this.predicate,this.source))},t}(),qy=function(t){C(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.predicate=n,o.source=i,o.seenValue=!1,o.index=0,o}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new Si)},e}(F);function Vy(t){return function(e){return e.lift(new Gy(t))}}var Gy=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new Qy(e,this.total))},t}(),Qy=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(F);function Yy(t){return function(e){return e.lift(new Ky(t))}}var Ky=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new _n}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new F(e)):r.subscribe(new Jy(e,this._skipCount))},t}(),Jy=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var o=i%n,s=this._ring,a=s[o];s[o]=r,this.destination.next(a)}},e}(F);function Zy(t){return function(e){return e.lift(new Xy(t))}}var Xy=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new ev(e,this.notifier))},t}(),ev=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var o=new Ke(i);i.add(o),i.innerSubscription=o;var s=Ze(n,o);return s!==o&&(i.add(s),i.innerSubscription=s),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(Je);function tv(t){return function(e){return e.lift(new rv(t))}}var rv=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new nv(e,this.predicate))},t}(),nv=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},e}(F);function iv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return vt(r)?(t.pop(),function(n){return fi(t,n,r)}):function(n){return fi(t,n)}}var ov=function(t){C(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=Ki);var o=t.call(this)||this;return o.source=r,o.delayTime=n,o.scheduler=i,(!Sn(n)||n<0)&&(o.delayTime=0),(!i||typeof i.schedule!="function")&&(o.scheduler=Ki),o}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=Ki),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,o=this.scheduler;return o.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(Y);function sv(t,e){return e===void 0&&(e=0),function(n){return n.lift(new av(t,e))}}var av=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new ov(r,this.delay,this.scheduler).subscribe(e)},t}();function hi(t,e){return typeof e=="function"?function(r){return r.pipe(hi(function(n,i){return zt(t(n,i)).pipe(Et(function(o,s){return e(n,o,i,s)}))}))}:function(r){return r.lift(new uv(t))}}var uv=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new cv(e,this.project))},t}(),cv=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(o){this.destination.error(o);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new Ke(this),o=this.destination;o.add(i),this.innerSubscription=Ze(r,i),this.innerSubscription!==i&&o.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(Je);function lv(){return hi(or)}function fv(t,e){return e?hi(function(){return t},e):hi(function(){return t})}function hv(t){return function(e){return e.lift(new dv(t))}}var dv=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new pv(e),i=Ze(this.notifier,new Ke(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),pv=function(t){C(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(Je);function gv(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new yv(t,e))}}var yv=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new vv(e,this.predicate,this.inclusive))},t}(),vv=function(t){C(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.predicate=n,o.inclusive=i,o.index=0,o}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(o){n.error(o);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;Boolean(n)?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(F);function bv(t,e,r){return function(i){return i.lift(new mv(t,e,r))}}var mv=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new wv(e,this.nextOrObserver,this.error,this.complete))},t}(),wv=function(t){C(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s._tapNext=Ot,s._tapError=Ot,s._tapComplete=Ot,s._tapError=i||Ot,s._tapComplete=o||Ot,mn(n)?(s._context=s,s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||Ot,s._tapError=n.error||Ot,s._tapComplete=n.complete||Ot),s}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(F),nf={leading:!0,trailing:!1};function _v(t,e){return e===void 0&&(e=nf),function(r){return r.lift(new Sv(t,!!e.leading,!!e.trailing))}}var Sv=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new Ev(e,this.durationSelector,this.leading,this.trailing))},t}(),Ev=function(t){C(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.destination=r,s.durationSelector=n,s._leading=i,s._trailing=o,s._hasValue=!1,s}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=Ze(n,new Ke(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(Je);function Mv(t,e,r){return e===void 0&&(e=pt),r===void 0&&(r=nf),function(n){return n.lift(new xv(t,e,r.leading,r.trailing))}}var xv=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new kv(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),kv=function(t){C(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=o,a.trailing=s,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Av,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(F);function Av(t){var e=t.subscriber;e.clearThrottle()}function Cv(t){return t===void 0&&(t=pt),function(e){return Qa(function(){return e.pipe(co(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),Et(function(r){var n=r.current,i=r.last,o=r.value;return new Rv(o,n-i)}))})}}var Rv=function(){function t(e,r){this.value=e,this.interval=r}return t}();function of(t,e,r){return r===void 0&&(r=pt),function(n){var i=Xl(t),o=i?+t-r.now():Math.abs(t);return n.lift(new Iv(o,i,e,r))}}var Iv=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Tv(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),Tv=function(t){C(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=o,a.scheduler=s,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(Ze(n,new Ke(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(Je);function Ov(t,e){return e===void 0&&(e=pt),of(t,Ha(new Nl),e)}function Nv(t){return t===void 0&&(t=pt),Et(function(e){return new Lv(e,t.now())})}var Lv=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function Pv(t,e,r){return r===0?[e]:(t.push(e),t)}function Dv(){return Ro(Pv,[])}function jv(t){return function(r){return r.lift(new Bv(t))}}var Bv=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new Fv(e),i=r.subscribe(n);return i.closed||n.add(Ze(this.windowBoundaries,new Ke(n))),i},t}(),Fv=function(t){C(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new tt,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new tt;n.next(i)},e}(Je);function Wv(t,e){return e===void 0&&(e=0),function(n){return n.lift(new $v(t,e))}}var $v=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new Uv(e,this.windowSize,this.startWindowEvery))},t}(),Uv=function(t){C(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.destination=r,o.windowSize=n,o.startWindowEvery=i,o.windows=[new tt],o.count=0,r.next(o.windows[0]),o}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,o=this.windowSize,s=this.windows,a=s.length,l=0;l<a&&!this.closed;l++)s[l].next(r);var d=this.count-o+1;if(d>=0&&d%n===0&&!this.closed&&s.shift().complete(),++this.count%n===0&&!this.closed){var p=new tt;s.push(p),i.next(p)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(F);function zv(t){var e=pt,r=null,n=Number.POSITIVE_INFINITY;return vt(arguments[3])&&(e=arguments[3]),vt(arguments[2])?e=arguments[2]:Sn(arguments[2])&&(n=Number(arguments[2])),vt(arguments[1])?e=arguments[1]:Sn(arguments[1])&&(r=Number(arguments[1])),function(o){return o.lift(new Hv(t,r,n,e))}}var Hv=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Vv(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),qv=function(t){C(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(tt),Vv=function(t){C(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=o,a.scheduler=s,a.windows=[];var l=a.openWindow();if(i!==null&&i>=0){var d={subscriber:a,window:l,context:null},p={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:s};a.add(s.schedule(sf,n,d)),a.add(s.schedule(Qv,i,p))}else{var S={subscriber:a,window:l,windowTimeSpan:n};a.add(s.schedule(Gv,n,S))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,o=0;o<i;o++){var s=n[o];s.closed||(s.next(r),s.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(s))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new qv;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(F);function Gv(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function Qv(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,o=r.openWindow(),s=this,a={action:s,subscription:null},l={subscriber:r,window:o,context:a};a.subscription=n.schedule(sf,e,l),s.add(a.subscription),s.schedule(t,i)}function sf(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function Yv(t,e){return function(r){return r.lift(new Kv(t,e))}}var Kv=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new Jv(e,this.openings,this.closingSelector))},t}(),Jv=function(t){C(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.openings=n,o.closingSelector=i,o.contexts=[],o.add(o.openSubscription=$t(o,n,n)),o}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,o=0;o<i;o++)n[o].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,o=-1;++o<i;){var s=n[o];s.window.error(r),s.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.complete(),o.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.unsubscribe(),o.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,o,s){if(r===this.openings){var a=void 0;try{var l=this.closingSelector;a=l(n)}catch(E){return this.error(E)}var d=new tt,p=new Ve,S={window:d,subscription:p};this.contexts.push(S);var m=$t(this,a,S);m.closed?this.closeWindow(this.contexts.length-1):(m.context=S,p.add(m)),this.destination.next(d)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],o=i.window,s=i.subscription;n.splice(r,1),o.complete(),s.unsubscribe()}},e}(Wr);function Zv(t){return function(r){return r.lift(new Xv(t))}}var Xv=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new eb(e,this.closingSelector))},t}(),eb=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,o,s){this.openWindow(s)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new tt;this.destination.next(i);var o;try{var s=this.closingSelector;o=s()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=$t(this,o))},e}(Wr);function tb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new rb(i,n))}}var rb=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new nb(e,this.observables,this.project))},t}(),nb=function(t){C(e,t);function e(r,n,i){var o=t.call(this,r)||this;o.observables=n,o.project=i,o.toRespond=[];var s=n.length;o.values=new Array(s);for(var a=0;a<s;a++)o.toRespond.push(a);for(var a=0;a<s;a++){var l=n[a];o.add($t(o,l,void 0,a))}return o}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var o=this.toRespond;if(o.length>0){var s=o.indexOf(i);s!==-1&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Wr);function ib(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(Ql.apply(void 0,[n].concat(t)))}}function ob(t){return function(e){return e.lift(new Yl(t))}}var sb=Object.freeze(Object.defineProperty({__proto__:null,audit:Kl,auditTime:s0,buffer:a0,bufferCount:l0,bufferTime:p0,bufferToggle:m0,bufferWhen:S0,catchError:x0,combineAll:C0,combineLatest:R0,concat:I0,concatAll:Fl,concatMap:Zl,concatMapTo:T0,count:O0,debounce:P0,debounceTime:B0,defaultIfEmpty:Ei,delay:H0,delayWhen:Q0,dematerialize:Z0,distinct:tg,distinctUntilChanged:ef,distinctUntilKeyChanged:sg,elementAt:hg,endWith:dg,every:pg,exhaust:vg,exhaustMap:tf,expand:Sg,filter:ar,finalize:xg,find:Cg,findIndex:Ig,first:Tg,groupBy:Fd,ignoreElements:Og,isEmpty:Pg,last:Wg,map:Et,mapTo:$g,materialize:Hg,max:Yg,merge:Kg,mergeAll:Ga,mergeMap:Dr,flatMap:Tp,mergeMapTo:Jg,mergeScan:Zg,min:ty,multicast:jr,observeOn:Yd,onErrorResumeNext:ny,pairwise:sy,partition:cy,pluck:ly,publish:hy,publishBehavior:dy,publishLast:py,publishReplay:gy,race:yy,reduce:Ro,repeat:vy,repeatWhen:my,retry:Sy,retryWhen:xy,refCount:Ua,sample:Cy,sampleTime:Ty,scan:co,sequenceEqual:Py,share:Wy,shareReplay:$y,single:zy,skip:Vy,skipLast:Yy,skipUntil:Zy,skipWhile:tv,startWith:iv,subscribeOn:sv,switchAll:lv,switchMap:hi,switchMapTo:fv,take:Ya,takeLast:uo,takeUntil:hv,takeWhile:gv,tap:bv,throttle:_v,throttleTime:Mv,throwIfEmpty:Co,timeInterval:Cv,timeout:Ov,timeoutWith:of,timestamp:Nv,toArray:Dv,window:jv,windowCount:Wv,windowTime:zv,windowToggle:Yv,windowWhen:Zv,withLatestFrom:tb,zip:ib,zipAll:ob},Symbol.toStringTag,{value:"Module"})),Io=Fr(sb),B={},af=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0},Ju=typeof Symbol!="undefined"&&Symbol,ab=af,ub=function(){return typeof Ju!="function"||typeof Symbol!="function"||typeof Ju("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:ab()},cb="Function.prototype.bind called on incompatible ",ms=Array.prototype.slice,lb=Object.prototype.toString,fb="[object Function]",hb=function(e){var r=this;if(typeof r!="function"||lb.call(r)!==fb)throw new TypeError(cb+r);for(var n=ms.call(arguments,1),i,o=function(){if(this instanceof i){var p=r.apply(this,n.concat(ms.call(arguments)));return Object(p)===p?p:this}else return r.apply(e,n.concat(ms.call(arguments)))},s=Math.max(0,r.length-n.length),a=[],l=0;l<s;l++)a.push("$"+l);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var d=function(){};d.prototype=r.prototype,i.prototype=new d,d.prototype=null}return i},db=hb,Ka=Function.prototype.bind||db,pb=Ka,gb=pb.call(Function.call,Object.prototype.hasOwnProperty),ne,di=SyntaxError,uf=Function,fn=TypeError,ws=function(t){try{return uf('"use strict"; return ('+t+").constructor;")()}catch{}},Lr=Object.getOwnPropertyDescriptor;if(Lr)try{Lr({},"")}catch{Lr=null}var _s=function(){throw new fn},yb=Lr?function(){try{return arguments.callee,_s}catch{try{return Lr(arguments,"callee").get}catch{return _s}}}():_s,tn=ub(),Qt=Object.getPrototypeOf||function(t){return t.__proto__},on={},vb=typeof Uint8Array=="undefined"?ne:Qt(Uint8Array),hn={"%AggregateError%":typeof AggregateError=="undefined"?ne:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?ne:ArrayBuffer,"%ArrayIteratorPrototype%":tn?Qt([][Symbol.iterator]()):ne,"%AsyncFromSyncIteratorPrototype%":ne,"%AsyncFunction%":on,"%AsyncGenerator%":on,"%AsyncGeneratorFunction%":on,"%AsyncIteratorPrototype%":on,"%Atomics%":typeof Atomics=="undefined"?ne:Atomics,"%BigInt%":typeof BigInt=="undefined"?ne:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?ne:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?ne:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?ne:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?ne:FinalizationRegistry,"%Function%":uf,"%GeneratorFunction%":on,"%Int8Array%":typeof Int8Array=="undefined"?ne:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?ne:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?ne:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":tn?Qt(Qt([][Symbol.iterator]())):ne,"%JSON%":typeof JSON=="object"?JSON:ne,"%Map%":typeof Map=="undefined"?ne:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!tn?ne:Qt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?ne:Promise,"%Proxy%":typeof Proxy=="undefined"?ne:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?ne:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?ne:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!tn?ne:Qt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?ne:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":tn?Qt(""[Symbol.iterator]()):ne,"%Symbol%":tn?Symbol:ne,"%SyntaxError%":di,"%ThrowTypeError%":yb,"%TypedArray%":vb,"%TypeError%":fn,"%Uint8Array%":typeof Uint8Array=="undefined"?ne:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?ne:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?ne:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?ne:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?ne:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?ne:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?ne:WeakSet},bb=function t(e){var r;if(e==="%AsyncFunction%")r=ws("async function () {}");else if(e==="%GeneratorFunction%")r=ws("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=ws("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=Qt(i.prototype))}return hn[e]=r,r},Zu={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},To=Ka,lo=gb,mb=To.call(Function.call,Array.prototype.concat),wb=To.call(Function.apply,Array.prototype.splice),Xu=To.call(Function.call,String.prototype.replace),fo=To.call(Function.call,String.prototype.slice),_b=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Sb=/\\(\\)?/g,Eb=function(e){var r=fo(e,0,1),n=fo(e,-1);if(r==="%"&&n!=="%")throw new di("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new di("invalid intrinsic syntax, expected opening `%`");var i=[];return Xu(e,_b,function(o,s,a,l){i[i.length]=a?Xu(l,Sb,"$1"):s||o}),i},Mb=function(e,r){var n=e,i;if(lo(Zu,n)&&(i=Zu[n],n="%"+i[0]+"%"),lo(hn,n)){var o=hn[n];if(o===on&&(o=bb(n)),typeof o=="undefined"&&!r)throw new fn("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new di("intrinsic "+e+" does not exist!")},Oo=function(e,r){if(typeof e!="string"||e.length===0)throw new fn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new fn('"allowMissing" argument must be a boolean');var n=Eb(e),i=n.length>0?n[0]:"",o=Mb("%"+i+"%",r),s=o.name,a=o.value,l=!1,d=o.alias;d&&(i=d[0],wb(n,mb([0,1],d)));for(var p=1,S=!0;p<n.length;p+=1){var m=n[p],E=fo(m,0,1),k=fo(m,-1);if((E==='"'||E==="'"||E==="`"||k==='"'||k==="'"||k==="`")&&E!==k)throw new di("property names with quotes must have matching quotes");if((m==="constructor"||!S)&&(l=!0),i+="."+m,s="%"+i+"%",lo(hn,s))a=hn[s];else if(a!=null){if(!(m in a)){if(!r)throw new fn("base intrinsic for "+e+" exists, but the property is not available.");return}if(Lr&&p+1>=n.length){var P=Lr(a,m);S=!!P,S&&"get"in P&&!("originalValue"in P.get)?a=P.get:a=a[m]}else S=lo(a,m),a=a[m];S&&!l&&(hn[s]=a)}}return a},cf={exports:{}};(function(t){var e=Ka,r=Oo,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(i,n),s=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(S){var m=o(e,i,arguments);if(s&&a){var E=s(m,"length");E.configurable&&a(m,"length",{value:1+l(0,S.length-(arguments.length-1))})}return m};var d=function(){return o(e,n,arguments)};a?a(t.exports,"apply",{value:d}):t.exports.apply=d})(cf);var lf=Oo,ff=cf.exports,xb=ff(lf("String.prototype.indexOf")),No=function(e,r){var n=lf(e,!!r);return typeof n=="function"&&xb(e,".prototype.")>-1?ff(n):n},kb={},Ab=Object.freeze(Object.defineProperty({__proto__:null,default:kb},Symbol.toStringTag,{value:"Module"})),Ja=Fr(Ab),Za=typeof Map=="function"&&Map.prototype,Ss=Object.getOwnPropertyDescriptor&&Za?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ho=Za&&Ss&&typeof Ss.get=="function"?Ss.get:null,Cb=Za&&Map.prototype.forEach,Xa=typeof Set=="function"&&Set.prototype,Es=Object.getOwnPropertyDescriptor&&Xa?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,po=Xa&&Es&&typeof Es.get=="function"?Es.get:null,Rb=Xa&&Set.prototype.forEach,Ib=typeof WeakMap=="function"&&WeakMap.prototype,Zn=Ib?WeakMap.prototype.has:null,Tb=typeof WeakSet=="function"&&WeakSet.prototype,Xn=Tb?WeakSet.prototype.has:null,Ob=typeof WeakRef=="function"&&WeakRef.prototype,ec=Ob?WeakRef.prototype.deref:null,Nb=Boolean.prototype.valueOf,Lb=Object.prototype.toString,Pb=Function.prototype.toString,Db=String.prototype.match,eu=String.prototype.slice,er=String.prototype.replace,jb=String.prototype.toUpperCase,tc=String.prototype.toLowerCase,hf=RegExp.prototype.test,rc=Array.prototype.concat,Lt=Array.prototype.join,Bb=Array.prototype.slice,nc=Math.floor,ma=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Ms=Object.getOwnPropertySymbols,wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,En=typeof Symbol=="function"&&typeof Symbol.iterator=="object",lt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===En?"object":"symbol")?Symbol.toStringTag:null,df=Object.prototype.propertyIsEnumerable,ic=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function oc(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||hf.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-nc(-t):nc(t);if(n!==t){var i=String(n),o=eu.call(e,i.length+1);return er.call(i,r,"$&_")+"."+er.call(er.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return er.call(e,r,"$&_")}var xs=Ja.custom,ks=xs&&gf(xs)?xs:null,Fb=function t(e,r,n,i){var o=r||{};if(Yt(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Yt(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Yt(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Yt(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Yt(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(typeof e=="undefined")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return vf(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?oc(e,l):l}if(typeof e=="bigint"){var d=String(e)+"n";return a?oc(e,d):d}var p=typeof o.depth=="undefined"?5:o.depth;if(typeof n=="undefined"&&(n=0),n>=p&&p>0&&typeof e=="object")return _a(e)?"[Array]":"[Object]";var S=im(o,n);if(typeof i=="undefined")i=[];else if(yf(i,e)>=0)return"[Circular]";function m(b,u,f){if(u&&(i=Bb.call(i),i.push(u)),f){var g={depth:o.depth};return Yt(o,"quoteStyle")&&(g.quoteStyle=o.quoteStyle),t(b,g,n+1,i)}return t(b,o,n+1,i)}if(typeof e=="function"){var E=Yb(e),k=Bi(e,m);return"[Function"+(E?": "+E:" (anonymous)")+"]"+(k.length>0?" { "+Lt.call(k,", ")+" }":"")}if(gf(e)){var P=En?er.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):wa.call(e);return typeof e=="object"&&!En?Gn(P):P}if(tm(e)){for(var R="<"+tc.call(String(e.nodeName)),N=e.attributes||[],L=0;L<N.length;L++)R+=" "+N[L].name+"="+pf(Wb(N[L].value),"double",o);return R+=">",e.childNodes&&e.childNodes.length&&(R+="..."),R+="</"+tc.call(String(e.nodeName))+">",R}if(_a(e)){if(e.length===0)return"[]";var T=Bi(e,m);return S&&!nm(T)?"["+Sa(T,S)+"]":"[ "+Lt.call(T,", ")+" ]"}if(zb(e)){var W=Bi(e,m);return"cause"in e&&!df.call(e,"cause")?"{ ["+String(e)+"] "+Lt.call(rc.call("[cause]: "+m(e.cause),W),", ")+" }":W.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Lt.call(W,", ")+" }"}if(typeof e=="object"&&s){if(ks&&typeof e[ks]=="function")return e[ks]();if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Kb(e)){var G=[];return Cb.call(e,function(b,u){G.push(m(u,e,!0)+" => "+m(b,e))}),sc("Map",ho.call(e),G,S)}if(Xb(e)){var V=[];return Rb.call(e,function(b){V.push(m(b,e))}),sc("Set",po.call(e),V,S)}if(Jb(e))return As("WeakMap");if(em(e))return As("WeakSet");if(Zb(e))return As("WeakRef");if(qb(e))return Gn(m(Number(e)));if(Gb(e))return Gn(m(ma.call(e)));if(Vb(e))return Gn(Nb.call(e));if(Hb(e))return Gn(m(String(e)));if(!$b(e)&&!Ub(e)){var K=Bi(e,m),ge=ic?ic(e)===Object.prototype:e instanceof Object||e.constructor===Object,le=e instanceof Object?"":"null prototype",ae=!ge&&lt&&Object(e)===e&&lt in e?eu.call(ur(e),8,-1):le?"Object":"",U=ge||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",z=U+(ae||le?"["+Lt.call(rc.call([],ae||[],le||[]),": ")+"] ":"");return K.length===0?z+"{}":S?z+"{"+Sa(K,S)+"}":z+"{ "+Lt.call(K,", ")+" }"}return String(e)};function pf(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Wb(t){return er.call(String(t),/"/g,"&quot;")}function _a(t){return ur(t)==="[object Array]"&&(!lt||!(typeof t=="object"&&lt in t))}function $b(t){return ur(t)==="[object Date]"&&(!lt||!(typeof t=="object"&&lt in t))}function Ub(t){return ur(t)==="[object RegExp]"&&(!lt||!(typeof t=="object"&&lt in t))}function zb(t){return ur(t)==="[object Error]"&&(!lt||!(typeof t=="object"&&lt in t))}function Hb(t){return ur(t)==="[object String]"&&(!lt||!(typeof t=="object"&&lt in t))}function qb(t){return ur(t)==="[object Number]"&&(!lt||!(typeof t=="object"&&lt in t))}function Vb(t){return ur(t)==="[object Boolean]"&&(!lt||!(typeof t=="object"&&lt in t))}function gf(t){if(En)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!wa)return!1;try{return wa.call(t),!0}catch{}return!1}function Gb(t){if(!t||typeof t!="object"||!ma)return!1;try{return ma.call(t),!0}catch{}return!1}var Qb=Object.prototype.hasOwnProperty||function(t){return t in this};function Yt(t,e){return Qb.call(t,e)}function ur(t){return Lb.call(t)}function Yb(t){if(t.name)return t.name;var e=Db.call(Pb.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function yf(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Kb(t){if(!ho||!t||typeof t!="object")return!1;try{ho.call(t);try{po.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Jb(t){if(!Zn||!t||typeof t!="object")return!1;try{Zn.call(t,Zn);try{Xn.call(t,Xn)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Zb(t){if(!ec||!t||typeof t!="object")return!1;try{return ec.call(t),!0}catch{}return!1}function Xb(t){if(!po||!t||typeof t!="object")return!1;try{po.call(t);try{ho.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function em(t){if(!Xn||!t||typeof t!="object")return!1;try{Xn.call(t,Xn);try{Zn.call(t,Zn)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function tm(t){return!t||typeof t!="object"?!1:typeof HTMLElement!="undefined"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function vf(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return vf(eu.call(t,0,e.maxStringLength),e)+n}var i=er.call(er.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,rm);return pf(i,"single",e)}function rm(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+jb.call(e.toString(16))}function Gn(t){return"Object("+t+")"}function As(t){return t+" { ? }"}function sc(t,e,r,n){var i=n?Sa(r,n):Lt.call(r,", ");return t+" ("+e+") {"+i+"}"}function nm(t){for(var e=0;e<t.length;e++)if(yf(t[e],`
`)>=0)return!1;return!0}function im(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Lt.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Lt.call(Array(e+1),r)}}function Sa(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Lt.call(t,","+r)+`
`+e.prev}function Bi(t,e){var r=_a(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Yt(t,i)?e(t[i],t):""}var o=typeof Ms=="function"?Ms(t):[],s;if(En){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var l in t)!Yt(t,l)||r&&String(Number(l))===l&&l<t.length||En&&s["$"+l]instanceof Symbol||(hf.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t)));if(typeof Ms=="function")for(var d=0;d<o.length;d++)df.call(t,o[d])&&n.push("["+e(o[d])+"]: "+e(t[o[d]],t));return n}var tu=Oo,Fn=No,om=Fb,sm=tu("%TypeError%"),Fi=tu("%WeakMap%",!0),Wi=tu("%Map%",!0),am=Fn("WeakMap.prototype.get",!0),um=Fn("WeakMap.prototype.set",!0),cm=Fn("WeakMap.prototype.has",!0),lm=Fn("Map.prototype.get",!0),fm=Fn("Map.prototype.set",!0),hm=Fn("Map.prototype.has",!0),ru=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},dm=function(t,e){var r=ru(t,e);return r&&r.value},pm=function(t,e,r){var n=ru(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},gm=function(t,e){return!!ru(t,e)},ym=function(){var e,r,n,i={assert:function(o){if(!i.has(o))throw new sm("Side channel does not contain "+om(o))},get:function(o){if(Fi&&o&&(typeof o=="object"||typeof o=="function")){if(e)return am(e,o)}else if(Wi){if(r)return lm(r,o)}else if(n)return dm(n,o)},has:function(o){if(Fi&&o&&(typeof o=="object"||typeof o=="function")){if(e)return cm(e,o)}else if(Wi){if(r)return hm(r,o)}else if(n)return gm(n,o);return!1},set:function(o,s){Fi&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new Fi),um(e,o,s)):Wi?(r||(r=new Wi),fm(r,o,s)):(n||(n={key:{},next:null}),pm(n,o,s))}};return i},vm=String.prototype.replace,bm=/%20/g,Cs={RFC1738:"RFC1738",RFC3986:"RFC3986"},nu={default:Cs.RFC3986,formatters:{RFC1738:function(t){return vm.call(t,bm,"+")},RFC3986:function(t){return String(t)}},RFC1738:Cs.RFC1738,RFC3986:Cs.RFC3986},mm=nu,Rs=Object.prototype.hasOwnProperty,kr=Array.isArray,Tt=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),wm=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(kr(n)){for(var i=[],o=0;o<n.length;++o)typeof n[o]!="undefined"&&i.push(n[o]);r.obj[r.prop]=i}}},bf=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]!="undefined"&&(n[i]=e[i]);return n},_m=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(kr(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Rs.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return kr(e)&&!kr(r)&&(i=bf(e,n)),kr(e)&&kr(r)?(r.forEach(function(o,s){if(Rs.call(e,s)){var a=e[s];a&&typeof a=="object"&&o&&typeof o=="object"?e[s]=t(a,o,n):e.push(o)}else e[s]=o}),e):Object.keys(r).reduce(function(o,s){var a=r[s];return Rs.call(o,s)?o[s]=t(o[s],a,n):o[s]=a,o},i)},Sm=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Em=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Mm=function(e,r,n,i,o){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var a="",l=0;l<s.length;++l){var d=s.charCodeAt(l);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||o===mm.RFC1738&&(d===40||d===41)){a+=s.charAt(l);continue}if(d<128){a=a+Tt[d];continue}if(d<2048){a=a+(Tt[192|d>>6]+Tt[128|d&63]);continue}if(d<55296||d>=57344){a=a+(Tt[224|d>>12]+Tt[128|d>>6&63]+Tt[128|d&63]);continue}l+=1,d=65536+((d&1023)<<10|s.charCodeAt(l)&1023),a+=Tt[240|d>>18]+Tt[128|d>>12&63]+Tt[128|d>>6&63]+Tt[128|d&63]}return a},xm=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var o=r[i],s=o.obj[o.prop],a=Object.keys(s),l=0;l<a.length;++l){var d=a[l],p=s[d];typeof p=="object"&&p!==null&&n.indexOf(p)===-1&&(r.push({obj:s,prop:d}),n.push(p))}return wm(r),e},km=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Am=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Cm=function(e,r){return[].concat(e,r)},Rm=function(e,r){if(kr(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},mf={arrayToObject:bf,assign:Sm,combine:Cm,compact:xm,decode:Em,encode:Mm,isBuffer:Am,isRegExp:km,maybeMap:Rm,merge:_m},wf=ym,Ea=mf,ei=nu,Im=Object.prototype.hasOwnProperty,ac={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Ir=Array.isArray,Tm=String.prototype.split,Om=Array.prototype.push,_f=function(t,e){Om.apply(t,Ir(e)?e:[e])},Nm=Date.prototype.toISOString,uc=ei.default,it={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Ea.encode,encodeValuesOnly:!1,format:uc,formatter:ei.formatters[uc],indices:!1,serializeDate:function(e){return Nm.call(e)},skipNulls:!1,strictNullHandling:!1},Lm=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Is={},Pm=function t(e,r,n,i,o,s,a,l,d,p,S,m,E,k,P){for(var R=e,N=P,L=0,T=!1;(N=N.get(Is))!==void 0&&!T;){var W=N.get(e);if(L+=1,typeof W!="undefined"){if(W===L)throw new RangeError("Cyclic object value");T=!0}typeof N.get(Is)=="undefined"&&(L=0)}if(typeof a=="function"?R=a(r,R):R instanceof Date?R=p(R):n==="comma"&&Ir(R)&&(R=Ea.maybeMap(R,function(v){return v instanceof Date?p(v):v})),R===null){if(i)return s&&!E?s(r,it.encoder,k,"key",S):r;R=""}if(Lm(R)||Ea.isBuffer(R)){if(s){var G=E?r:s(r,it.encoder,k,"key",S);if(n==="comma"&&E){for(var V=Tm.call(String(R),","),K="",ge=0;ge<V.length;++ge)K+=(ge===0?"":",")+m(s(V[ge],it.encoder,k,"value",S));return[m(G)+"="+K]}return[m(G)+"="+m(s(R,it.encoder,k,"value",S))]}return[m(r)+"="+m(String(R))]}var le=[];if(typeof R=="undefined")return le;var ae;if(n==="comma"&&Ir(R))ae=[{value:R.length>0?R.join(",")||null:void 0}];else if(Ir(a))ae=a;else{var U=Object.keys(R);ae=l?U.sort(l):U}for(var z=0;z<ae.length;++z){var b=ae[z],u=typeof b=="object"&&typeof b.value!="undefined"?b.value:R[b];if(!(o&&u===null)){var f=Ir(R)?typeof n=="function"?n(r,b):r:r+(d?"."+b:"["+b+"]");P.set(e,L);var g=wf();g.set(Is,P),_f(le,t(u,f,n,i,o,s,a,l,d,p,S,m,E,k,g))}}return le},Dm=function(e){if(!e)return it;if(e.encoder!==null&&typeof e.encoder!="undefined"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||it.charset;if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=ei.default;if(typeof e.format!="undefined"){if(!Im.call(ei.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=ei.formatters[n],o=it.filter;return(typeof e.filter=="function"||Ir(e.filter))&&(o=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:it.addQueryPrefix,allowDots:typeof e.allowDots=="undefined"?it.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:it.charsetSentinel,delimiter:typeof e.delimiter=="undefined"?it.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:it.encode,encoder:typeof e.encoder=="function"?e.encoder:it.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:it.encodeValuesOnly,filter:o,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:it.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:it.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:it.strictNullHandling}},jm=function(t,e){var r=t,n=Dm(e),i,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):Ir(n.filter)&&(o=n.filter,i=o);var s=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in ac?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var l=ac[a];i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var d=wf(),p=0;p<i.length;++p){var S=i[p];n.skipNulls&&r[S]===null||_f(s,Pm(r[S],S,l,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}var m=s.join(n.delimiter),E=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?E+="utf8=%26%2310003%3B&":E+="utf8=%E2%9C%93&"),m.length>0?E+m:""},Mn=mf,Ma=Object.prototype.hasOwnProperty,Bm=Array.isArray,Xe={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Mn.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Fm=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Sf=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Wm="utf8=%26%2310003%3B",$m="utf8=%E2%9C%93",Um=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=r.parameterLimit===1/0?void 0:r.parameterLimit,s=i.split(r.delimiter,o),a=-1,l,d=r.charset;if(r.charsetSentinel)for(l=0;l<s.length;++l)s[l].indexOf("utf8=")===0&&(s[l]===$m?d="utf-8":s[l]===Wm&&(d="iso-8859-1"),a=l,l=s.length);for(l=0;l<s.length;++l)if(l!==a){var p=s[l],S=p.indexOf("]="),m=S===-1?p.indexOf("="):S+1,E,k;m===-1?(E=r.decoder(p,Xe.decoder,d,"key"),k=r.strictNullHandling?null:""):(E=r.decoder(p.slice(0,m),Xe.decoder,d,"key"),k=Mn.maybeMap(Sf(p.slice(m+1),r),function(P){return r.decoder(P,Xe.decoder,d,"value")})),k&&r.interpretNumericEntities&&d==="iso-8859-1"&&(k=Fm(k)),p.indexOf("[]=")>-1&&(k=Bm(k)?[k]:k),Ma.call(n,E)?n[E]=Mn.combine(n[E],k):n[E]=k}return n},zm=function(t,e,r,n){for(var i=n?e:Sf(e,r),o=t.length-1;o>=0;--o){var s,a=t[o];if(a==="[]"&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,d=parseInt(l,10);!r.parseArrays&&l===""?s={0:i}:!isNaN(d)&&a!==l&&String(d)===l&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(s=[],s[d]=i):l!=="__proto__"&&(s[l]=i)}i=s}return i},Hm=function(e,r,n,i){if(!!e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=n.depth>0&&s.exec(o),d=l?o.slice(0,l.index):o,p=[];if(d){if(!n.plainObjects&&Ma.call(Object.prototype,d)&&!n.allowPrototypes)return;p.push(d)}for(var S=0;n.depth>0&&(l=a.exec(o))!==null&&S<n.depth;){if(S+=1,!n.plainObjects&&Ma.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;p.push(l[1])}return l&&p.push("["+o.slice(l.index)+"]"),zm(p,r,n,i)}},qm=function(e){if(!e)return Xe;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset=="undefined"?Xe.charset:e.charset;return{allowDots:typeof e.allowDots=="undefined"?Xe.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Xe.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Xe.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Xe.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Xe.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Xe.comma,decoder:typeof e.decoder=="function"?e.decoder:Xe.decoder,delimiter:typeof e.delimiter=="string"||Mn.isRegExp(e.delimiter)?e.delimiter:Xe.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Xe.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Xe.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Xe.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Xe.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Xe.strictNullHandling}},Vm=function(t,e){var r=qm(e);if(t===""||t===null||typeof t=="undefined")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Um(t,r):t,i=r.plainObjects?Object.create(null):{},o=Object.keys(n),s=0;s<o.length;++s){var a=o[s],l=Hm(a,n[a],r,typeof t=="string");i=Mn.merge(i,l,r)}return r.allowSparse===!0?i:Mn.compact(i)},Gm=jm,Qm=Vm,Ym=nu,Km={formats:Ym,parse:Qm,stringify:Gm},ct={};Object.defineProperty(ct,"__esModule",{value:!0});ct.RegExpString=ct.IntNumber=ct.BigIntString=ct.AddressString=ct.HexString=ct.OpaqueType=void 0;function Mi(){return t=>t}ct.OpaqueType=Mi;ct.HexString=Mi();ct.AddressString=Mi();ct.BigIntString=Mi();function Jm(t){return Math.floor(t)}ct.IntNumber=Jm;ct.RegExpString=Mi();var Zm=X&&X.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(B,"__esModule",{value:!0});B.createQrUrl=B.getFavicon=B.range=B.isBigNumber=B.ensureParsedJSONObject=B.ensureBN=B.ensureRegExpString=B.ensureIntNumber=B.ensureBuffer=B.ensureAddressString=B.ensureEvenLengthHexString=B.ensureHexString=B.isHexString=B.prepend0x=B.strip0x=B.has0xPrefix=B.hexStringFromIntNumber=B.intNumberFromHexString=B.bigIntStringFromBN=B.hexStringFromBuffer=B.hexStringToUint8Array=B.uint8ArrayToHex=B.randomBytesHex=void 0;const Xt=Zm(vi.exports),Xm=Km,St=ct,Ef=/^[0-9]*$/,Mf=/^[a-f0-9]*$/;function ew(t){return xf(crypto.getRandomValues(new Uint8Array(t)))}B.randomBytesHex=ew;function xf(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}B.uint8ArrayToHex=xf;function tw(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}B.hexStringToUint8Array=tw;function rw(t,e=!1){const r=t.toString("hex");return(0,St.HexString)(e?"0x"+r:r)}B.hexStringFromBuffer=rw;function nw(t){return(0,St.BigIntString)(t.toString(10))}B.bigIntStringFromBN=nw;function iw(t){return(0,St.IntNumber)(new Xt.default(ki(t,!1),16).toNumber())}B.intNumberFromHexString=iw;function ow(t){return(0,St.HexString)("0x"+new Xt.default(t).toString(16))}B.hexStringFromIntNumber=ow;function iu(t){return t.startsWith("0x")||t.startsWith("0X")}B.has0xPrefix=iu;function Lo(t){return iu(t)?t.slice(2):t}B.strip0x=Lo;function kf(t){return iu(t)?"0x"+t.slice(2):"0x"+t}B.prepend0x=kf;function xi(t){if(typeof t!="string")return!1;const e=Lo(t).toLowerCase();return Mf.test(e)}B.isHexString=xi;function Af(t,e=!1){if(typeof t=="string"){const r=Lo(t).toLowerCase();if(Mf.test(r))return(0,St.HexString)(e?"0x"+r:r)}throw new Error(`"${String(t)}" is not a hexadecimal string`)}B.ensureHexString=Af;function ki(t,e=!1){let r=Af(t,!1);return r.length%2===1&&(r=(0,St.HexString)("0"+r)),e?(0,St.HexString)("0x"+r):r}B.ensureEvenLengthHexString=ki;function sw(t){if(typeof t=="string"){const e=Lo(t).toLowerCase();if(xi(e)&&e.length===40)return(0,St.AddressString)(kf(e))}throw new Error(`Invalid Ethereum address: ${String(t)}`)}B.ensureAddressString=sw;function aw(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(xi(t)){const e=ki(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw new Error(`Not binary data: ${String(t)}`)}B.ensureBuffer=aw;function Cf(t){if(typeof t=="number"&&Number.isInteger(t))return(0,St.IntNumber)(t);if(typeof t=="string"){if(Ef.test(t))return(0,St.IntNumber)(Number(t));if(xi(t))return(0,St.IntNumber)(new Xt.default(ki(t,!1),16).toNumber())}throw new Error(`Not an integer: ${String(t)}`)}B.ensureIntNumber=Cf;function uw(t){if(t instanceof RegExp)return(0,St.RegExpString)(t.toString());throw new Error(`Not a RegExp: ${String(t)}`)}B.ensureRegExpString=uw;function cw(t){if(t!==null&&(Xt.default.isBN(t)||Rf(t)))return new Xt.default(t.toString(10),10);if(typeof t=="number")return new Xt.default(Cf(t));if(typeof t=="string"){if(Ef.test(t))return new Xt.default(t,10);if(xi(t))return new Xt.default(ki(t,!1),16)}throw new Error(`Not an integer: ${String(t)}`)}B.ensureBN=cw;function lw(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw new Error(`Not a JSON string or an object: ${String(t)}`)}B.ensureParsedJSONObject=lw;function Rf(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}B.isBigNumber=Rf;function fw(t,e){return Array.from({length:e-t},(r,n)=>t+n)}B.range=fw;function hw(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}B.getFavicon=hw;function dw(t,e,r,n){const i=n?"parent-id":"id",o=(0,Xm.stringify)({[i]:t,secret:e,server:r,v:"1"});return`${r}/#/link?${o}`}B.createQrUrl=dw;Object.defineProperty(Ln,"__esModule",{value:!0});Ln.Session=void 0;const cc=md.exports,pw=Bn,lc=Io,fc=B,Ts="session:id",hc="session:secret",dc="session:linked";class ou{constructor(e,r,n,i){this._storage=e,this._id=r||(0,fc.randomBytesHex)(16),this._secret=n||(0,fc.randomBytesHex)(32);const o=cc.sha256.create();o.update(`${this._id}, ${this._secret} WalletLink`),this._key=o.hex(),this._linked=!!i}static load(e){const r=e.getItem(Ts),n=e.getItem(dc),i=e.getItem(hc);return r&&i?new ou(e,r,i,n==="1"):null}static get persistedSessionIdChange$(){return(0,pw.fromEvent)(window,"storage").pipe((0,lc.filter)(e=>e.key===Ts),(0,lc.map)(e=>({oldValue:e.oldValue||null,newValue:e.newValue||null})))}static hash(e){return cc.sha256.create().update(e).hex()}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(Ts,this._id),this._storage.setItem(hc,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(dc,this._linked?"1":"0")}}Ln.Session=ou;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.WalletSDKRelayAbstract=Rt.APP_VERSION_KEY=Rt.LOCAL_STORAGE_ADDRESSES_KEY=Rt.WALLET_USER_NAME_KEY=void 0;const pc=bi;Rt.WALLET_USER_NAME_KEY="walletUsername";Rt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";Rt.APP_VERSION_KEY="AppVersion";class gw{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw pc.ethErrors.rpc.parse({});const i=n,{error:o}=i;if(o)throw(0,pc.serializeError)(o);return i})}}Rt.WalletSDKRelayAbstract=gw;var go={exports:{}},If=Eo.exports.EventEmitter;function gc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gc(Object(r),!0).forEach(function(n){vw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gc(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vw(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function mw(t,e,r){return e&&yc(t.prototype,e),r&&yc(t,r),t}var ww=Mo,Ji=ww.Buffer,_w=Ja,xa=_w.inspect,Sw=xa&&xa.custom||"inspect";function Ew(t,e,r){Ji.prototype.copy.call(t,e,r)}var Mw=function(){function t(){bw(this,t),this.head=null,this.tail=null,this.length=0}return mw(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return Ji.alloc(0);for(var n=Ji.allocUnsafe(r>>>0),i=this.head,o=0;i;)Ew(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,a=r>s.length?s.length:r;if(a===s.length?o+=s:o+=s.slice(0,r),r-=a,r===0){a===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(a));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=Ji.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var s=i.data,a=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,a),r-=a,r===0){a===s.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(a));break}++o}return this.length-=o,n}},{key:Sw,value:function(r,n){return xa(this,yw({},n,{depth:0,customInspect:!1}))}}]),t}();function xw(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(ka,this,t)):process.nextTick(ka,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(Zi,r):(r._writableState.errorEmitted=!0,process.nextTick(vc,r,o)):process.nextTick(vc,r,o):e?(process.nextTick(Zi,r),e(o)):process.nextTick(Zi,r)}),this)}function vc(t,e){ka(t,e),Zi(t)}function Zi(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function kw(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ka(t,e){t.emit("error",e)}function Aw(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var Tf={destroy:xw,undestroy:kw,errorOrDestroy:Aw},$r={};function Cw(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Of={};function Mt(t,e,r){r||(r=Error);function n(o,s,a){return typeof e=="string"?e:e(o,s,a)}var i=function(o){Cw(s,o);function s(a,l,d){return o.call(this,n(a,l,d))||this}return s}(r);i.prototype.name=r.name,i.prototype.code=t,Of[t]=i}function bc(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Rw(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Iw(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Tw(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Mt("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Mt("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Rw(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(Iw(t," argument"))i="The ".concat(t," ").concat(n," ").concat(bc(e,"type"));else{var o=Tw(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(bc(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Mt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Mt("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Mt("ERR_STREAM_PREMATURE_CLOSE","Premature close");Mt("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Mt("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Mt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Mt("ERR_STREAM_WRITE_AFTER_END","write after end");Mt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Mt("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Mt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");$r.codes=Of;var Ow=$r.codes.ERR_INVALID_OPT_VALUE;function Nw(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Lw(t,e,r,n){var i=Nw(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new Ow(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var Nf={getHighWaterMark:Lw},Pw=Dw;function Dw(t,e){if(Os("noDeprecation"))return t;var r=!1;function n(){if(!r){if(Os("throwDeprecation"))throw new Error(e);Os("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function Os(t){try{if(!X.localStorage)return!1}catch{return!1}var e=X.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var Lf=Ye;function Pf(t){var e=this;this.next=null,this.entry=null,this.finish=function(){c_(e,t)}}var dn;Ye.WritableState=Ai;var jw={deprecate:Pw},Df=If,Po=Mo.Buffer,Bw=X.Uint8Array||function(){};function Fw(t){return Po.from(t)}function Ww(t){return Po.isBuffer(t)||t instanceof Bw}var su=Tf,$w=Nf,Uw=$w.getHighWaterMark,cr=$r.codes,zw=cr.ERR_INVALID_ARG_TYPE,Hw=cr.ERR_METHOD_NOT_IMPLEMENTED,qw=cr.ERR_MULTIPLE_CALLBACK,Vw=cr.ERR_STREAM_CANNOT_PIPE,Gw=cr.ERR_STREAM_DESTROYED,Qw=cr.ERR_STREAM_NULL_VALUES,Yw=cr.ERR_STREAM_WRITE_AFTER_END,Kw=cr.ERR_UNKNOWN_ENCODING,xn=su.errorOrDestroy;Tn.exports(Ye,Df);function Jw(){}function Ai(t,e,r){dn=dn||Wn,t=t||{},typeof r!="boolean"&&(r=e instanceof dn),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Uw(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){i_(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Pf(this)}Ai.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Ai.prototype,"buffer",{get:jw.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Xi;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Xi=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ye,Symbol.hasInstance,{value:function(e){return Xi.call(this,e)?!0:this!==Ye?!1:e&&e._writableState instanceof Ai}})):Xi=function(e){return e instanceof this};function Ye(t){dn=dn||Wn;var e=this instanceof dn;if(!e&&!Xi.call(Ye,this))return new Ye(t);this._writableState=new Ai(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),Df.call(this)}Ye.prototype.pipe=function(){xn(this,new Vw)};function Zw(t,e){var r=new Yw;xn(t,r),process.nextTick(e,r)}function Xw(t,e,r,n){var i;return r===null?i=new Qw:typeof r!="string"&&!e.objectMode&&(i=new zw("chunk",["string","Buffer"],r)),i?(xn(t,i),process.nextTick(n,i),!1):!0}Ye.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&Ww(t);return o&&!Po.isBuffer(t)&&(t=Fw(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=Jw),n.ending?Zw(this,r):(o||Xw(this,n,t,r))&&(n.pendingcb++,i=t_(this,n,o,t,e,r)),i};Ye.prototype.cork=function(){this._writableState.corked++};Ye.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&jf(this,t))};Ye.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Kw(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Ye.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function e_(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Po.from(e,r)),e}Object.defineProperty(Ye.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function t_(t,e,r,n,i,o){if(!r){var s=e_(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var d=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},d?d.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Aa(t,e,!1,a,n,i,o);return l}function Aa(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Gw("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function r_(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(pi,t,e),t._writableState.errorEmitted=!0,xn(t,n)):(i(n),t._writableState.errorEmitted=!0,xn(t,n),pi(t,e))}function n_(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function i_(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new qw;if(n_(r),e)r_(t,r,n,e,i);else{var o=Bf(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&jf(t,r),n?process.nextTick(mc,t,r,o,i):mc(t,r,o,i)}}function mc(t,e,r,n){r||o_(t,e),e.pendingcb--,n(),pi(t,e)}function o_(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function jf(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)i[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,Aa(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new Pf(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,d=r.encoding,p=r.callback,S=e.objectMode?1:l.length;if(Aa(t,e,!1,S,l,d,p),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Ye.prototype._write=function(t,e,r){r(new Hw("_write()"))};Ye.prototype._writev=null;Ye.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||u_(this,n,r),this};Object.defineProperty(Ye.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Bf(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function s_(t,e){t._final(function(r){e.pendingcb--,r&&xn(t,r),e.prefinished=!0,t.emit("prefinish"),pi(t,e)})}function a_(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(s_,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function pi(t,e){var r=Bf(e);if(r&&(a_(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function u_(t,e,r){e.ending=!0,pi(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function c_(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Ye.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});Ye.prototype.destroy=su.destroy;Ye.prototype._undestroy=su.undestroy;Ye.prototype._destroy=function(t,e){e(t)};var l_=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e},Wn=jt,Ff=$f,Ca=Lf;Tn.exports(jt,Ff);for(var wc=l_(Ca.prototype),Ns=0;Ns<wc.length;Ns++){var Ls=wc[Ns];jt.prototype[Ls]||(jt.prototype[Ls]=Ca.prototype[Ls])}function jt(t){if(!(this instanceof jt))return new jt(t);Ff.call(this,t),Ca.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f_)))}Object.defineProperty(jt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(jt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(jt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function f_(){this._writableState.ended||process.nextTick(h_,this)}function h_(t){t.end()}Object.defineProperty(jt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});var au={},Ra={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=Mo,n=r.Buffer;function i(s,a){for(var l in s)a[l]=s[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=o);function o(s,a,l){return n(s,a,l)}o.prototype=Object.create(n.prototype),i(n,o),o.from=function(s,a,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,a,l)},o.alloc=function(s,a,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var d=n(s);return a!==void 0?typeof l=="string"?d.fill(a,l):d.fill(a):d.fill(0),d},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}})(Ra,Ra.exports);var uu=Ra.exports.Buffer,_c=uu.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function d_(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function p_(t){var e=d_(t);if(typeof e!="string"&&(uu.isEncoding===_c||!_c(t)))throw new Error("Unknown encoding: "+t);return e||t}au.StringDecoder=Ci;function Ci(t){this.encoding=p_(t);var e;switch(this.encoding){case"utf16le":this.text=w_,this.end=__,e=4;break;case"utf8":this.fillLast=v_,e=4;break;case"base64":this.text=S_,this.end=E_,e=3;break;default:this.write=M_,this.end=x_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=uu.allocUnsafe(e)}Ci.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Ci.prototype.end=m_;Ci.prototype.text=b_;Ci.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Ps(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function g_(t,e,r){var n=e.length-1;if(n<r)return 0;var i=Ps(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=Ps(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=Ps(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function y_(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function v_(t){var e=this.lastTotal-this.lastNeed,r=y_(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function b_(t,e){var r=g_(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function m_(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function w_(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function __(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function S_(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function E_(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function M_(t){return t.toString(this.encoding)}function x_(t){return t&&t.length?this.write(t):""}var Sc=$r.codes.ERR_STREAM_PREMATURE_CLOSE;function k_(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function A_(){}function C_(t){return t.setHeader&&typeof t.abort=="function"}function Wf(t,e,r){if(typeof e=="function")return Wf(t,null,e);e||(e={}),r=k_(r||A_);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||a()},s=t._writableState&&t._writableState.finished,a=function(){i=!1,s=!0,n||r.call(t)},l=t._readableState&&t._readableState.endEmitted,d=function(){n=!1,l=!0,i||r.call(t)},p=function(k){r.call(t,k)},S=function(){var k;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(k=new Sc),r.call(t,k);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(k=new Sc),r.call(t,k)},m=function(){t.req.on("finish",a)};return C_(t)?(t.on("complete",a),t.on("abort",S),t.req?m():t.on("request",m)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",d),t.on("finish",a),e.error!==!1&&t.on("error",p),t.on("close",S),function(){t.removeListener("complete",a),t.removeListener("abort",S),t.removeListener("request",m),t.req&&t.req.removeListener("finish",a),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",a),t.removeListener("end",d),t.removeListener("error",p),t.removeListener("close",S)}}var cu=Wf,$i;function Kt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var R_=cu,Jt=Symbol("lastResolve"),xr=Symbol("lastReject"),ti=Symbol("error"),yo=Symbol("ended"),Tr=Symbol("lastPromise"),lu=Symbol("handlePromise"),Or=Symbol("stream");function tr(t,e){return{value:t,done:e}}function I_(t){var e=t[Jt];if(e!==null){var r=t[Or].read();r!==null&&(t[Tr]=null,t[Jt]=null,t[xr]=null,e(tr(r,!1)))}}function T_(t){process.nextTick(I_,t)}function O_(t,e){return function(r,n){t.then(function(){if(e[yo]){r(tr(void 0,!0));return}e[lu](r,n)},n)}}var N_=Object.getPrototypeOf(function(){}),L_=Object.setPrototypeOf(($i={get stream(){return this[Or]},next:function(){var e=this,r=this[ti];if(r!==null)return Promise.reject(r);if(this[yo])return Promise.resolve(tr(void 0,!0));if(this[Or].destroyed)return new Promise(function(s,a){process.nextTick(function(){e[ti]?a(e[ti]):s(tr(void 0,!0))})});var n=this[Tr],i;if(n)i=new Promise(O_(n,this));else{var o=this[Or].read();if(o!==null)return Promise.resolve(tr(o,!1));i=new Promise(this[lu])}return this[Tr]=i,i}},Kt($i,Symbol.asyncIterator,function(){return this}),Kt($i,"return",function(){var e=this;return new Promise(function(r,n){e[Or].destroy(null,function(i){if(i){n(i);return}r(tr(void 0,!0))})})}),$i),N_),P_=function(e){var r,n=Object.create(L_,(r={},Kt(r,Or,{value:e,writable:!0}),Kt(r,Jt,{value:null,writable:!0}),Kt(r,xr,{value:null,writable:!0}),Kt(r,ti,{value:null,writable:!0}),Kt(r,yo,{value:e._readableState.endEmitted,writable:!0}),Kt(r,lu,{value:function(o,s){var a=n[Or].read();a?(n[Tr]=null,n[Jt]=null,n[xr]=null,o(tr(a,!1))):(n[Jt]=o,n[xr]=s)},writable:!0}),r));return n[Tr]=null,R_(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[xr];o!==null&&(n[Tr]=null,n[Jt]=null,n[xr]=null,o(i)),n[ti]=i;return}var s=n[Jt];s!==null&&(n[Tr]=null,n[Jt]=null,n[xr]=null,s(tr(void 0,!0))),n[yo]=!0}),e.on("readable",T_.bind(null,n)),n},D_=P_,j_=function(){throw new Error("Readable.from is not available in the browser")},$f=oe,pn;oe.ReadableState=zf;Eo.exports.EventEmitter;var Uf=function(e,r){return e.listeners(r).length},Ri=If,Do=Mo.Buffer,B_=X.Uint8Array||function(){};function F_(t){return Do.from(t)}function W_(t){return Do.isBuffer(t)||t instanceof B_}var Ds=Ja,Z;Ds&&Ds.debuglog?Z=Ds.debuglog("stream"):Z=function(){};var $_=Mw,fu=Tf,U_=Nf,z_=U_.getHighWaterMark,jo=$r.codes,H_=jo.ERR_INVALID_ARG_TYPE,q_=jo.ERR_STREAM_PUSH_AFTER_EOF,V_=jo.ERR_METHOD_NOT_IMPLEMENTED,G_=jo.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,gn,js,Bs;Tn.exports(oe,Ri);var ri=fu.errorOrDestroy,Fs=["error","close","destroy","pause","resume"];function Q_(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function zf(t,e,r){pn=pn||Wn,t=t||{},typeof r!="boolean"&&(r=e instanceof pn),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=z_(this,t,"readableHighWaterMark",r),this.buffer=new $_,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(gn||(gn=au.StringDecoder),this.decoder=new gn(t.encoding),this.encoding=t.encoding)}function oe(t){if(pn=pn||Wn,!(this instanceof oe))return new oe(t);var e=this instanceof pn;this._readableState=new zf(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Ri.call(this)}Object.defineProperty(oe.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});oe.prototype.destroy=fu.destroy;oe.prototype._undestroy=fu.undestroy;oe.prototype._destroy=function(t,e){e(t)};oe.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Do.from(t,e),e=""),n=!0),Hf(this,t,e,!1,n)};oe.prototype.unshift=function(t){return Hf(this,t,null,!0,!1)};function Hf(t,e,r,n,i){Z("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,J_(t,o);else{var s;if(i||(s=Y_(o,e)),s)ri(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==Do.prototype&&(e=F_(e)),n)o.endEmitted?ri(t,new G_):Ws(t,o,e,!0);else if(o.ended)ri(t,new q_);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?Ws(t,o,e,!1):Ia(t,o)):Ws(t,o,e,!1)}else n||(o.reading=!1,Ia(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function Ws(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Bo(t)),Ia(t,e)}function Y_(t,e){var r;return!W_(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new H_("chunk",["string","Buffer","Uint8Array"],e)),r}oe.prototype.isPaused=function(){return this._readableState.flowing===!1};oe.prototype.setEncoding=function(t){gn||(gn=au.StringDecoder);var e=new gn(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Ec=1073741824;function K_(t){return t>=Ec?t=Ec:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function Mc(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=K_(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}oe.prototype.read=function(t){Z("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Z("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?$s(this):Bo(this),null;if(t=Mc(t,e),t===0&&e.ended)return e.length===0&&$s(this),null;var n=e.needReadable;Z("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Z("length less than watermark",n)),e.ended||e.reading?(n=!1,Z("reading or ended",n)):n&&(Z("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Mc(r,e)));var i;return t>0?i=Gf(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&$s(this)),i!==null&&this.emit("data",i),i};function J_(t,e){if(Z("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Bo(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,qf(t)))}}function Bo(t){var e=t._readableState;Z("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Z("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(qf,t))}function qf(t){var e=t._readableState;Z("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,hu(t)}function Ia(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(Z_,t,e))}function Z_(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Z("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}oe.prototype._read=function(t){ri(this,new V_("_read()"))};oe.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Z("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?a:P;n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(R,N){Z("onunpipe"),R===r&&N&&N.hasUnpiped===!1&&(N.hasUnpiped=!0,p())}function a(){Z("onend"),t.end()}var l=X_(r);t.on("drain",l);var d=!1;function p(){Z("cleanup"),t.removeListener("close",E),t.removeListener("finish",k),t.removeListener("drain",l),t.removeListener("error",m),t.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",P),r.removeListener("data",S),d=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}r.on("data",S);function S(R){Z("ondata");var N=t.write(R);Z("dest.write",N),N===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&Qf(n.pipes,t)!==-1)&&!d&&(Z("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function m(R){Z("onerror",R),P(),t.removeListener("error",m),Uf(t,"error")===0&&ri(t,R)}Q_(t,"error",m);function E(){t.removeListener("finish",k),P()}t.once("close",E);function k(){Z("onfinish"),t.removeListener("close",E),P()}t.once("finish",k);function P(){Z("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Z("pipe resume"),r.resume()),t};function X_(t){return function(){var r=t._readableState;Z("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Uf(t,"data")&&(r.flowing=!0,hu(t))}}oe.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=Qf(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};oe.prototype.on=function(t,e){var r=Ri.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Z("on readable",n.length,n.reading),n.length?Bo(this):n.reading||process.nextTick(e1,this)),r};oe.prototype.addListener=oe.prototype.on;oe.prototype.removeListener=function(t,e){var r=Ri.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(Vf,this),r};oe.prototype.removeAllListeners=function(t){var e=Ri.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(Vf,this),e};function Vf(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function e1(t){Z("readable nexttick read 0"),t.read(0)}oe.prototype.resume=function(){var t=this._readableState;return t.flowing||(Z("resume"),t.flowing=!t.readableListening,t1(this,t)),t.paused=!1,this};function t1(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(r1,t,e))}function r1(t,e){Z("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),hu(t),e.flowing&&!e.reading&&t.read(0)}oe.prototype.pause=function(){return Z("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Z("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function hu(t){var e=t._readableState;for(Z("flow",e.flowing);e.flowing&&t.read()!==null;);}oe.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Z("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(Z("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var a=e.push(s);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(a){return function(){return t[a].apply(t,arguments)}}(i));for(var o=0;o<Fs.length;o++)t.on(Fs[o],this.emit.bind(this,Fs[o]));return this._read=function(s){Z("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(oe.prototype[Symbol.asyncIterator]=function(){return js===void 0&&(js=D_),js(this)});Object.defineProperty(oe.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(oe.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(oe.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});oe._fromList=Gf;Object.defineProperty(oe.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Gf(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function $s(t){var e=t._readableState;Z("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(n1,e,t))}function n1(t,e){if(Z("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(oe.from=function(t,e){return Bs===void 0&&(Bs=j_),Bs(oe,t,e)});function Qf(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}var Yf=Ut,Fo=$r.codes,i1=Fo.ERR_METHOD_NOT_IMPLEMENTED,o1=Fo.ERR_MULTIPLE_CALLBACK,s1=Fo.ERR_TRANSFORM_ALREADY_TRANSFORMING,a1=Fo.ERR_TRANSFORM_WITH_LENGTH_0,Wo=Wn;Tn.exports(Ut,Wo);function u1(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new o1);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ut(t){if(!(this instanceof Ut))return new Ut(t);Wo.call(this,t),this._transformState={afterTransform:u1.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",c1)}function c1(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){xc(t,e,r)}):xc(this,null,null)}Ut.prototype.push=function(t,e){return this._transformState.needTransform=!1,Wo.prototype.push.call(this,t,e)};Ut.prototype._transform=function(t,e,r){r(new i1("_transform()"))};Ut.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ut.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Ut.prototype._destroy=function(t,e){Wo.prototype._destroy.call(this,t,function(r){e(r)})};function xc(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new a1;if(t._transformState.transforming)throw new s1;return t.push(null)}var l1=gi,Kf=Yf;Tn.exports(gi,Kf);function gi(t){if(!(this instanceof gi))return new gi(t);Kf.call(this,t)}gi.prototype._transform=function(t,e,r){r(null,t)};var Us;function f1(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Jf=$r.codes,h1=Jf.ERR_MISSING_ARGS,d1=Jf.ERR_STREAM_DESTROYED;function kc(t){if(t)throw t}function p1(t){return t.setHeader&&typeof t.abort=="function"}function g1(t,e,r,n){n=f1(n);var i=!1;t.on("close",function(){i=!0}),Us===void 0&&(Us=cu),Us(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,p1(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new d1("pipe"))}}}function Ac(t){t()}function y1(t,e){return t.pipe(e)}function v1(t){return!t.length||typeof t[t.length-1]!="function"?kc:t.pop()}function b1(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=v1(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new h1("streams");var i,o=e.map(function(s,a){var l=a<e.length-1,d=a>0;return g1(s,l,d,function(p){i||(i=p),p&&o.forEach(Ac),!l&&(o.forEach(Ac),n(i))})});return e.reduce(y1)}var m1=b1;(function(t,e){e=t.exports=$f,e.Stream=e,e.Readable=e,e.Writable=Lf,e.Duplex=Wn,e.Transform=Yf,e.PassThrough=l1,e.finished=cu,e.pipeline=m1})(go,go.exports);const{Transform:w1}=go.exports;var _1=t=>class Zf extends w1{constructor(r,n,i,o,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=o,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let o=null;try{this.update(r,n)}catch(s){o=s}i(o)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Zf(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:S1}=go.exports;var E1=t=>class Xf extends S1{constructor(r,n,i,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let o=null;try{this.update(r,n)}catch(s){o=s}i(o)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Xf(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const M1=_1,x1=E1;var k1=function(t){const e=M1(t),r=x1(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},eh={};const Cc=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];eh.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],o=t[3]^t[13]^t[23]^t[33]^t[43],s=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],l=t[6]^t[16]^t[26]^t[36]^t[46],d=t[7]^t[17]^t[27]^t[37]^t[47],p=t[8]^t[18]^t[28]^t[38]^t[48],S=t[9]^t[19]^t[29]^t[39]^t[49];let m=p^(i<<1|o>>>31),E=S^(o<<1|i>>>31);const k=t[0]^m,P=t[1]^E,R=t[10]^m,N=t[11]^E,L=t[20]^m,T=t[21]^E,W=t[30]^m,G=t[31]^E,V=t[40]^m,K=t[41]^E;m=r^(s<<1|a>>>31),E=n^(a<<1|s>>>31);const ge=t[2]^m,le=t[3]^E,ae=t[12]^m,U=t[13]^E,z=t[22]^m,b=t[23]^E,u=t[32]^m,f=t[33]^E,g=t[42]^m,v=t[43]^E;m=i^(l<<1|d>>>31),E=o^(d<<1|l>>>31);const w=t[4]^m,_=t[5]^E,M=t[14]^m,y=t[15]^E,c=t[24]^m,h=t[25]^E,x=t[34]^m,I=t[35]^E,O=t[44]^m,$=t[45]^E;m=s^(p<<1|S>>>31),E=a^(S<<1|p>>>31);const D=t[6]^m,j=t[7]^E,ie=t[16]^m,J=t[17]^E,se=t[26]^m,It=t[27]^E,ue=t[36]^m,fe=t[37]^E,qt=t[46]^m,he=t[47]^E;m=l^(r<<1|n>>>31),E=d^(n<<1|r>>>31);const de=t[8]^m,A=t[9]^E,pe=t[18]^m,ye=t[19]^E,Hn=t[28]^m,$e=t[29]^E,Ue=t[38]^m,qn=t[39]^E,ze=t[48]^m,He=t[49]^E,zr=k,ve=P,be=N<<4|R>>>28,Hr=R<<4|N>>>28,me=L<<3|T>>>29,we=T<<3|L>>>29,qr=G<<9|W>>>23,_e=W<<9|G>>>23,Se=V<<18|K>>>14,Vr=K<<18|V>>>14,Ee=ge<<1|le>>>31,Me=le<<1|ge>>>31,Gr=U<<12|ae>>>20,xe=ae<<12|U>>>20,ke=z<<10|b>>>22,Qr=b<<10|z>>>22,Ae=f<<13|u>>>19,Ce=u<<13|f>>>19,Yr=g<<2|v>>>30,Re=v<<2|g>>>30,Ie=_<<30|w>>>2,Kr=w<<30|_>>>2,Te=M<<6|y>>>26,Oe=y<<6|M>>>26,Jr=h<<11|c>>>21,Ne=c<<11|h>>>21,Le=x<<15|I>>>17,Zr=I<<15|x>>>17,Pe=$<<29|O>>>3,De=O<<29|$>>>3,Xr=D<<28|j>>>4,je=j<<28|D>>>4,Be=J<<23|ie>>>9,en=ie<<23|J>>>9,Fe=se<<25|It>>>7,We=It<<25|se>>>7,lr=ue<<21|fe>>>11,fr=fe<<21|ue>>>11,hr=he<<24|qt>>>8,dr=qt<<24|he>>>8,pr=de<<27|A>>>5,gr=A<<27|de>>>5,yr=pe<<20|ye>>>12,vr=ye<<20|pe>>>12,br=$e<<7|Hn>>>25,mr=Hn<<7|$e>>>25,wr=Ue<<8|qn>>>24,_r=qn<<8|Ue>>>24,Sr=ze<<14|He>>>18,Er=He<<14|ze>>>18;t[0]=zr^~Gr&Jr,t[1]=ve^~xe&Ne,t[10]=Xr^~yr&me,t[11]=je^~vr&we,t[20]=Ee^~Te&Fe,t[21]=Me^~Oe&We,t[30]=pr^~be&ke,t[31]=gr^~Hr&Qr,t[40]=Ie^~Be&br,t[41]=Kr^~en&mr,t[2]=Gr^~Jr&lr,t[3]=xe^~Ne&fr,t[12]=yr^~me&Ae,t[13]=vr^~we&Ce,t[22]=Te^~Fe&wr,t[23]=Oe^~We&_r,t[32]=be^~ke&Le,t[33]=Hr^~Qr&Zr,t[42]=Be^~br&qr,t[43]=en^~mr&_e,t[4]=Jr^~lr&Sr,t[5]=Ne^~fr&Er,t[14]=me^~Ae&Pe,t[15]=we^~Ce&De,t[24]=Fe^~wr&Se,t[25]=We^~_r&Vr,t[34]=ke^~Le&hr,t[35]=Qr^~Zr&dr,t[44]=br^~qr&Yr,t[45]=mr^~_e&Re,t[6]=lr^~Sr&zr,t[7]=fr^~Er&ve,t[16]=Ae^~Pe&Xr,t[17]=Ce^~De&je,t[26]=wr^~Se&Ee,t[27]=_r^~Vr&Me,t[36]=Le^~hr&pr,t[37]=Zr^~dr&gr,t[46]=qr^~Yr&Ie,t[47]=_e^~Re&Kr,t[8]=Sr^~zr&Gr,t[9]=Er^~ve&xe,t[18]=Pe^~Xr&yr,t[19]=De^~je&vr,t[28]=Se^~Ee&Te,t[29]=Vr^~Me&Oe,t[38]=hr^~pr&be,t[39]=dr^~gr&Hr,t[48]=Yr^~Ie&Be,t[49]=Re^~Kr&en,t[0]^=Cc[e*2],t[1]^=Cc[e*2+1]}};const vo=eh;function $n(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}$n.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};$n.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(vo.p1600(this.state),this.count=0)};$n.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),(t&128)!==0&&this.count===this.blockSize-1&&vo.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),vo.p1600(this.state),this.count=0,this.squeezing=!0};$n.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(vo.p1600(this.state),this.count=0);return e};$n.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var A1=$n,C1=k1(A1);const R1=C1,I1=vi.exports;function th(t){return Buffer.allocUnsafe(t).fill(0)}function rh(t,e,r){const n=th(e);return t=$o(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function T1(t,e){return rh(t,e,!0)}function $o(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")nh(t)?t=Buffer.from(L1(ih(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(I1.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function O1(t){return t=$o(t),"0x"+t.toString("hex")}function N1(t,e){return t=$o(t),e||(e=256),R1("keccak"+e).update(t).digest()}function L1(t){return t.length%2?"0"+t:t}function nh(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function ih(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var oh={zeros:th,setLength:rh,setLengthRight:T1,isHexString:nh,stripHexPrefix:ih,toBuffer:$o,bufferToHex:O1,keccak:N1};const Br=oh,Nr=vi.exports;function sh(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function yn(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Rc(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function ah(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Ar(t){var e=typeof t;if(e==="string")return Br.isHexString(t)?new Nr(Br.stripHexPrefix(t),16):new Nr(t,10);if(e==="number")return new Nr(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function Nt(t,e){var r,n,i,o;if(t==="address")return Nt("uint160",Ar(e));if(t==="bool")return Nt("uint8",e?1:0);if(t==="string")return Nt("bytes",new Buffer(e,"utf8"));if(D1(t)){if(typeof e.length=="undefined")throw new Error("Not an array?");if(r=ah(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(o in e)i.push(Nt(t,e[o]));if(r==="dynamic"){var s=Nt("uint256",e.length);i.unshift(s)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([Nt("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Br.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=yn(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return Br.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=yn(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Ar(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=yn(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Ar(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=Rc(t),n=Ar(e),n<0)throw new Error("Supplied ufixed is negative");return Nt("uint256",n.mul(new Nr(2).pow(new Nr(r[1]))))}else if(t.startsWith("fixed"))return r=Rc(t),Nt("int256",Ar(e).mul(new Nr(2).pow(new Nr(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function P1(t){return t==="string"||t==="bytes"||ah(t)==="dynamic"}function D1(t){return t.lastIndexOf("]")===t.length-1}function j1(t,e){var r=[],n=[],i=32*t.length;for(var o in t){var s=sh(t[o]),a=e[o],l=Nt(s,a);P1(s)?(r.push(Nt("uint256",i)),n.push(l),i+=l.length):r.push(l)}return Buffer.concat(r.concat(n))}function uh(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],o=0;o<t.length;o++){var s=sh(t[o]),a=e[o];if(s==="bytes")i.push(a);else if(s==="string")i.push(new Buffer(a,"utf8"));else if(s==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(s==="address")i.push(Br.setLength(a,20));else if(s.startsWith("bytes")){if(r=yn(s),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(Br.setLengthRight(a,r))}else if(s.startsWith("uint")){if(r=yn(s),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Ar(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(s.startsWith("int")){if(r=yn(s),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Ar(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+s)}return Buffer.concat(i)}function B1(t,e){return Br.keccak(uh(t,e))}var F1={rawEncode:j1,solidityPack:uh,soliditySHA3:B1};const At=oh,ni=F1,ch={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},zs={encodeData(t,e,r,n=!0){const i=["bytes32"],o=[this.hashType(t,r)];if(n){const s=(a,l,d)=>{if(r[l]!==void 0)return["bytes32",d==null?"0x0000000000000000000000000000000000000000000000000000000000000000":At.keccak(this.encodeData(l,d,r,n))];if(d===void 0)throw new Error(`missing value for field ${a} of type ${l}`);if(l==="bytes")return["bytes32",At.keccak(d)];if(l==="string")return typeof d=="string"&&(d=Buffer.from(d,"utf8")),["bytes32",At.keccak(d)];if(l.lastIndexOf("]")===l.length-1){const p=l.slice(0,l.lastIndexOf("[")),S=d.map(m=>s(a,p,m));return["bytes32",At.keccak(ni.rawEncode(S.map(([m])=>m),S.map(([,m])=>m)))]}return[l,d]};for(const a of r[t]){const[l,d]=s(a.name,a.type,e[a.name]);i.push(l),o.push(d)}}else for(const s of r[t]){let a=e[s.name];if(a!==void 0)if(s.type==="bytes")i.push("bytes32"),a=At.keccak(a),o.push(a);else if(s.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=At.keccak(a),o.push(a);else if(r[s.type]!==void 0)i.push("bytes32"),a=At.keccak(this.encodeData(s.type,a,r,n)),o.push(a);else{if(s.type.lastIndexOf("]")===s.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(s.type),o.push(a)}}return ni.rawEncode(i,o)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:s,type:a})=>a+" "+s).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return At.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return At.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in ch.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),At.keccak(Buffer.concat(n))}};var W1={TYPED_MESSAGE_SCHEMA:ch,TypedDataUtils:zs,hashForSignTypedDataLegacy:function(t){return $1(t.data)},hashForSignTypedData_v3:function(t){return zs.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return zs.hash(t.data)}};function $1(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(o){return o.type==="bytes"?At.toBuffer(o.value):o.value}),n=t.map(function(o){return o.type}),i=t.map(function(o){if(!o.name)throw e;return o.type+" "+o.name});return ni.soliditySHA3(["bytes32","bytes32"],[ni.soliditySHA3(new Array(t.length).fill("string"),i),ni.soliditySHA3(n,r)])}var kn={};Object.defineProperty(kn,"__esModule",{value:!0});kn.filterFromParam=kn.FilterPolyfill=void 0;const sn=ct,ht=B,U1=5*60*1e3,Cr={jsonrpc:"2.0",id:0};class z1{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,sn.IntNumber)(1),this.provider=e}async newFilter(e){const r=lh(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,ht.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,ht.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,ht.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,ht.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,ht.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(Ui())}async getFilterLogs(e){const r=(0,ht.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},Cr),{method:"eth_getLogs",params:[Ic(n)]})):Ui()}makeFilterId(){return(0,sn.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,o)=>{if(i)return n(i);if(Array.isArray(o)||o==null)return n(new Error(`unexpected response received: ${JSON.stringify(o)}`));r(o)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return Ui();const i=await this.getCurrentBlockHeight(),o=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return zi();console.log(`Fetching logs from ${n} to ${o} for filter ${e}`);const s=await this.sendAsyncPromise(Object.assign(Object.assign({},Cr),{method:"eth_getLogs",params:[Ic(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:o}))]}));if(Array.isArray(s.result)){const a=s.result.map(d=>(0,ht.intNumberFromHexString)(d.blockNumber||"0x0")),l=Math.max(...a);if(l&&l>n){const d=(0,sn.IntNumber)(l+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${d}`),this.cursors.set(e,d)}}return s}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return Ui();const n=await this.getCurrentBlockHeight();if(r>n)return zi();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,ht.range)(r,n+1).map(s=>this.getBlockHashByNumber((0,sn.IntNumber)(s))))).filter(s=>!!s),o=(0,sn.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${o}`),this.cursors.set(e,o),Object.assign(Object.assign({},Cr),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(zi())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},U1);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},Cr),{method:"eth_blockNumber",params:[]}));return(0,ht.intNumberFromHexString)((0,ht.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},Cr),{method:"eth_getBlockByNumber",params:[(0,ht.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,ht.ensureHexString)(r.result.hash):null}}kn.FilterPolyfill=z1;function lh(t){return{fromBlock:Tc(t.fromBlock),toBlock:Tc(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}kn.filterFromParam=lh;function Ic(t){const e={fromBlock:Oc(t.fromBlock),toBlock:Oc(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function Tc(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,sn.IntNumber)(0);if((0,ht.isHexString)(t))return(0,ht.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function Oc(t){return t==="latest"?t:(0,ht.hexStringFromIntNumber)(t)}function Ui(){return Object.assign(Object.assign({},Cr),{error:{code:-32e3,message:"filter not found"}})}function zi(){return Object.assign(Object.assign({},Cr),{result:[]})}var fh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(fh);var Uo={};const Nc=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,o)=>{e.errorFirst?n.push(function(s,a){if(e.multiArgs){const l=new Array(arguments.length-1);for(let d=1;d<arguments.length;d++)l[d-1]=arguments[d];s?(l.unshift(s),o(l)):i(l)}else s?o(s):i(a)}):n.push(function(s){if(e.multiArgs){const a=new Array(arguments.length-1);for(let l=0;l<arguments.length;l++)a[l]=arguments[l];i(a)}else i(s)}),t.apply(this,n)})};var H1=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const o=s=>typeof s=="string"?i===s:s.test(i);return e.include?e.include.some(o):!e.exclude.some(o)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):Nc(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const o=t[i];n[i]=typeof o=="function"&&r(i)?Nc(o,e):o}return n},q1=G1,V1=Object.prototype.hasOwnProperty;function G1(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)V1.call(r,n)&&(t[n]=r[n])}return t}var Q1=Y1;function Y1(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start!="undefined"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const K1=q1,J1=Q1();var Z1=H;function H(t){const e=this;e.currentProvider=t}H.prototype.getBalance=Ii(2,"eth_getBalance");H.prototype.getCode=Ii(2,"eth_getCode");H.prototype.getTransactionCount=Ii(2,"eth_getTransactionCount");H.prototype.getStorageAt=Ii(3,"eth_getStorageAt");H.prototype.call=Ii(2,"eth_call");H.prototype.protocolVersion=ee("eth_protocolVersion");H.prototype.syncing=ee("eth_syncing");H.prototype.coinbase=ee("eth_coinbase");H.prototype.mining=ee("eth_mining");H.prototype.hashrate=ee("eth_hashrate");H.prototype.gasPrice=ee("eth_gasPrice");H.prototype.accounts=ee("eth_accounts");H.prototype.blockNumber=ee("eth_blockNumber");H.prototype.getBlockTransactionCountByHash=ee("eth_getBlockTransactionCountByHash");H.prototype.getBlockTransactionCountByNumber=ee("eth_getBlockTransactionCountByNumber");H.prototype.getUncleCountByBlockHash=ee("eth_getUncleCountByBlockHash");H.prototype.getUncleCountByBlockNumber=ee("eth_getUncleCountByBlockNumber");H.prototype.sign=ee("eth_sign");H.prototype.sendTransaction=ee("eth_sendTransaction");H.prototype.sendRawTransaction=ee("eth_sendRawTransaction");H.prototype.estimateGas=ee("eth_estimateGas");H.prototype.getBlockByHash=ee("eth_getBlockByHash");H.prototype.getBlockByNumber=ee("eth_getBlockByNumber");H.prototype.getTransactionByHash=ee("eth_getTransactionByHash");H.prototype.getTransactionByBlockHashAndIndex=ee("eth_getTransactionByBlockHashAndIndex");H.prototype.getTransactionByBlockNumberAndIndex=ee("eth_getTransactionByBlockNumberAndIndex");H.prototype.getTransactionReceipt=ee("eth_getTransactionReceipt");H.prototype.getUncleByBlockHashAndIndex=ee("eth_getUncleByBlockHashAndIndex");H.prototype.getUncleByBlockNumberAndIndex=ee("eth_getUncleByBlockNumberAndIndex");H.prototype.getCompilers=ee("eth_getCompilers");H.prototype.compileLLL=ee("eth_compileLLL");H.prototype.compileSolidity=ee("eth_compileSolidity");H.prototype.compileSerpent=ee("eth_compileSerpent");H.prototype.newFilter=ee("eth_newFilter");H.prototype.newBlockFilter=ee("eth_newBlockFilter");H.prototype.newPendingTransactionFilter=ee("eth_newPendingTransactionFilter");H.prototype.uninstallFilter=ee("eth_uninstallFilter");H.prototype.getFilterChanges=ee("eth_getFilterChanges");H.prototype.getFilterLogs=ee("eth_getFilterLogs");H.prototype.getLogs=ee("eth_getLogs");H.prototype.getWork=ee("eth_getWork");H.prototype.submitWork=ee("eth_submitWork");H.prototype.submitHashrate=ee("eth_submitHashrate");H.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(X1(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function ee(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function Ii(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function X1(t){return K1({id:J1(),jsonrpc:"2.0",params:[]},t)}var hh={},dh={},eS=af,zo=function(){return eS()&&!!Symbol.toStringTag},tS=zo(),rS=No,Ta=rS("Object.prototype.toString"),Ho=function(e){return tS&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:Ta(e)==="[object Arguments]"},ph=function(e){return Ho(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Ta(e)!=="[object Array]"&&Ta(e.callee)==="[object Function]"},nS=function(){return Ho(arguments)}();Ho.isLegacyArguments=ph;var iS=nS?Ho:ph,oS=Object.prototype.toString,sS=Function.prototype.toString,aS=/^\s*(?:function)?\*/,gh=zo(),Hs=Object.getPrototypeOf,uS=function(){if(!gh)return!1;try{return Function("return function*() {}")()}catch{}},qs,cS=function(e){if(typeof e!="function")return!1;if(aS.test(sS.call(e)))return!0;if(!gh){var r=oS.call(e);return r==="[object GeneratorFunction]"}if(!Hs)return!1;if(typeof qs=="undefined"){var n=uS();qs=n?Hs(n):!1}return Hs(e)===qs},yh=Function.prototype.toString,un=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Oa,eo;if(typeof un=="function"&&typeof Object.defineProperty=="function")try{Oa=Object.defineProperty({},"length",{get:function(){throw eo}}),eo={},un(function(){throw 42},null,Oa)}catch(t){t!==eo&&(un=null)}else un=null;var lS=/^\s*class\b/,Na=function(e){try{var r=yh.call(e);return lS.test(r)}catch{return!1}},fS=function(e){try{return Na(e)?!1:(yh.call(e),!0)}catch{return!1}},hS=Object.prototype.toString,dS="[object Function]",pS="[object GeneratorFunction]",gS=typeof Symbol=="function"&&!!Symbol.toStringTag,Lc=typeof document=="object"&&typeof document.all=="undefined"&&document.all!==void 0?document.all:{},yS=un?function(e){if(e===Lc)return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(typeof e=="function"&&!e.prototype)return!0;try{un(e,null,Oa)}catch(r){if(r!==eo)return!1}return!Na(e)}:function(e){if(e===Lc)return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(typeof e=="function"&&!e.prototype)return!0;if(gS)return fS(e);if(Na(e))return!1;var r=hS.call(e);return r===dS||r===pS},vS=yS,bS=Object.prototype.toString,vh=Object.prototype.hasOwnProperty,mS=function(e,r,n){for(var i=0,o=e.length;i<o;i++)vh.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},wS=function(e,r,n){for(var i=0,o=e.length;i<o;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},_S=function(e,r,n){for(var i in e)vh.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},SS=function(e,r,n){if(!vS(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),bS.call(e)==="[object Array]"?mS(e,r,i):typeof e=="string"?wS(e,r,i):_S(e,r,i)},bh=SS,Vs=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],ES=typeof globalThis=="undefined"?X:globalThis,mh=function(){for(var e=[],r=0;r<Vs.length;r++)typeof ES[Vs[r]]=="function"&&(e[e.length]=Vs[r]);return e},MS=Oo,to=MS("%Object.getOwnPropertyDescriptor%",!0);if(to)try{to([],"length")}catch{to=null}var wh=to,_h=bh,xS=mh,du=No,kS=du("Object.prototype.toString"),Sh=zo(),AS=typeof globalThis=="undefined"?X:globalThis,Eh=xS(),CS=du("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},RS=du("String.prototype.slice"),Mh={},ro=wh,Gs=Object.getPrototypeOf;Sh&&ro&&Gs&&_h(Eh,function(t){var e=new AS[t];if(Symbol.toStringTag in e){var r=Gs(e),n=ro(r,Symbol.toStringTag);if(!n){var i=Gs(r);n=ro(i,Symbol.toStringTag)}Mh[t]=n.get}});var IS=function(e){var r=!1;return _h(Mh,function(n,i){if(!r)try{r=n.call(e)===i}catch{}}),r},xh=function(e){if(!e||typeof e!="object")return!1;if(!Sh||!(Symbol.toStringTag in e)){var r=RS(kS(e),8,-1);return CS(Eh,r)>-1}return ro?IS(e):!1},kh=bh,TS=mh,Ah=No,OS=Ah("Object.prototype.toString"),Ch=zo(),Pc=typeof globalThis=="undefined"?X:globalThis,NS=TS(),LS=Ah("String.prototype.slice"),Rh={},Qs=wh,Ys=Object.getPrototypeOf;Ch&&Qs&&Ys&&kh(NS,function(t){if(typeof Pc[t]=="function"){var e=new Pc[t];if(Symbol.toStringTag in e){var r=Ys(e),n=Qs(r,Symbol.toStringTag);if(!n){var i=Ys(r);n=Qs(i,Symbol.toStringTag)}Rh[t]=n.get}}});var PS=function(e){var r=!1;return kh(Rh,function(n,i){if(!r)try{var o=n.call(e);o===i&&(r=o)}catch{}}),r},DS=xh,jS=function(e){return DS(e)?!Ch||!(Symbol.toStringTag in e)?LS(OS(e),8,-1):PS(e):!1};(function(t){var e=iS,r=cS,n=jS,i=xh;function o(A){return A.call.bind(A)}var s=typeof BigInt!="undefined",a=typeof Symbol!="undefined",l=o(Object.prototype.toString),d=o(Number.prototype.valueOf),p=o(String.prototype.valueOf),S=o(Boolean.prototype.valueOf);if(s)var m=o(BigInt.prototype.valueOf);if(a)var E=o(Symbol.prototype.valueOf);function k(A,pe){if(typeof A!="object")return!1;try{return pe(A),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function P(A){return typeof Promise!="undefined"&&A instanceof Promise||A!==null&&typeof A=="object"&&typeof A.then=="function"&&typeof A.catch=="function"}t.isPromise=P;function R(A){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(A):i(A)||h(A)}t.isArrayBufferView=R;function N(A){return n(A)==="Uint8Array"}t.isUint8Array=N;function L(A){return n(A)==="Uint8ClampedArray"}t.isUint8ClampedArray=L;function T(A){return n(A)==="Uint16Array"}t.isUint16Array=T;function W(A){return n(A)==="Uint32Array"}t.isUint32Array=W;function G(A){return n(A)==="Int8Array"}t.isInt8Array=G;function V(A){return n(A)==="Int16Array"}t.isInt16Array=V;function K(A){return n(A)==="Int32Array"}t.isInt32Array=K;function ge(A){return n(A)==="Float32Array"}t.isFloat32Array=ge;function le(A){return n(A)==="Float64Array"}t.isFloat64Array=le;function ae(A){return n(A)==="BigInt64Array"}t.isBigInt64Array=ae;function U(A){return n(A)==="BigUint64Array"}t.isBigUint64Array=U;function z(A){return l(A)==="[object Map]"}z.working=typeof Map!="undefined"&&z(new Map);function b(A){return typeof Map=="undefined"?!1:z.working?z(A):A instanceof Map}t.isMap=b;function u(A){return l(A)==="[object Set]"}u.working=typeof Set!="undefined"&&u(new Set);function f(A){return typeof Set=="undefined"?!1:u.working?u(A):A instanceof Set}t.isSet=f;function g(A){return l(A)==="[object WeakMap]"}g.working=typeof WeakMap!="undefined"&&g(new WeakMap);function v(A){return typeof WeakMap=="undefined"?!1:g.working?g(A):A instanceof WeakMap}t.isWeakMap=v;function w(A){return l(A)==="[object WeakSet]"}w.working=typeof WeakSet!="undefined"&&w(new WeakSet);function _(A){return w(A)}t.isWeakSet=_;function M(A){return l(A)==="[object ArrayBuffer]"}M.working=typeof ArrayBuffer!="undefined"&&M(new ArrayBuffer);function y(A){return typeof ArrayBuffer=="undefined"?!1:M.working?M(A):A instanceof ArrayBuffer}t.isArrayBuffer=y;function c(A){return l(A)==="[object DataView]"}c.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&c(new DataView(new ArrayBuffer(1),0,1));function h(A){return typeof DataView=="undefined"?!1:c.working?c(A):A instanceof DataView}t.isDataView=h;var x=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function I(A){return l(A)==="[object SharedArrayBuffer]"}function O(A){return typeof x=="undefined"?!1:(typeof I.working=="undefined"&&(I.working=I(new x)),I.working?I(A):A instanceof x)}t.isSharedArrayBuffer=O;function $(A){return l(A)==="[object AsyncFunction]"}t.isAsyncFunction=$;function D(A){return l(A)==="[object Map Iterator]"}t.isMapIterator=D;function j(A){return l(A)==="[object Set Iterator]"}t.isSetIterator=j;function ie(A){return l(A)==="[object Generator]"}t.isGeneratorObject=ie;function J(A){return l(A)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=J;function se(A){return k(A,d)}t.isNumberObject=se;function It(A){return k(A,p)}t.isStringObject=It;function ue(A){return k(A,S)}t.isBooleanObject=ue;function fe(A){return s&&k(A,m)}t.isBigIntObject=fe;function qt(A){return a&&k(A,E)}t.isSymbolObject=qt;function he(A){return se(A)||It(A)||ue(A)||fe(A)||qt(A)}t.isBoxedPrimitive=he;function de(A){return typeof Uint8Array!="undefined"&&(y(A)||O(A))}t.isAnyArrayBuffer=de,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(A){Object.defineProperty(t,A,{enumerable:!1,value:function(){throw new Error(A+" is not supported in userland")}})})})(dh);var BS=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(t){var e=Object.getOwnPropertyDescriptors||function(h){for(var x=Object.keys(h),I={},O=0;O<x.length;O++)I[x[O]]=Object.getOwnPropertyDescriptor(h,x[O]);return I},r=/%[sdj%]/g;t.format=function(c){if(!G(c)){for(var h=[],x=0;x<arguments.length;x++)h.push(s(arguments[x]));return h.join(" ")}for(var x=1,I=arguments,O=I.length,$=String(c).replace(r,function(j){if(j==="%%")return"%";if(x>=O)return j;switch(j){case"%s":return String(I[x++]);case"%d":return Number(I[x++]);case"%j":try{return JSON.stringify(I[x++])}catch{return"[Circular]"}default:return j}}),D=I[x];x<O;D=I[++x])L(D)||!le(D)?$+=" "+D:$+=" "+s(D);return $},t.deprecate=function(c,h){if(typeof process!="undefined"&&process.noDeprecation===!0)return c;if(typeof process=="undefined")return function(){return t.deprecate(c,h).apply(this,arguments)};var x=!1;function I(){if(!x){if(process.throwDeprecation)throw new Error(h);process.traceDeprecation?console.trace(h):console.error(h),x=!0}return c.apply(this,arguments)}return I};var n={},i=/^$/;if({}.NODE_DEBUG){var o={}.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}t.debuglog=function(c){if(c=c.toUpperCase(),!n[c])if(i.test(c)){var h=process.pid;n[c]=function(){var x=t.format.apply(t,arguments);console.error("%s %d: %s",c,h,x)}}else n[c]=function(){};return n[c]};function s(c,h){var x={seen:[],stylize:l};return arguments.length>=3&&(x.depth=arguments[2]),arguments.length>=4&&(x.colors=arguments[3]),N(h)?x.showHidden=h:h&&t._extend(x,h),K(x.showHidden)&&(x.showHidden=!1),K(x.depth)&&(x.depth=2),K(x.colors)&&(x.colors=!1),K(x.customInspect)&&(x.customInspect=!0),x.colors&&(x.stylize=a),p(x,c,x.depth)}t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(c,h){var x=s.styles[h];return x?"\x1B["+s.colors[x][0]+"m"+c+"\x1B["+s.colors[x][1]+"m":c}function l(c,h){return c}function d(c){var h={};return c.forEach(function(x,I){h[x]=!0}),h}function p(c,h,x){if(c.customInspect&&h&&z(h.inspect)&&h.inspect!==t.inspect&&!(h.constructor&&h.constructor.prototype===h)){var I=h.inspect(x,c);return G(I)||(I=p(c,I,x)),I}var O=S(c,h);if(O)return O;var $=Object.keys(h),D=d($);if(c.showHidden&&($=Object.getOwnPropertyNames(h)),U(h)&&($.indexOf("message")>=0||$.indexOf("description")>=0))return m(h);if($.length===0){if(z(h)){var j=h.name?": "+h.name:"";return c.stylize("[Function"+j+"]","special")}if(ge(h))return c.stylize(RegExp.prototype.toString.call(h),"regexp");if(ae(h))return c.stylize(Date.prototype.toString.call(h),"date");if(U(h))return m(h)}var ie="",J=!1,se=["{","}"];if(R(h)&&(J=!0,se=["[","]"]),z(h)){var It=h.name?": "+h.name:"";ie=" [Function"+It+"]"}if(ge(h)&&(ie=" "+RegExp.prototype.toString.call(h)),ae(h)&&(ie=" "+Date.prototype.toUTCString.call(h)),U(h)&&(ie=" "+m(h)),$.length===0&&(!J||h.length==0))return se[0]+ie+se[1];if(x<0)return ge(h)?c.stylize(RegExp.prototype.toString.call(h),"regexp"):c.stylize("[Object]","special");c.seen.push(h);var ue;return J?ue=E(c,h,x,D,$):ue=$.map(function(fe){return k(c,h,x,D,fe,J)}),c.seen.pop(),P(ue,ie,se)}function S(c,h){if(K(h))return c.stylize("undefined","undefined");if(G(h)){var x="'"+JSON.stringify(h).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return c.stylize(x,"string")}if(W(h))return c.stylize(""+h,"number");if(N(h))return c.stylize(""+h,"boolean");if(L(h))return c.stylize("null","null")}function m(c){return"["+Error.prototype.toString.call(c)+"]"}function E(c,h,x,I,O){for(var $=[],D=0,j=h.length;D<j;++D)w(h,String(D))?$.push(k(c,h,x,I,String(D),!0)):$.push("");return O.forEach(function(ie){ie.match(/^\d+$/)||$.push(k(c,h,x,I,ie,!0))}),$}function k(c,h,x,I,O,$){var D,j,ie;if(ie=Object.getOwnPropertyDescriptor(h,O)||{value:h[O]},ie.get?ie.set?j=c.stylize("[Getter/Setter]","special"):j=c.stylize("[Getter]","special"):ie.set&&(j=c.stylize("[Setter]","special")),w(I,O)||(D="["+O+"]"),j||(c.seen.indexOf(ie.value)<0?(L(x)?j=p(c,ie.value,null):j=p(c,ie.value,x-1),j.indexOf(`
`)>-1&&($?j=j.split(`
`).map(function(J){return"  "+J}).join(`
`).substr(2):j=`
`+j.split(`
`).map(function(J){return"   "+J}).join(`
`))):j=c.stylize("[Circular]","special")),K(D)){if($&&O.match(/^\d+$/))return j;D=JSON.stringify(""+O),D.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(D=D.substr(1,D.length-2),D=c.stylize(D,"name")):(D=D.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),D=c.stylize(D,"string"))}return D+": "+j}function P(c,h,x){var I=c.reduce(function(O,$){return $.indexOf(`
`)>=0,O+$.replace(/\u001b\[\d\d?m/g,"").length+1},0);return I>60?x[0]+(h===""?"":h+`
 `)+" "+c.join(`,
  `)+" "+x[1]:x[0]+h+" "+c.join(", ")+" "+x[1]}t.types=dh;function R(c){return Array.isArray(c)}t.isArray=R;function N(c){return typeof c=="boolean"}t.isBoolean=N;function L(c){return c===null}t.isNull=L;function T(c){return c==null}t.isNullOrUndefined=T;function W(c){return typeof c=="number"}t.isNumber=W;function G(c){return typeof c=="string"}t.isString=G;function V(c){return typeof c=="symbol"}t.isSymbol=V;function K(c){return c===void 0}t.isUndefined=K;function ge(c){return le(c)&&u(c)==="[object RegExp]"}t.isRegExp=ge,t.types.isRegExp=ge;function le(c){return typeof c=="object"&&c!==null}t.isObject=le;function ae(c){return le(c)&&u(c)==="[object Date]"}t.isDate=ae,t.types.isDate=ae;function U(c){return le(c)&&(u(c)==="[object Error]"||c instanceof Error)}t.isError=U,t.types.isNativeError=U;function z(c){return typeof c=="function"}t.isFunction=z;function b(c){return c===null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||typeof c=="symbol"||typeof c=="undefined"}t.isPrimitive=b,t.isBuffer=BS;function u(c){return Object.prototype.toString.call(c)}function f(c){return c<10?"0"+c.toString(10):c.toString(10)}var g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function v(){var c=new Date,h=[f(c.getHours()),f(c.getMinutes()),f(c.getSeconds())].join(":");return[c.getDate(),g[c.getMonth()],h].join(" ")}t.log=function(){console.log("%s - %s",v(),t.format.apply(t,arguments))},t.inherits=Tn.exports,t._extend=function(c,h){if(!h||!le(h))return c;for(var x=Object.keys(h),I=x.length;I--;)c[x[I]]=h[x[I]];return c};function w(c,h){return Object.prototype.hasOwnProperty.call(c,h)}var _=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;t.promisify=function(h){if(typeof h!="function")throw new TypeError('The "original" argument must be of type Function');if(_&&h[_]){var x=h[_];if(typeof x!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(x,_,{value:x,enumerable:!1,writable:!1,configurable:!0}),x}function x(){for(var I,O,$=new Promise(function(ie,J){I=ie,O=J}),D=[],j=0;j<arguments.length;j++)D.push(arguments[j]);D.push(function(ie,J){ie?O(ie):I(J)});try{h.apply(this,D)}catch(ie){O(ie)}return $}return Object.setPrototypeOf(x,Object.getPrototypeOf(h)),_&&Object.defineProperty(x,_,{value:x,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(x,e(h))},t.promisify.custom=_;function M(c,h){if(!c){var x=new Error("Promise was rejected with a falsy value");x.reason=c,c=x}return h(c)}function y(c){if(typeof c!="function")throw new TypeError('The "original" argument must be of type Function');function h(){for(var x=[],I=0;I<arguments.length;I++)x.push(arguments[I]);var O=x.pop();if(typeof O!="function")throw new TypeError("The last argument must be of type Function");var $=this,D=function(){return O.apply($,arguments)};c.apply(this,x).then(function(j){process.nextTick(D.bind(null,null,j))},function(j){process.nextTick(M.bind(null,j,D))})}return Object.setPrototypeOf(h,Object.getPrototypeOf(c)),Object.defineProperties(h,e(c)),h}t.callbackify=y})(hh);const FS=hh,Ih=Eo.exports;var Ks=typeof Reflect=="object"?Reflect:null,WS=Ks&&typeof Ks.apply=="function"?Ks.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},$S=pu;function pu(){Ih.call(this)}FS.inherits(pu,Ih);pu.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=t==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[t];if(a===void 0)return!1;if(typeof a=="function")Dc(a,this,e);else for(var l=a.length,d=US(a,l),r=0;r<l;++r)Dc(d[r],this,e);return!0};function Dc(t,e,r){try{WS(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function US(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}const zS=$S,HS=1e3,qS=(t,e)=>t+e,jc=["sync","latest"];class VS extends zS{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*HS,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,r){!jc.includes(e)||this._maybeStart()}_onRemoveListener(e,r){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return jc.map(e=>this.listenerCount(e)).reduce(qS)}_newPotentialLatest(e){const r=this._currentBlock;r&&Bc(e)<=Bc(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}var GS=VS;function Bc(t){return Number.parseInt(t,16)}const QS=H1,YS=GS,KS=1e3;class JS extends YS{constructor(e){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const r=e.pollingInterval||20*KS,n=e.retryTimeout||r/10,i=e.keepEventLoopActive!==void 0?e.keepEventLoopActive:!0,o=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:r},e)),this._provider=e.provider,this._pollingInterval=r,this._retryTimeout=n,this._keepEventLoopActive=i,this._setSkipCacheFlag=o}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(e=>this.emit("error",e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await Fc(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const r=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${e.stack}`);try{this.emit("error",r)}catch{console.error(r)}await Fc(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const r=await QS(n=>this._provider.sendAsync(e,n))();if(r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error}`);return r.result}}var ZS=JS;function Fc(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var XS=function(e){return(r,n,i,o)=>{const s=e[r.method];return s===void 0?i():typeof s=="function"?s(r,n,i,o):(n.result=s,o())}},Th=XS,gu={},qo={},Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.getUniqueId=void 0;const Oh=4294967295;let Js=Math.floor(Math.random()*Oh);function eE(){return Js=(Js+1)%Oh,Js}Ti.getUniqueId=eE;Object.defineProperty(qo,"__esModule",{value:!0});qo.createIdRemapMiddleware=void 0;const tE=Ti;function rE(){return(t,e,r,n)=>{const i=t.id,o=tE.getUniqueId();t.id=o,e.id=o,r(s=>{t.id=i,e.id=i,s()})}}qo.createIdRemapMiddleware=rE;var Vo={};Object.defineProperty(Vo,"__esModule",{value:!0});Vo.createAsyncMiddleware=void 0;function nE(t){return async(e,r,n,i)=>{let o;const s=new Promise(p=>{o=p});let a=null,l=!1;const d=async()=>{l=!0,n(p=>{a=p,o()}),await s};try{await t(e,r,d),l?(await s,a(null)):i(null)}catch(p){a?a(p):i(p)}}}Vo.createAsyncMiddleware=nE;var Go={};Object.defineProperty(Go,"__esModule",{value:!0});Go.createScaffoldMiddleware=void 0;function iE(t){return(e,r,n,i)=>{const o=t[e.method];return o===void 0?n():typeof o=="function"?o(e,r,n,i):(r.result=o,i())}}Go.createScaffoldMiddleware=iE;var Oi={},oE=X&&X.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.JsonRpcEngine=void 0;const sE=oE(On),mt=bi;class Bt extends sE.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[o,s,a]=await Bt._runAllMiddleware(e,r,this._middleware);return s?(await Bt._runReturnHandlers(a),i(o)):n(async l=>{try{await Bt._runReturnHandlers(a)}catch(d){return l(d)}return l()})}catch(o){return i(o)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const s=new mt.EthereumRpcError(mt.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(s,{id:void 0,jsonrpc:"2.0",error:s})}if(typeof e.method!="string"){const s=new mt.EthereumRpcError(mt.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(s,{id:e.id,jsonrpc:"2.0",error:s})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let o=null;try{await this._processRequest(n,i)}catch(s){o=s}return o&&(delete i.result,i.error||(i.error=mt.serializeError(o))),r(o,i)}async _processRequest(e,r){const[n,i,o]=await Bt._runAllMiddleware(e,r,this._middleware);if(Bt._checkForCompletion(e,r,i),await Bt._runReturnHandlers(o),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let o=null,s=!1;for(const a of n)if([o,s]=await Bt._runMiddleware(e,r,a,i),s)break;return[o,s,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(o=>{const s=l=>{const d=l||r.error;d&&(r.error=mt.serializeError(d)),o([d,!0])},a=l=>{r.error?s(r.error):(l&&(typeof l!="function"&&s(new mt.EthereumRpcError(mt.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof l}" for request:
${Zs(e)}`,{request:e})),i.push(l)),o([null,!1]))};try{n(e,r,a,s)}catch(l){s(l)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(o=>o?i(o):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new mt.EthereumRpcError(mt.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Zs(e)}`,{request:e});if(!n)throw new mt.EthereumRpcError(mt.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Zs(e)}`,{request:e})}}Oi.JsonRpcEngine=Bt;function Zs(t){return JSON.stringify(t,null,2)}var Qo={};Object.defineProperty(Qo,"__esModule",{value:!0});Qo.mergeMiddleware=void 0;const aE=Oi;function uE(t){const e=new aE.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}Qo.mergeMiddleware=uE;(function(t){var e=X&&X.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=X&&X.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(qo,t),r(Vo,t),r(Go,t),r(Ti,t),r(Oi,t),r(Qo,t)})(gu);var Nh={},yu={},vu=Fr(wd),Yo={};Object.defineProperty(Yo,"__esModule",{value:!0});var Wc=vu,cE=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return Wc.__awaiter(this,void 0,void 0,function(){var r,n,i;return Wc.__generator(this,function(o){switch(o.label){case 0:return[4,this.acquire()];case 1:r=o.sent(),n=r[0],i=r[1],o.label=2;case 2:return o.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,o.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(!!r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();Yo.default=cE;Object.defineProperty(yu,"__esModule",{value:!0});var $c=vu,lE=Yo,fE=function(){function t(){this._semaphore=new lE.default(1)}return t.prototype.acquire=function(){return $c.__awaiter(this,void 0,void 0,function(){var e,r;return $c.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();yu.default=fE;var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});Ko.withTimeout=void 0;var Hi=vu;function hE(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,o){return Hi.__awaiter(n,void 0,void 0,function(){var s,a,l;return Hi.__generator(this,function(d){switch(d.label){case 0:return s=!1,setTimeout(function(){s=!0,o(r)},e),[4,t.acquire()];case 1:return a=d.sent(),s?(l=Array.isArray(a)?a[1]:a,l()):i(a),[2]}})})})},runExclusive:function(i){return Hi.__awaiter(this,void 0,void 0,function(){var o,s;return Hi.__generator(this,function(a){switch(a.label){case 0:o=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return s=a.sent(),Array.isArray(s)?(o=s[1],[4,i(s[0])]):[3,4];case 3:return[2,a.sent()];case 4:return o=s,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return o(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Ko.withTimeout=hE;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=yu;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=Yo;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Ko;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(Nh);const Uc=(t,e,r,n)=>function(...i){const o=e.promiseModule;return new o((s,a)=>{e.multiArgs?i.push((...d)=>{e.errorFirst?d[0]?a(d):(d.shift(),s(d)):s(d)}):e.errorFirst?i.push((d,p)=>{d?a(d):s(p)}):i.push(s),Reflect.apply(t,this===r?n:this,i)})},zc=new WeakMap;var dE=(t,e)=>{e=ju({exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(s,a)=>{let l=zc.get(s);if(l||(l={},zc.set(s,l)),a in l)return l[a];const d=k=>typeof k=="string"||typeof a=="symbol"?a===k:k.test(a),p=Reflect.getOwnPropertyDescriptor(s,a),S=p===void 0||p.writable||p.configurable,E=(e.include?e.include.some(d):!e.exclude.some(d))&&S;return l[a]=E,E},i=new WeakMap,o=new Proxy(t,{apply(s,a,l){const d=i.get(s);if(d)return Reflect.apply(d,a,l);const p=e.excludeMain?s:Uc(s,e,o,s);return i.set(s,p),Reflect.apply(p,a,l)},get(s,a){const l=s[a];if(!n(s,a)||l===Function.prototype[a])return l;const d=i.get(l);if(d)return d;if(typeof l=="function"){const p=Uc(l,e,o,s);return i.set(l,p),p}return l}});return o};const pE=On.default;class gE extends pE{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}var bu=gE;const yE=bu;class vE extends yE{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}var bE=vE,Ni={minBlockRef:mE,maxBlockRef:wE,sortBlockRefs:mu,bnToHex:_E,blockRefIsNumber:SE,hexToInt:bo,incrementHexInt:EE,intToHex:Lh,unsafeRandomBytes:ME};function mE(...t){return mu(t)[0]}function wE(...t){const e=mu(t);return e[e.length-1]}function mu(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:bo(e)-bo(r))}function _E(t){return"0x"+t.toString(16)}function SE(t){return t&&!["earliest","latest","pending"].includes(t)}function bo(t){return t==null?t:Number.parseInt(t,16)}function EE(t){if(t==null)return t;const e=bo(t);return Lh(e+1)}function Lh(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function ME(t){let e="0x";for(let r=0;r<t;r++)e+=Hc(),e+=Hc();return e}function Hc(){return Math.floor(Math.random()*16).toString(16)}const xE=Z1,kE=dE,AE=bE,{bnToHex:P2,hexToInt:qi,incrementHexInt:CE,minBlockRef:RE,blockRefIsNumber:IE}=Ni;class TE extends AE{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new xE(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=RE(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),o=await this._fetchLogs(i);this.addInitialResults(o)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=CE(e):i=r;const o=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(o)).filter(l=>this.matchLog(l));this.addResults(a)}async _fetchLogs(e){return await kE(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(qi(this.params.fromBlock)>=qi(e.blockNumber)||IE(this.params.toBlock)&&qi(this.params.toBlock)<=qi(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,o)=>{let s=e.topics[o];if(!s)return!1;s=s.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(p=>p.toLowerCase()),a.includes(s))})}}var OE=TE,wu=NE;async function NE({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=qc(e),o=qc(r)-n+1,s=Array(o).fill().map((l,d)=>n+d).map(LE);return await Promise.all(s.map(l=>PE(t,"eth_getBlockByNumber",[l,!1])))}function qc(t){return t==null?t:Number.parseInt(t,16)}function LE(t){if(t==null)return t;const e=t.toString(16);return"0x"+e}function PE(t,e,r){return new Promise((n,i)=>{t.sendAsync({id:1,jsonrpc:"2.0",method:e,params:r},(o,s)=>{if(o)return i(o);n(s.result)})})}const DE=bu,jE=wu,{incrementHexInt:BE}=Ni;class FE extends DE{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=BE(e),s=(await jE({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(s)}}var WE=FE;const $E=bu,UE=wu,{incrementHexInt:zE}=Ni;class HE extends $E{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=zE(e),i=await UE({provider:this.provider,fromBlock:n,toBlock:r}),o=[];for(const s of i)o.push(...s.transactions);this.addResults(o)}}var qE=HE;const VE=Nh.Mutex,{createAsyncMiddleware:GE}=gu,QE=Th,YE=OE,KE=WE,JE=qE,{intToHex:Ph,hexToInt:Xs}=Ni;var ZE=XE;function XE({blockTracker:t,provider:e}){let r=0,n={};const i=new VE,o=eM({mutex:i}),s=QE({eth_newFilter:o(ea(l)),eth_newBlockFilter:o(ea(d)),eth_newPendingTransactionFilter:o(ea(p)),eth_uninstallFilter:o(no(E)),eth_getFilterChanges:o(no(S)),eth_getFilterLogs:o(no(m))}),a=async({oldBlock:L,newBlock:T})=>{if(n.length===0)return;const W=await i.acquire();try{await Promise.all(rn(n).map(async G=>{try{await G.update({oldBlock:L,newBlock:T})}catch(V){console.error(V)}}))}catch(G){console.error(G)}W()};return s.newLogFilter=l,s.newBlockFilter=d,s.newPendingTransactionFilter=p,s.uninstallFilter=E,s.getFilterChanges=S,s.getFilterLogs=m,s.destroy=()=>{R()},s;async function l(L){const T=new YE({provider:e,params:L});return await k(T),T}async function d(){const L=new KE({provider:e});return await k(L),L}async function p(){const L=new JE({provider:e});return await k(L),L}async function S(L){const T=Xs(L),W=n[T];if(!W)throw new Error(`No filter for index "${T}"`);return W.getChangesAndClear()}async function m(L){const T=Xs(L),W=n[T];if(!W)throw new Error(`No filter for index "${T}"`);return W.type==="log"?results=W.getAllResults():results=[],results}async function E(L){const T=Xs(L),W=n[T],G=Boolean(W);return G&&await P(T),G}async function k(L){const T=rn(n).length,W=await t.getLatestBlock();await L.initialize({currentBlock:W}),r++,n[r]=L,L.id=r,L.idHex=Ph(r);const G=rn(n).length;return N({prevFilterCount:T,newFilterCount:G}),r}async function P(L){const T=rn(n).length;delete n[L];const W=rn(n).length;N({prevFilterCount:T,newFilterCount:W})}async function R(){const L=rn(n).length;n={},N({prevFilterCount:L,newFilterCount:0})}function N({prevFilterCount:L,newFilterCount:T}){if(L===0&&T>0){t.on("sync",a);return}if(L>0&&T===0){t.removeListener("sync",a);return}}}function ea(t){return no(async(...e)=>{const r=await t(...e);return Ph(r.id)})}function no(t){return GE(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function eM({mutex:t}){return e=>async(r,n,i,o)=>{(await t.acquire())(),e(r,n,i,o)}}function rn(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const tM=On.default,rM=Th,{createAsyncMiddleware:Vc}=gu,nM=ZE,{unsafeRandomBytes:iM,incrementHexInt:oM}=Ni,sM=wu;var aM=uM;function uM({blockTracker:t,provider:e}){const r={},n=nM({blockTracker:t,provider:e});let i=!1;const o=new tM,s=rM({eth_subscribe:Vc(a),eth_unsubscribe:Vc(l)});return s.destroy=p,{events:o,middleware:s};async function a(S,m){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const E=S.params[0],k=iM(16);let P;switch(E){case"newHeads":P=R({subId:k});break;case"logs":const L=S.params[1],T=await n.newLogFilter(L);P=N({subId:k,filter:T});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${E}"`)}r[k]=P,m.result=k;return;function R({subId:L}){const T={type:E,destroy:async()=>{t.removeListener("sync",T.update)},update:async({oldBlock:W,newBlock:G})=>{const V=G,K=oM(W);(await sM({provider:e,fromBlock:K,toBlock:V})).map(cM).forEach(ae=>{d(L,ae)})}};return t.on("sync",T.update),T}function N({subId:L,filter:T}){return T.on("update",G=>d(L,G)),{type:E,destroy:async()=>await n.uninstallFilter(T.idHex)}}}async function l(S,m){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const E=S.params[0],k=r[E];if(!k){m.result=!1;return}delete r[E],await k.destroy(),m.result=!0}function d(S,m){o.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:S,result:m}})}function p(){o.removeAllListeners();for(const S in r)r[S].destroy(),delete r[S];i=!0}}function cM(t){return{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(Uo,"__esModule",{value:!0});Uo.SubscriptionManager=void 0;const lM=ZS,fM=aM,Gc=()=>{};class hM{constructor(e){const r=new lM({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=fM({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,Gc,Gc),r}destroy(){this.subscriptionMiddleware.destroy()}}Uo.SubscriptionManager=hM;var _u=X&&X.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bn,"__esModule",{value:!0});bn.CoinbaseWalletProvider=void 0;const dM=_u(On),pM=_u(vi.exports),ut=bi,ta=Nn,Qc=Ln,Yc=Rt,Q=B,ra=_u(W1),gM=kn,ce=fh,yM=Uo,Kc="DefaultChainId",Jc="DefaultJsonRpcUrl",na="HasChainBeenSwitched",Zc="HasChainOverriddenFromRelay";class vM extends dM.default{constructor(e){var r,n;super(),this._filterPolyfill=new gM.FilterPolyfill(this),this._subscriptionManager=new yM.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this._eventListener=e.eventListener,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching;const i=this.getChainId(),o=(0,Q.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:o});const s=this._storage.getItem(Yc.LOCAL_STORAGE_ADDRESSES_KEY);if(s){const a=s.split(" ");a[0]!==""&&(this._addresses=a.map(l=>(0,Q.ensureAddressString)(l)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var l;if(a.data.type==="walletLinkMessage"&&a.data.data.action==="defaultChainChanged"){const d=a.data.data.chainId,p=(l=a.data.data.jsonRpcUrl)!==null&&l!==void 0?l:this.jsonRpcUrl;this.updateProviderInfo(p,Number(d),!0)}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,Q.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Jc))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Jc,e)}get isChainOverridden(){return this._storage.getItem(Zc)==="true"}set isChainOverridden(e){this._storage.setItem(Zc,e.toString())}setProviderInfo(e,r){this.isChainOverridden||this.updateProviderInfo(e,this.getChainId(),!1)}updateProviderInfo(e,r,n){if(this._storage.getItem(na)==="true"&&n)return;n&&(this.isChainOverridden=!0),this.jsonRpcUrl=e;const o=this.getChainId();this._storage.setItem(Kc,r.toString(10)),((0,Q.ensureIntNumber)(r)!==o||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,o,s){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,o,s==null?void 0:s.toString()).promise).result}async addEthereumChain(e,r,n,i,o,s){var a,l;if((0,Q.ensureIntNumber)(e)===this.getChainId())return!1;const d=await this.initializeRelay(),p=d.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!p&&await d.requestEthereumAccounts().promise;const S=await d.addEthereumChain(e.toString(),r,o,n,i,s).promise;return((a=S.result)===null||a===void 0?void 0:a.isApproved)===!0&&(this._storage.setItem(na,"true"),this.updateProviderInfo(r[0],e,!1)),((l=S.result)===null||l===void 0?void 0:l.isApproved)===!0}async switchEthereumChain(e){if((0,Q.ensureIntNumber)(e)===this.getChainId())return;const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10)).promise;if(n.errorCode)throw ut.ethErrors.provider.custom({code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&(this._storage.setItem(na,"true"),this.updateProviderInfo(i.rpcUrl,e,!1))}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this._eventListener)===null||e===void 0||e.onEvent(ta.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Qc.Session.hash(this._relay.session.id):null}),this._addresses.length>0?[...this._addresses]:await this._send(ce.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){if(typeof e=="string"){const i=e,o=Array.isArray(r)?r:r!==void 0?[r]:[],s={jsonrpc:"2.0",id:0,method:i,params:o};return this._sendRequestAsync(s).then(a=>a.result)}if(typeof r=="function"){const i=e,o=r;return this._sendAsync(i,o)}if(Array.isArray(e))return e.map(o=>this._sendRequest(o));const n=e;return this._sendRequest(n)}async sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(o=>i(null,o)).catch(o=>i(o,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw ut.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw ut.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw ut.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,o=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:o})).result}async scanQRCode(e){const n=await(await this.initializeRelay()).scanQRCode((0,Q.ensureRegExpString)(e)).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}async genericRequest(e,r){const i=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof i.result!="string")throw new Error("result was not a string");return i.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e){if(!Array.isArray(e))throw new Error("addresses is not an array");const r=e.map(n=>(0,Q.ensureAddressString)(n));JSON.stringify(r)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1||(this._addresses=r,this.emit("accountsChanged",this._addresses),this._storage.setItem(Yc.LOCAL_STORAGE_ADDRESSES_KEY,r.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const o=this._handleAsynchronousFilterMethods(e);if(o!==void 0){o.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const s=this._handleSubscriptionMethods(e);if(s!==void 0){s.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ce.JSONRPCMethod.eth_accounts:return this._eth_accounts();case ce.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case ce.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case ce.JSONRPCMethod.net_version:return this._net_version();case ce.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ce.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case ce.JSONRPCMethod.eth_sign:return this._eth_sign(n);case ce.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case ce.JSONRPCMethod.personal_sign:return this._personal_sign(n);case ce.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case ce.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case ce.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case ce.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case ce.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case ce.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case ce.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case ce.JSONRPCMethod.eth_signTypedData_v4:case ce.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case ce.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case ce.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case ce.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case ce.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ce.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case ce.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case ce.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case ce.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case ce.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case ce.JSONRPCMethod.eth_subscribe:case ce.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,Q.ensureAddressString)(e);return this._addresses.map(i=>(0,Q.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this._eventListener)===null||r===void 0||r.onEvent(ta.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,Q.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,Q.ensureAddressString)(e.to):null,i=e.value!=null?(0,Q.ensureBN)(e.value):new pM.default(0),o=e.data?(0,Q.ensureBuffer)(e.data):Buffer.alloc(0),s=e.nonce!=null?(0,Q.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,Q.ensureBN)(e.gasPrice):null,l=e.maxFeePerGas!=null?(0,Q.ensureBN)(e.maxFeePerGas):null,d=e.maxPriorityFeePerGas!=null?(0,Q.ensureBN)(e.maxPriorityFeePerGas):null,p=e.gas!=null?(0,Q.ensureBN)(e.gas):null,S=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:o,nonce:s,gasPriceInWei:a,maxFeePerGas:l,maxPriorityFeePerGas:d,gasLimit:p,chainId:S}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw ut.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw ut.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{const s=await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise;return{jsonrpc:"2.0",id:0,result:s.result}}catch(o){throw typeof o.message=="string"&&o.message.match(/(denied|rejected)/i)?ut.ethErrors.provider.userRejectedRequest("User denied message signature"):o}}async _ethereumAddressFromSignedMessage(e,r,n){const o=await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise;return{jsonrpc:"2.0",id:0,result:o.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,Q.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(Kc)||"1",r=parseInt(e,10);return(0,Q.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this._eventListener)===null||e===void 0||e.onEvent(ta.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Qc.Session.hash(this._relay.session.id):null}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ut.ethErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,Q.ensureAddressString)(e[0]),n=(0,Q.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,Q.ensureBuffer)(e[0]),n=(0,Q.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,Q.ensureBuffer)(e[0]),n=(0,Q.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,Q.ensureBuffer)(e[0]),n=(0,Q.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{const i=await(await this.initializeRelay()).signEthereumTransaction(r).promise;return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ut.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,Q.ensureBuffer)(e[0]),i=await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise;return{jsonrpc:"2.0",id:0,result:i.result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{const i=await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise;return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ut.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,Q.ensureParsedJSONObject)(e[0]),n=(0,Q.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=ra.default.hashForSignTypedDataLegacy({data:r}),o=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,o)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,Q.ensureAddressString)(e[0]),n=(0,Q.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=ra.default.hashForSignTypedData_v3({data:n}),o=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,o)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,Q.ensureAddressString)(e[0]),n=(0,Q.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=ra.default.hashForSignTypedData_v4({data:n}),o=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,o)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");const i=await this.genericRequest(r,n);return{jsonrpc:"2.0",id:0,result:i}}async _wallet_addEthereumChain(e){var r,n,i,o;const s=e[0];if(((r=s.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!s.chainName||s.chainName.trim()==="")throw ut.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!s.nativeCurrency)throw ut.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const a=parseInt(s.chainId,16);return await this.addEthereumChain(a,(n=s.rpcUrls)!==null&&n!==void 0?n:[],(i=s.blockExplorerUrls)!==null&&i!==void 0?i:[],s.chainName,(o=s.iconUrls)!==null&&o!==void 0?o:[],s.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){var r;const n=Array.isArray(e)?e[0]:e;if(((r=n.type)===null||r===void 0?void 0:r.length)===0)throw ut.ethErrors.rpc.invalidParams({message:"type is a required field"});if(n.type!=="ERC20")throw ut.ethErrors.rpc.invalidParams({message:`Asset of type '${n.type}' not supported`});if(!(n!=null&&n.options))throw ut.ethErrors.rpc.invalidParams({message:"options is a required field"});if(!n.options.address)throw ut.ethErrors.rpc.invalidParams({message:"option address is a required option"});const i=this.getChainId(),{address:o,symbol:s,image:a,decimals:l}=n.options,d=await this.watchAsset(n.type,o,s,l,a,i);return{jsonrpc:"2.0",id:0,result:d}}_eth_uninstallFilter(e){const r=(0,Q.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0],n=await this._filterPolyfill.newFilter(r);return{jsonrpc:"2.0",id:0,result:n}}async _eth_newBlockFilter(){const e=await this._filterPolyfill.newBlockFilter();return{jsonrpc:"2.0",id:0,result:e}}async _eth_newPendingTransactionFilter(){const e=await this._filterPolyfill.newPendingTransactionFilter();return{jsonrpc:"2.0",id:0,result:e}}_eth_getFilterChanges(e){const r=(0,Q.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,Q.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback(r=>this._setAddresses(r)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10),!0)}),this._relay=e,e))}}bn.CoinbaseWalletProvider=vM;var Jo={},Zo={},Li,q,Dh,jh,ii,Bh,Xc,Fh,mo={},Wh=[],bM=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ft(t,e){for(var r in e)t[r]=e[r];return t}function $h(t){var e=t.parentNode;e&&e.removeChild(t)}function La(t,e,r){var n,i,o,s={};for(o in e)o=="key"?n=e[o]:o=="ref"?i=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?Li.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)s[o]===void 0&&(s[o]=t.defaultProps[o]);return oi(t,s,n,i,null)}function oi(t,e,r,n,i){var o={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++Dh:i};return i==null&&q.vnode!=null&&q.vnode(o),o}function mM(){return{current:null}}function Pi(t){return t.children}function si(t,e){this.props=t,this.context=e}function An(t,e){if(e==null)return t.__?An(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?An(t):null}function Uh(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Uh(t)}}function Pa(t){(!t.__d&&(t.__d=!0)&&ii.push(t)&&!wo.__r++||Xc!==q.debounceRendering)&&((Xc=q.debounceRendering)||Bh)(wo)}function wo(){for(var t;wo.__r=ii.length;)t=ii.sort(function(e,r){return e.__v.__b-r.__v.__b}),ii=[],t.some(function(e){var r,n,i,o,s,a;e.__d&&(s=(o=(r=e).__v).__e,(a=r.__P)&&(n=[],(i=Ft({},o)).__v=o.__v+1,Su(a,o,i,r.__n,a.ownerSVGElement!==void 0,o.__h!=null?[s]:null,n,s==null?An(o):s,o.__h),Gh(n,o),o.__e!=s&&Uh(o)))})}function zh(t,e,r,n,i,o,s,a,l,d){var p,S,m,E,k,P,R,N=n&&n.__k||Wh,L=N.length;for(r.__k=[],p=0;p<e.length;p++)if((E=r.__k[p]=(E=e[p])==null||typeof E=="boolean"?null:typeof E=="string"||typeof E=="number"||typeof E=="bigint"?oi(null,E,null,null,E):Array.isArray(E)?oi(Pi,{children:E},null,null,null):E.__b>0?oi(E.type,E.props,E.key,null,E.__v):E)!=null){if(E.__=r,E.__b=r.__b+1,(m=N[p])===null||m&&E.key==m.key&&E.type===m.type)N[p]=void 0;else for(S=0;S<L;S++){if((m=N[S])&&E.key==m.key&&E.type===m.type){N[S]=void 0;break}m=null}Su(t,E,m=m||mo,i,o,s,a,l,d),k=E.__e,(S=E.ref)&&m.ref!=S&&(R||(R=[]),m.ref&&R.push(m.ref,null,E),R.push(S,E.__c||k,E)),k!=null?(P==null&&(P=k),typeof E.type=="function"&&E.__k===m.__k?E.__d=l=Hh(E,l,t):l=Vh(t,E,m,N,k,l),typeof r.type=="function"&&(r.__d=l)):l&&m.__e==l&&l.parentNode!=t&&(l=An(m))}for(r.__e=P,p=L;p--;)N[p]!=null&&(typeof r.type=="function"&&N[p].__e!=null&&N[p].__e==r.__d&&(r.__d=An(n,p+1)),Yh(N[p],N[p]));if(R)for(p=0;p<R.length;p++)Qh(R[p],R[++p],R[++p])}function Hh(t,e,r){for(var n,i=t.__k,o=0;i&&o<i.length;o++)(n=i[o])&&(n.__=t,e=typeof n.type=="function"?Hh(n,e,r):Vh(r,n,n,i,n.__e,e));return e}function qh(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){qh(r,e)}):e.push(t)),e}function Vh(t,e,r,n,i,o){var s,a,l;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(r==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(i),s=null;else{for(a=o,l=0;(a=a.nextSibling)&&l<n.length;l+=2)if(a==i)break e;t.insertBefore(i,o),s=o}return s!==void 0?s:i.nextSibling}function wM(t,e,r,n,i){var o;for(o in r)o==="children"||o==="key"||o in e||_o(t,o,null,r[o],n);for(o in e)i&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||r[o]===e[o]||_o(t,o,e[o],r[o],n)}function el(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=r==null?"":typeof r!="number"||bM.test(e)?r:r+"px"}function _o(t,e,r,n,i){var o;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||el(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||el(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=r,r?n||t.addEventListener(e,o?rl:tl,o):t.removeEventListener(e,o?rl:tl,o);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r==null?"":r;break e}catch{}typeof r=="function"||(r!=null&&(r!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,r):t.removeAttribute(e))}}function tl(t){this.l[t.type+!1](q.event?q.event(t):t)}function rl(t){this.l[t.type+!0](q.event?q.event(t):t)}function Su(t,e,r,n,i,o,s,a,l){var d,p,S,m,E,k,P,R,N,L,T,W=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(l=r.__h,a=e.__e=r.__e,e.__h=null,o=[a]),(d=q.__b)&&d(e);try{e:if(typeof W=="function"){if(R=e.props,N=(d=W.contextType)&&n[d.__c],L=d?N?N.props.value:d.__:n,r.__c?P=(p=e.__c=r.__c).__=p.__E:("prototype"in W&&W.prototype.render?e.__c=p=new W(R,L):(e.__c=p=new si(R,L),p.constructor=W,p.render=SM),N&&N.sub(p),p.props=R,p.state||(p.state={}),p.context=L,p.__n=n,S=p.__d=!0,p.__h=[]),p.__s==null&&(p.__s=p.state),W.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=Ft({},p.__s)),Ft(p.__s,W.getDerivedStateFromProps(R,p.__s))),m=p.props,E=p.state,S)W.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(W.getDerivedStateFromProps==null&&R!==m&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(R,L),!p.__e&&p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(R,p.__s,L)===!1||e.__v===r.__v){p.props=R,p.state=p.__s,e.__v!==r.__v&&(p.__d=!1),p.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(G){G&&(G.__=e)}),p.__h.length&&s.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(R,p.__s,L),p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(m,E,k)})}p.context=L,p.props=R,p.state=p.__s,(d=q.__r)&&d(e),p.__d=!1,p.__v=e,p.__P=t,d=p.render(p.props,p.state,p.context),p.state=p.__s,p.getChildContext!=null&&(n=Ft(Ft({},n),p.getChildContext())),S||p.getSnapshotBeforeUpdate==null||(k=p.getSnapshotBeforeUpdate(m,E)),T=d!=null&&d.type===Pi&&d.key==null?d.props.children:d,zh(t,Array.isArray(T)?T:[T],e,r,n,i,o,s,a,l),p.base=e.__e,e.__h=null,p.__h.length&&s.push(p),P&&(p.__E=p.__=null),p.__e=!1}else o==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=_M(r.__e,e,r,n,i,o,s,l);(d=q.diffed)&&d(e)}catch(G){e.__v=null,(l||o!=null)&&(e.__e=a,e.__h=!!l,o[o.indexOf(a)]=null),q.__e(G,e,r)}}function Gh(t,e){q.__c&&q.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){q.__e(n,r.__v)}})}function _M(t,e,r,n,i,o,s,a){var l,d,p,S=r.props,m=e.props,E=e.type,k=0;if(E==="svg"&&(i=!0),o!=null){for(;k<o.length;k++)if((l=o[k])&&"setAttribute"in l==!!E&&(E?l.localName===E:l.nodeType===3)){t=l,o[k]=null;break}}if(t==null){if(E===null)return document.createTextNode(m);t=i?document.createElementNS("http://www.w3.org/2000/svg",E):document.createElement(E,m.is&&m),o=null,a=!1}if(E===null)S===m||a&&t.data===m||(t.data=m);else{if(o=o&&Li.call(t.childNodes),d=(S=r.props||mo).dangerouslySetInnerHTML,p=m.dangerouslySetInnerHTML,!a){if(o!=null)for(S={},k=0;k<t.attributes.length;k++)S[t.attributes[k].name]=t.attributes[k].value;(p||d)&&(p&&(d&&p.__html==d.__html||p.__html===t.innerHTML)||(t.innerHTML=p&&p.__html||""))}if(wM(t,m,S,i,a),p)e.__k=[];else if(k=e.props.children,zh(t,Array.isArray(k)?k:[k],e,r,n,i&&E!=="foreignObject",o,s,o?o[0]:r.__k&&An(r,0),a),o!=null)for(k=o.length;k--;)o[k]!=null&&$h(o[k]);a||("value"in m&&(k=m.value)!==void 0&&(k!==t.value||E==="progress"&&!k||E==="option"&&k!==S.value)&&_o(t,"value",k,S.value,!1),"checked"in m&&(k=m.checked)!==void 0&&k!==t.checked&&_o(t,"checked",k,S.checked,!1))}return t}function Qh(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){q.__e(n,r)}}function Yh(t,e,r){var n,i;if(q.unmount&&q.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Qh(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){q.__e(o,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&Yh(n[i],e,typeof t.type!="function");r||t.__e==null||$h(t.__e),t.__e=t.__d=void 0}function SM(t,e,r){return this.constructor(t,r)}function Kh(t,e,r){var n,i,o;q.__&&q.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,o=[],Su(e,t=(!n&&r||e).__k=La(Pi,null,[t]),i||mo,mo,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?Li.call(e.childNodes):null,o,!n&&r?r:i?i.__e:e.firstChild,n),Gh(o,t)}function Jh(t,e){Kh(t,e,Jh)}function EM(t,e,r){var n,i,o,s=Ft({},t.props);for(o in e)o=="key"?n=e[o]:o=="ref"?i=e[o]:s[o]=e[o];return arguments.length>2&&(s.children=arguments.length>3?Li.call(arguments,2):r),oi(t.type,s,n||t.key,i||t.ref,null)}function MM(t,e){var r={__c:e="__cC"+Fh++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,o;return this.getChildContext||(i=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(Pa)},this.sub=function(s){i.push(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),a&&a.call(s)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}Li=Wh.slice,q={__e:function(t,e,r,n){for(var i,o,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),s=i.__d),s)return i.__E=i}catch(a){t=a}throw t}},Dh=0,jh=function(t){return t!=null&&t.constructor===void 0},si.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ft({},this.state),typeof t=="function"&&(t=t(Ft({},r),this.props)),t&&Ft(r,t),t!=null&&this.__v&&(e&&this.__h.push(e),Pa(this))},si.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Pa(this))},si.prototype.render=Pi,ii=[],Bh=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,wo.__r=0,Fh=0;var xM=Object.freeze(Object.defineProperty({__proto__:null,render:Kh,hydrate:Jh,createElement:La,h:La,Fragment:Pi,createRef:mM,get isValidElement(){return jh},Component:si,cloneElement:EM,createContext:MM,toChildArray:qh,get options(){return q}},Symbol.toStringTag,{value:"Module"})),Di=Fr(xM),Xo={};function Zh(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=Zh(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function kM(){for(var t=0,e,r,n="";t<arguments.length;)(e=arguments[t++])&&(r=Zh(e))&&(n&&(n+=" "),n+=r);return n}var AM=Object.freeze(Object.defineProperty({__proto__:null,default:kM},Symbol.toStringTag,{value:"Module"})),Xh=Fr(AM),Ur,st,nl,Cn=0,ed=[],il=q.__b,ol=q.__r,sl=q.diffed,al=q.__c,ul=q.unmount;function Un(t,e){q.__h&&q.__h(st,t,Cn||e),Cn=0;var r=st.__H||(st.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function td(t){return Cn=1,rd(id,t)}function rd(t,e,r){var n=Un(Ur++,2);return n.t=t,n.__c||(n.__=[r?r(e):id(void 0,e),function(i){var o=n.t(n.__[0],i);n.__[0]!==o&&(n.__=[o,n.__[1]],n.__c.setState({}))}],n.__c=st),n.__}function CM(t,e){var r=Un(Ur++,3);!q.__s&&Mu(r.__H,e)&&(r.__=t,r.__H=e,st.__H.__h.push(r))}function nd(t,e){var r=Un(Ur++,4);!q.__s&&Mu(r.__H,e)&&(r.__=t,r.__H=e,st.__h.push(r))}function RM(t){return Cn=5,Eu(function(){return{current:t}},[])}function IM(t,e,r){Cn=6,nd(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function Eu(t,e){var r=Un(Ur++,7);return Mu(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function TM(t,e){return Cn=8,Eu(function(){return t},e)}function OM(t){var e=st.context[t.__c],r=Un(Ur++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(st)),e.props.value):t.__}function NM(t,e){q.useDebugValue&&q.useDebugValue(e?e(t):t)}function LM(t){var e=Un(Ur++,10),r=td();return e.__=t,st.componentDidCatch||(st.componentDidCatch=function(n){e.__&&e.__(n),r[1](n)}),[r[0],function(){r[1](void 0)}]}function PM(){for(var t;t=ed.shift();)if(t.__P)try{t.__H.__h.forEach(io),t.__H.__h.forEach(Da),t.__H.__h=[]}catch(e){t.__H.__h=[],q.__e(e,t.__v)}}q.__b=function(t){st=null,il&&il(t)},q.__r=function(t){ol&&ol(t),Ur=0;var e=(st=t.__c).__H;e&&(e.__h.forEach(io),e.__h.forEach(Da),e.__h=[])},q.diffed=function(t){sl&&sl(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(ed.push(e)!==1&&nl===q.requestAnimationFrame||((nl=q.requestAnimationFrame)||function(r){var n,i=function(){clearTimeout(o),cl&&cancelAnimationFrame(n),setTimeout(r)},o=setTimeout(i,100);cl&&(n=requestAnimationFrame(i))})(PM)),st=null},q.__c=function(t,e){e.some(function(r){try{r.__h.forEach(io),r.__h=r.__h.filter(function(n){return!n.__||Da(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],q.__e(n,r.__v)}}),al&&al(t,e)},q.unmount=function(t){ul&&ul(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{io(n)}catch(i){e=i}}),e&&q.__e(e,r.__v))};var cl=typeof requestAnimationFrame=="function";function io(t){var e=st,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),st=e}function Da(t){var e=st;t.__c=t.__(),st=e}function Mu(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function id(t,e){return typeof e=="function"?e(t):e}var DM=Object.freeze(Object.defineProperty({__proto__:null,useState:td,useReducer:rd,useEffect:CM,useLayoutEffect:nd,useRef:RM,useImperativeHandle:IM,useMemo:Eu,useCallback:TM,useContext:OM,useDebugValue:NM,useErrorBoundary:LM},Symbol.toStringTag,{value:"Module"})),xu=Fr(DM),es={};Object.defineProperty(es,"__esModule",{value:!0});es.LIB_VERSION=void 0;es.LIB_VERSION="3.1.0";var ku={};Object.defineProperty(ku,"__esModule",{value:!0});ku.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOHMzLjU4IDggOCA4IDgtMy41OCA4LTgtMy41OC04LTgtOFptNS45MSA3aC0xLjk0Yy0uMS0xLjU3LS40Mi0zLS45MS00LjE1IDEuNDguODggMi41NSAyLjM4IDIuODUgNC4xNVpNOCAxNGMtLjQ1IDAtMS43Mi0xLjc3LTEuOTUtNWgzLjljLS4yMyAzLjIzLTEuNSA1LTEuOTUgNVpNNi4wNSA3QzYuMjggMy43NyA3LjU1IDIgOCAyYy40NSAwIDEuNzIgMS43NyAxLjk1IDVoLTMuOVpNNC45NCAyLjg1QzQuNDYgNCA0LjEzIDUuNDMgNC4wMyA3SDIuMDljLjMtMS43NyAxLjM3LTMuMjcgMi44NS00LjE1Wk0yLjA5IDloMS45NGMuMSAxLjU3LjQyIDMgLjkxIDQuMTVBNS45OTggNS45OTggMCAwIDEgMi4wOSA5Wm04Ljk3IDQuMTVjLjQ4LTEuMTUuODEtMi41OC45MS00LjE1aDEuOTRhNS45OTggNS45OTggMCAwIDEtMi44NSA0LjE1WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var Au={};Object.defineProperty(Au,"__esModule",{value:!0});Au.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE1LjYzNSAyLjExN2EzLjg4OSAzLjg4OSAwIDAgMC01LjUyMSAwTDYuODkgNS4zMzVBMy44OTQgMy44OTQgMCAwIDAgNS44IDguNzM5Yy4wODMuNTA2LjI2OCAxLjAxMS41NTMgMS40NjYuMTUxLjI1My4zMzYuNDcyLjUzNy42OTFsLjYyMS42MjQgMS4xNDEtMS4xNDYtLjYyLS42MjRhMi4xMDUgMi4xMDUgMCAwIDEtLjQ4Ny0uNzQxIDIuMzQgMi4zNCAwIDAgMSAuNTAzLTIuNTFsMy4yMDYtMy4yMmEyLjI5MyAyLjI5MyAwIDAgMSAzLjIzOSAwYy44OS44OTQuODkgMi4zNDMgMCAzLjI1M2wtMS41MjcgMS41MzNjLjIzNC42NC4zMzUgMS4zMzEuMzAyIDIuMDA1bDIuMzgzLTIuMzkyYzEuNTEtMS41MzQgMS40OTMtNC4wMjgtLjAxNy01LjU2MVoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBkPSJNMTEuMjcxIDcuNzQ1YTMuMTMgMy4xMyAwIDAgMC0uNTU0LS42OWwtLjYyLS42MjQtMS4xNDIgMS4xNDYuNjIxLjYyM2MuMjE4LjIyLjM4Ni40ODkuNDg3Ljc1OC4zMzUuODI2LjE2NyAxLjgyLS41MDQgMi40OTRsLTMuMjA1IDMuMjE5YTIuMjkzIDIuMjkzIDAgMCAxLTMuMjQgMCAyLjMxNiAyLjMxNiAwIDAgMSAwLTMuMjUybDEuNTI4LTEuNTM0YTQuODE1IDQuODE1IDAgMCAxLS4yODUtMi4wMDVsLTIuMzgzIDIuMzkzYTMuOTI3IDMuOTI3IDAgMCAwIDAgNS41NDQgMy45MDkgMy45MDkgMCAwIDAgNS41MzggMGwzLjIwNS0zLjIxOWEzLjk1OCAzLjk1OCAwIDAgMCAxLjA5MS0zLjQwNCA0LjIxMSA0LjIxMSAwIDAgMC0uNTM3LTEuNDQ5WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var Cu={};Object.defineProperty(Cu,"__esModule",{value:!0});Cu.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgN3Y5aDE0VjdIMVptNy41IDQuMzlWMTRoLTF2LTIuNjFjLS40NC0uMTktLjc1LS42My0uNzUtMS4xNGExLjI1IDEuMjUgMCAwIDEgMi41IDBjMCAuNTEtLjMxLjk1LS43NSAxLjE0Wk01LjY3IDZWNC4zM0M1LjY3IDMuMDUgNi43MSAyIDggMnMyLjMzIDEuMDUgMi4zMyAyLjMzVjZoMlY0LjMzQzEyLjMzIDEuOTQgMTAuMzkgMCA4IDBTMy42NyAxLjk0IDMuNjcgNC4zM1Y2aDJaIiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+";var Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.default=`<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="50" cy="50" r="50" fill="white"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
</svg>

`;var ts={};function od(t){this.mode=yt.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}od.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function Dt(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Dt.prototype={addData:function(t){var e=new od(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=Dt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=qe.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var o=0;o<this.modules.length;o++)for(var s=o*i,a=0;a<this.modules[o].length;a++){var l=a*i,d=this.modules[o][a];d&&(n.beginFill(0,100),n.moveTo(l,s),n.lineTo(l+i,s),n.lineTo(l+i,s+i),n.lineTo(l,s+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=qe.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)o==-2||o==2||s==-2||s==2||o==0&&s==0?this.modules[n+o][i+s]=!0:this.modules[n+o][i+s]=!1}},setupTypeNumber:function(t){for(var e=qe.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=qe.getBCHTypeInfo(r),i=0;i<15;i++){var o=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(var i=0;i<15;i++){var o=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,o=0,s=this.moduleCount-1;s>0;s-=2)for(s==6&&s--;;){for(var a=0;a<2;a++)if(this.modules[n][s-a]==null){var l=!1;o<t.length&&(l=(t[o]>>>i&1)==1);var d=qe.getMask(e,n,s-a);d&&(l=!l),this.modules[n][s-a]=l,i--,i==-1&&(o++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};Dt.PAD0=236;Dt.PAD1=17;Dt.createData=function(t,e,r){for(var n=Pt.getRSBlocks(t,e),i=new sd,o=0;o<r.length;o++){var s=r[o];i.put(s.mode,4),i.put(s.getLength(),qe.getLengthInBits(s.mode,t)),s.write(i)}for(var a=0,o=0;o<n.length;o++)a+=n[o].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(Dt.PAD0,8),i.getLengthInBits()>=a*8));)i.put(Dt.PAD1,8);return Dt.createBytes(i,n)};Dt.createBytes=function(t,e){for(var r=0,n=0,i=0,o=new Array(e.length),s=new Array(e.length),a=0;a<e.length;a++){var l=e[a].dataCount,d=e[a].totalCount-l;n=Math.max(n,l),i=Math.max(i,d),o[a]=new Array(l);for(var p=0;p<o[a].length;p++)o[a][p]=255&t.buffer[p+r];r+=l;var S=qe.getErrorCorrectPolynomial(d),m=new vn(o[a],S.getLength()-1),E=m.mod(S);s[a]=new Array(S.getLength()-1);for(var p=0;p<s[a].length;p++){var k=p+E.getLength()-s[a].length;s[a][p]=k>=0?E.get(k):0}}for(var P=0,p=0;p<e.length;p++)P+=e[p].totalCount;for(var R=new Array(P),N=0,p=0;p<n;p++)for(var a=0;a<e.length;a++)p<o[a].length&&(R[N++]=o[a][p]);for(var p=0;p<i;p++)for(var a=0;a<e.length;a++)p<s[a].length&&(R[N++]=s[a][p]);return R};var yt={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},rr={L:1,M:0,Q:3,H:2},Vt={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},qe={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;qe.getBCHDigit(e)-qe.getBCHDigit(qe.G15)>=0;)e^=qe.G15<<qe.getBCHDigit(e)-qe.getBCHDigit(qe.G15);return(t<<10|e)^qe.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;qe.getBCHDigit(e)-qe.getBCHDigit(qe.G18)>=0;)e^=qe.G18<<qe.getBCHDigit(e)-qe.getBCHDigit(qe.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return qe.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Vt.PATTERN000:return(e+r)%2==0;case Vt.PATTERN001:return e%2==0;case Vt.PATTERN010:return r%3==0;case Vt.PATTERN011:return(e+r)%3==0;case Vt.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Vt.PATTERN101:return e*r%2+e*r%3==0;case Vt.PATTERN110:return(e*r%2+e*r%3)%2==0;case Vt.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new vn([1],0),r=0;r<t;r++)e=e.multiply(new vn([1,et.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case yt.MODE_NUMBER:return 10;case yt.MODE_ALPHA_NUM:return 9;case yt.MODE_8BIT_BYTE:return 8;case yt.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case yt.MODE_NUMBER:return 12;case yt.MODE_ALPHA_NUM:return 11;case yt.MODE_8BIT_BYTE:return 16;case yt.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case yt.MODE_NUMBER:return 14;case yt.MODE_ALPHA_NUM:return 13;case yt.MODE_8BIT_BYTE:return 16;case yt.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var o=0,s=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var l=-1;l<=1;l++)i+l<0||e<=i+l||a==0&&l==0||s==t.isDark(n+a,i+l)&&o++;o>5&&(r+=3+o-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var d=0;t.isDark(n,i)&&d++,t.isDark(n+1,i)&&d++,t.isDark(n,i+1)&&d++,t.isDark(n+1,i+1)&&d++,(d==0||d==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var p=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&p++;var S=Math.abs(100*p/e/e-50)/5;return r+=S*10,r}},et={glog:function(t){if(t<1)throw new Error("glog("+t+")");return et.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return et.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var ot=0;ot<8;ot++)et.EXP_TABLE[ot]=1<<ot;for(var ot=8;ot<256;ot++)et.EXP_TABLE[ot]=et.EXP_TABLE[ot-4]^et.EXP_TABLE[ot-5]^et.EXP_TABLE[ot-6]^et.EXP_TABLE[ot-8];for(var ot=0;ot<255;ot++)et.LOG_TABLE[et.EXP_TABLE[ot]]=ot;function vn(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}vn.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=et.gexp(et.glog(this.get(r))+et.glog(t.get(n)));return new vn(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=et.glog(this.get(0))-et.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=et.gexp(et.glog(t.get(n))+e);return new vn(r,0).mod(t)}};function Pt(t,e){this.totalCount=t,this.dataCount=e}Pt.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Pt.getRSBlocks=function(t,e){var r=Pt.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],o=0;o<n;o++)for(var s=r[o*3+0],a=r[o*3+1],l=r[o*3+2],d=0;d<s;d++)i.push(new Pt(a,l));return i};Pt.getRsBlockTable=function(t,e){switch(e){case rr.L:return Pt.RS_BLOCK_TABLE[(t-1)*4+0];case rr.M:return Pt.RS_BLOCK_TABLE[(t-1)*4+1];case rr.Q:return Pt.RS_BLOCK_TABLE[(t-1)*4+2];case rr.H:return Pt.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function sd(){this.buffer=[],this.length=0}sd.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var ia=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function ad(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(l){switch(l){case"L":return rr.L;case"M":return rr.M;case"Q":return rr.Q;case"H":return rr.H;default:throw new Error("Unknwon error correction level: "+l)}}function n(l,d){for(var p=i(l),S=1,m=0,E=0,k=ia.length;E<=k;E++){var P=ia[E];if(!P)throw new Error("Content too long: expected "+m+" but got "+p);switch(d){case"L":m=P[0];break;case"M":m=P[1];break;case"Q":m=P[2];break;case"H":m=P[3];break;default:throw new Error("Unknwon error correction level: "+d)}if(p<=m)break;S++}if(S>ia.length)throw new Error("Content too long");return S}function i(l){var d=encodeURI(l).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return d.length+(d.length!=l?3:0)}var o=this.options.content,s=n(o,this.options.ecl),a=r(this.options.ecl);this.qrcode=new Dt(s,a),this.qrcode.addData(o),this.qrcode.make()}ad.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t=="undefined"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty!="undefined"?!!e.pretty:!0,i=n?"  ":"",o=n?`\r
`:"",s=e.width,a=e.height,l=r.length,d=s/(l+2*e.padding),p=a/(l+2*e.padding),S=typeof e.join!="undefined"?!!e.join:!1,m=typeof e.swap!="undefined"?!!e.swap:!1,E=typeof e.xmlDeclaration!="undefined"?!!e.xmlDeclaration:!0,k=typeof e.predefined!="undefined"?!!e.predefined:!1,P=k?i+'<defs><path id="qrmodule" d="M0 0 h'+p+" v"+d+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+o:"",R=i+'<rect x="0" y="0" width="'+s+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+o,N="",L="",T=0;T<l;T++)for(var W=0;W<l;W++){var G=r[W][T];if(G){var V=W*d+e.padding*d,K=T*p+e.padding*p;if(m){var ge=V;V=K,K=ge}if(S){var le=d+V,ae=p+K;V=Number.isInteger(V)?Number(V):V.toFixed(2),K=Number.isInteger(K)?Number(K):K.toFixed(2),le=Number.isInteger(le)?Number(le):le.toFixed(2),ae=Number.isInteger(ae)?Number(ae):ae.toFixed(2),L+="M"+V+","+K+" V"+ae+" H"+le+" V"+K+" H"+V+" Z "}else k?N+=i+'<use x="'+V.toString()+'" y="'+K.toString()+'" href="#qrmodule" />'+o:N+=i+'<rect x="'+V.toString()+'" y="'+K.toString()+'" width="'+d+'" height="'+p+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+o}}S&&(N=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+L+'" />');let U="";if(this.options.image!==void 0&&this.options.image.svg){const b=s*this.options.image.width/100,u=a*this.options.image.height/100,f=s/2-b/2,g=a/2-u/2;U+=`<svg x="${f}" y="${g}" width="${b}" height="${u}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,U+=this.options.image.svg+o,U+="</svg>"}var z="";switch(t.container){case"svg":E&&(z+='<?xml version="1.0" standalone="yes"?>'+o),z+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+s+'" height="'+a+'">'+o,z+=P+R+N,z+=U,z+="</svg>";break;case"svg-viewbox":E&&(z+='<?xml version="1.0" standalone="yes"?>'+o),z+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+s+" "+a+'">'+o,z+=P+R+N,z+=U,z+="</svg>";break;case"g":z+='<g width="'+s+'" height="'+a+'">'+o,z+=P+R+N,z+=U,z+="</g>";break;default:z+=(P+R+N+U).replace(/^\s+/,"");break}return z};var jM=ad,BM=X&&X.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ts,"__esModule",{value:!0});ts.QRCode=void 0;const FM=Di,ll=xu,WM=BM(jM),$M=t=>{const[e,r]=(0,ll.useState)("");return(0,ll.useEffect)(()=>{var n,i;const o=new WM.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),s=Buffer.from(o.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${s}`)}),e?(0,FM.h)("img",{src:e,alt:"QR Code"}):null};ts.QRCode=$M;var rs={},Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});Iu.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var UM=X&&X.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rs,"__esModule",{value:!0});rs.Spinner=void 0;const Vi=Di,zM=UM(Iu),HM=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,Vi.h)("div",{class:"-cbwsdk-spinner"},(0,Vi.h)("style",null,zM.default),(0,Vi.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Vi.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};rs.Spinner=HM;var Tu={};Object.defineProperty(Tu,"__esModule",{value:!0});Tu.default='.-cbwsdk-css-reset .-cbwsdk-extension-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box{display:flex;position:relative;max-width:500px;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top{display:flex;flex-direction:row;background-color:#fff;border-radius:8px;overflow:hidden;min-height:300px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-subtext{margin-top:15px;font-size:12px;line-height:1.5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;padding:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region button{display:block;border-radius:8px;background-color:#1652f0;color:#fff;width:90%;min-width:fit-content;height:44px;margin-top:16px;font-size:16px;padding-left:16px;padding-right:16px;cursor:pointer;font-weight:500;text-align:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;background-color:#fafbfc}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description{display:flex;flex-direction:row;align-items:center;padding-top:14px;padding-bottom:14px;padding-left:24px;padding-right:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper{display:block;position:relative;width:40px;height:40px;flex-shrink:0;flex-grow:0;border-radius:20px;background-color:#fff;box-shadow:0px 0px 8px rgba(0,0,0,.04),0px 16px 24px rgba(0,0,0,.06)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper img{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text{margin-left:16px;flex-grow:1;font-size:13px;line-height:19px;color:#000;align-self:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom{display:flex;flex-direction:row;overflow:hidden;border-radius:8px;background-color:#fff;margin-top:8px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description-region{display:flex;flex-direction:column;justify-content:center;padding:32px;flex-grow:1}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description{font-size:13px;line-height:19px;margin-top:12px;color:#aaa}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description a{font-size:inherit;line-height:inherit;color:#1652f0;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-region{position:relative;flex-shrink:0;display:flex;flex-direction:column;justify-content:center;padding-left:24px;padding-right:24px;padding-top:16px;padding-bottom:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper{position:relative;display:block;padding:8px;border-radius:8px;box-shadow:0px 4px 12px rgba(0,0,0,.1)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper img{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting>p{font-size:12px;font-weight:bold;color:#000;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:16px;right:16px;width:24px;height:24px;border-radius:12px;background-color:#fafbfc;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{content:"";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:1px;background-color:#000;transition:background-color .2s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before{transform:rotate(45deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{transform:rotate(135deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-a,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-b{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container-hidden{display:none}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2{display:block;text-align:left;font-size:22px;font-weight:600;line-height:28px;color:#000}';var zn=X&&X.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xo,"__esModule",{value:!0});Xo.TryExtensionLinkDialog=void 0;const oa=zn(Xh),te=Di,ai=xu,qM=B,VM=es,GM=zn(ku),QM=zn(Au),YM=zn(Cu),KM=zn(Ru),JM=ts,ZM=rs,XM=zn(Tu),ex=t=>{const[e,r]=(0,ai.useState)(!t.isOpen),[n,i]=(0,ai.useState)(!t.isOpen);return(0,ai.useEffect)(()=>{const{isOpen:o}=t,s=[window.setTimeout(()=>{i(!o)},10)];return o?r(!1):s.push(window.setTimeout(()=>{r(!0)},360)),()=>{s.forEach(window.clearTimeout)}},[t.isOpen]),(0,te.h)("div",{class:(0,oa.default)("-cbwsdk-extension-dialog-container",e&&"-cbwsdk-extension-dialog-container-hidden")},(0,te.h)("style",null,XM.default),(0,te.h)("div",{class:(0,oa.default)("-cbwsdk-extension-dialog-backdrop",n&&"-cbwsdk-extension-dialog-backdrop-hidden")}),(0,te.h)("div",{class:"-cbwsdk-extension-dialog"},(0,te.h)("div",{class:(0,oa.default)("-cbwsdk-extension-dialog-box",n&&"-cbwsdk-extension-dialog-box-hidden")},(0,te.h)(tx,{onInstallClick:()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")}}),t.connectDisabled?null:(0,te.h)(rx,{darkMode:t.darkMode,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection}),t.onCancel&&(0,te.h)(nx,{onClick:t.onCancel}))))};Xo.TryExtensionLinkDialog=ex;const tx=({onInstallClick:t})=>{const[e,r]=(0,ai.useState)(!1),n=(0,ai.useCallback)(()=>{e?window.location.reload():(t(),r(!0))},[t,e]);return(0,te.h)("div",{class:"-cbwsdk-extension-dialog-box-top"},(0,te.h)("div",{class:"-cbwsdk-extension-dialog-box-top-install-region"},(0,te.h)("h2",null,"Try the Coinbase Wallet extension"),e&&(0,te.h)("div",{class:"-cbwsdk-extension-dialog-box-top-subtext"},"After installing Coinbase Wallet, refresh the page and connect again."),(0,te.h)("button",{type:"button",onClick:n},e?"Refresh":"Install")),(0,te.h)("div",{class:"-cbwsdk-extension-dialog-box-top-info-region"},(0,te.h)(sa,{icon:QM.default,text:"Connect to crypto apps with one click"}),(0,te.h)(sa,{icon:YM.default,text:"Your private key is stored securely"}),(0,te.h)(sa,{icon:GM.default,text:"Works with Ethereum, Polygon, and more"})))},rx=t=>{const e=(0,qM.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection);return(0,te.h)("div",{"data-testid":"scan-qr-box",class:"-cbwsdk-extension-dialog-box-bottom"},(0,te.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-description-region"},(0,te.h)("h2",null,"Or scan to connect"),(0,te.h)("body",{class:"-cbwsdk-extension-dialog-box-bottom-description"},"Open"," ",(0,te.h)("a",{href:"https://wallet.coinbase.com/",target:"_blank",rel:"noopener noreferrer"},"Coinbase Wallet")," ","on your mobile phone and scan")),(0,te.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-region"},(0,te.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-wrapper"},(0,te.h)(JM.QRCode,{content:e,width:150,height:150,fgColor:"#000",bgColor:"transparent",image:{svg:KM.default,width:34,height:34}})),(0,te.h)("input",{type:"hidden",name:"cbwsdk-version",value:VM.LIB_VERSION}),(0,te.h)("input",{type:"hidden",value:e}),!t.isConnected&&(0,te.h)("div",{"data-testid":"connecting-spinner",class:"-cbwsdk-extension-dialog-box-bottom-qr-connecting"},(0,te.h)(ZM.Spinner,{size:36,color:"#000"}),(0,te.h)("p",null,"Connecting..."))))},sa=t=>(0,te.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description"},(0,te.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description-icon-wrapper"},(0,te.h)("img",{src:t.icon})),(0,te.h)("body",{class:"-cbwsdk-extension-dialog-box-top-description-text"},t.text)),nx=t=>(0,te.h)("button",{type:"button",class:"-cbwsdk-extension-dialog-box-cancel",onClick:t.onClick},(0,te.h)("div",{class:"-cbwsdk-extension-dialog-box-cancel-x"}));Object.defineProperty(Zo,"__esModule",{value:!0});Zo.LinkFlow=void 0;const aa=Di,fl=Bn,ix=Xo;class ox{constructor(e){this.extensionUI$=new fl.BehaviorSubject({}),this.subscriptions=new fl.Subscription,this.isConnected=!1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())}))}detach(){var e;!this.root||(this.subscriptions.unsubscribe(),(0,aa.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{!this.root||(0,aa.render)((0,aa.h)(ix.TryExtensionLinkDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}Zo.LinkFlow=ox;var ud={},Ou={};Object.defineProperty(Ou,"__esModule",{value:!0});Ou.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=X&&X.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(Xh),n=Di,i=xu,o=e(Ou),s="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class l{constructor(m){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=m.darkMode}attach(m){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",m.appendChild(this.root),this.render()}presentItem(m){const E=this.nextItemKey++;return this.items.set(E,m),this.render(),()=>{this.items.delete(E),this.render()}}clear(){this.items.clear(),this.render()}render(){!this.root||(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([m,E])=>(0,n.h)(t.SnackbarInstance,Object.assign({},E,{key:m}))))),this.root)}}t.Snackbar=l;const d=S=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,o.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},S.children));t.SnackbarContainer=d;const p=({autoExpand:S,message:m,menuItems:E})=>{const[k,P]=(0,i.useState)(!0),[R,N]=(0,i.useState)(S!=null?S:!1);(0,i.useEffect)(()=>{const T=[window.setTimeout(()=>{P(!1)},1),window.setTimeout(()=>{N(!0)},1e4)];return()=>{T.forEach(window.clearTimeout)}});const L=()=>{N(!R)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",k&&"-cbwsdk-snackbar-instance-hidden",R&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:L},(0,n.h)("img",{src:s,class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},m),(0,n.h)("div",{class:"-gear-container"},!R&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:a,class:"-gear-icon",title:"Expand"}))),E&&E.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},E.map((T,W)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",T.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:T.onClick,key:W},(0,n.h)("svg",{width:T.svgWidth,height:T.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":T.defaultFillRule,"clip-rule":T.defaultClipRule,d:T.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",T.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},T.info)))))};t.SnackbarInstance=p})(ud);var ns={},Nu={};Object.defineProperty(Nu,"__esModule",{value:!0});Nu.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:block;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset *{box-sizing:border-box;display:initial;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var sx=X&&X.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ns,"__esModule",{value:!0});ns.injectCssReset=void 0;const ax=sx(Nu);function ux(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(ax.default)),document.documentElement.appendChild(t)}ns.injectCssReset=ux;Object.defineProperty(Jo,"__esModule",{value:!0});Jo.WalletSDKUI=void 0;const cx=Zo,lx=ud,fx=ns;class hx{constructor(e){this.attached=!1,this.snackbar=new lx.Snackbar({darkMode:e.darkMode}),this.linkFlow=new cx.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,fx.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}}Jo.WalletSDKUI=hx;var is={},os={};Object.defineProperty(os,"__esModule",{value:!0});var cn;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(cn||(cn={}));function cd(t,e,r){if(!r||typeof r.value!==cn.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:cn.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:cn.boolTrue,writable:cn.boolTrue}),n}}}os.bind=cd;os.default=cd;var ss={},_t={};Object.defineProperty(_t,"__esModule",{value:!0});_t.ClientMessagePublishEvent=_t.ClientMessageSetSessionConfig=_t.ClientMessageGetSessionConfig=_t.ClientMessageIsLinked=_t.ClientMessageHostSession=void 0;function dx(t){return Object.assign({type:"HostSession"},t)}_t.ClientMessageHostSession=dx;function px(t){return Object.assign({type:"IsLinked"},t)}_t.ClientMessageIsLinked=px;function gx(t){return Object.assign({type:"GetSessionConfig"},t)}_t.ClientMessageGetSessionConfig=gx;function yx(t){return Object.assign({type:"SetSessionConfig"},t)}_t.ClientMessageSetSessionConfig=yx;function vx(t){return Object.assign({type:"PublishEvent"},t)}_t.ClientMessagePublishEvent=vx;var ld={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=Bn,r=Io;var n;(function(o){o[o.DISCONNECTED=0]="DISCONNECTED",o[o.CONNECTING=1]="CONNECTING",o[o.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(s,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=s.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(s=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(l){s.error(l);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=l=>{this.clearWebSocket(),s.error(new Error(`websocket error ${l.code}: ${l.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=l=>{s.next(),s.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=l=>{this.incomingDataSubject.next(l.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:s}=this;if(!!s){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{s.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(s=>{let a;try{a=JSON.parse(s)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(s){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(s)}clearWebSocket(){const{webSocket:s}=this;!s||(this.webSocket=null,s.onclose=null,s.onerror=null,s.onmessage=null,s.onopen=null)}}t.RxWebSocket=i})(ld);var as={};Object.defineProperty(as,"__esModule",{value:!0});as.isServerMessageFail=void 0;function bx(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}as.isServerMessageFail=bx;Object.defineProperty(ss,"__esModule",{value:!0});ss.WalletSDKConnection=void 0;const xt=Bn,re=Io,Qn=Ln,nn=ct,Yn=_t,Kn=Nn,Gi=ld,ua=as,hl=1e4,mx=6e4;class wx{constructor(e,r,n,i,o=WebSocket){this.sessionId=e,this.sessionKey=r,this.eventListener=i,this.subscriptions=new xt.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,nn.IntNumber)(1),this.connectedSubject=new xt.BehaviorSubject(!1),this.linkedSubject=new xt.BehaviorSubject(!1),this.sessionConfigSubject=new xt.ReplaySubject(1);const s=new Gi.RxWebSocket(n+"/rpc",o);this.ws=s,this.subscriptions.add(s.connectionState$.pipe((0,re.tap)(a=>{var l;return(l=this.eventListener)===null||l===void 0?void 0:l.onEvent(Kn.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Qn.Session.hash(e)})}),(0,re.skip)(1),(0,re.filter)(a=>a===Gi.ConnectionState.DISCONNECTED&&!this.destroyed),(0,re.delay)(5e3),(0,re.filter)(a=>!this.destroyed),(0,re.flatMap)(a=>s.connect()),(0,re.retry)()).subscribe()),this.subscriptions.add(s.connectionState$.pipe((0,re.skip)(2),(0,re.switchMap)(a=>(0,xt.iif)(()=>a===Gi.ConnectionState.CONNECTED,this.authenticate().pipe((0,re.tap)(l=>this.sendIsLinked()),(0,re.tap)(l=>this.sendGetSessionConfig()),(0,re.map)(l=>!0)),(0,xt.of)(!1))),(0,re.distinctUntilChanged)(),(0,re.catchError)(a=>(0,xt.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(s.connectionState$.pipe((0,re.skip)(1),(0,re.switchMap)(a=>(0,xt.iif)(()=>a===Gi.ConnectionState.CONNECTED,(0,xt.timer)(0,hl)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(s.incomingData$.pipe((0,re.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(s.incomingJSONData$.pipe((0,re.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var l;const d=a;(l=this.eventListener)===null||l===void 0||l.onEvent(Kn.EVENTS.LINKED,{sessionIdHash:Qn.Session.hash(e),linked:d.linked,type:a.type,onlineGuests:d.onlineGuests}),this.linkedSubject.next(d.linked||d.onlineGuests>0)})),this.subscriptions.add(s.incomingJSONData$.pipe((0,re.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var l;const d=a;(l=this.eventListener)===null||l===void 0||l.onEvent(Kn.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Qn.Session.hash(e),metadata_keys:d&&d.metadata?Object.keys(d.metadata):void 0}),this.sessionConfigSubject.next({webhookId:d.webhookId,webhookUrl:d.webhookUrl,metadata:d.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.eventListener)===null||e===void 0||e.onEvent(Kn.EVENTS.STARTED_CONNECTING,{sessionIdHash:Qn.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.eventListener)===null||e===void 0||e.onEvent(Kn.EVENTS.DISCONNECTED,{sessionIdHash:Qn.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,re.filter)(e=>e),(0,re.take)(1),(0,re.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,re.filter)(e=>e),(0,re.take)(1),(0,re.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,re.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,re.map)(e=>e))}setSessionMetadata(e,r){const n=(0,Yn.ClientMessageSetSessionConfig)({id:(0,nn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,re.flatMap)(i=>this.makeRequest(n)),(0,re.map)(i=>{if((0,ua.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,Yn.ClientMessagePublishEvent)({id:(0,nn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,re.flatMap)(o=>this.makeRequest(i)),(0,re.map)(o=>{if((0,ua.isServerMessageFail)(o))throw new Error(o.error||"failed to publish event");return o.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>hl*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=mx){const n=e.id;try{this.sendData(e)}catch(i){return(0,xt.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,re.timeoutWith)(r,(0,xt.throwError)(new Error(`request ${n} timed out`))),(0,re.filter)(i=>i.id===n),(0,re.take)(1))}authenticate(){const e=(0,Yn.ClientMessageHostSession)({id:(0,nn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,re.map)(r=>{if((0,ua.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,Yn.ClientMessageIsLinked)({id:(0,nn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,Yn.ClientMessageGetSessionConfig)({id:(0,nn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}ss.WalletSDKConnection=wx;var us={};Object.defineProperty(us,"__esModule",{value:!0});us.WalletUIError=void 0;class yi extends Error{constructor(e,r){super(e),this.message=e,this.errorCode=r}}us.WalletUIError=yi;yi.UserRejectedRequest=new yi("User rejected request");yi.SwitchEthereumChainUnsupportedChainId=new yi("Unsupported chainId",4902);var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.decrypt=Rn.encrypt=void 0;const _x=Bn,So=B;async function Sx(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,So.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),s=16,a=o.slice(o.byteLength-s),l=o.slice(0,o.byteLength-s),d=new Uint8Array(a),p=new Uint8Array(l),S=new Uint8Array([...r,...d,...p]);return(0,So.uint8ArrayToHex)(S)}Rn.encrypt=Sx;function Ex(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new _x.Observable(r=>{(async function(){const n=await crypto.subtle.importKey("raw",(0,So.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=(0,So.hexStringToUint8Array)(t),o=i.slice(0,12),s=i.slice(12,28),a=i.slice(28),l=new Uint8Array([...a,...s]),d={name:"AES-GCM",iv:new Uint8Array(o)};try{const p=await window.crypto.subtle.decrypt(d,n,l),S=new TextDecoder;r.next(S.decode(p)),r.complete()}catch(p){r.error(p)}})()})}Rn.decrypt=Ex;var Lu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset"}(t.Web3Method||(t.Web3Method={}))})(Lu);var cs={},ls={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(ls);Object.defineProperty(cs,"__esModule",{value:!0});cs.Web3RequestCanceledMessage=void 0;const Mx=ls;function xx(t){return{type:Mx.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}cs.Web3RequestCanceledMessage=xx;var fs={};Object.defineProperty(fs,"__esModule",{value:!0});fs.Web3RequestMessage=void 0;const kx=ls;function Ax(t){return Object.assign({type:kx.RelayMessageType.WEB3_REQUEST},t)}fs.Web3RequestMessage=Ax;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.EthereumAddressFromSignedMessageResponse=Qe.SubmitEthereumTransactionResponse=Qe.SignEthereumTransactionResponse=Qe.SignEthereumMessageResponse=Qe.isRequestEthereumAccountsResponse=Qe.WatchAssetReponse=Qe.RequestEthereumAccountsResponse=Qe.SwitchEthereumChainResponse=Qe.AddEthereumChainResponse=Qe.ErrorResponse=void 0;const Ht=Lu;function Cx(t,e,r){return{method:t,errorMessage:e,errorCode:r}}Qe.ErrorResponse=Cx;function Rx(t){return{method:Ht.Web3Method.addEthereumChain,result:t}}Qe.AddEthereumChainResponse=Rx;function Ix(t){return{method:Ht.Web3Method.switchEthereumChain,result:t}}Qe.SwitchEthereumChainResponse=Ix;function Tx(t){return{method:Ht.Web3Method.requestEthereumAccounts,result:t}}Qe.RequestEthereumAccountsResponse=Tx;function Ox(t){return{method:Ht.Web3Method.watchAsset,result:t}}Qe.WatchAssetReponse=Ox;function Nx(t){return t&&t.method===Ht.Web3Method.requestEthereumAccounts}Qe.isRequestEthereumAccountsResponse=Nx;function Lx(t){return{method:Ht.Web3Method.signEthereumMessage,result:t}}Qe.SignEthereumMessageResponse=Lx;function Px(t){return{method:Ht.Web3Method.signEthereumTransaction,result:t}}Qe.SignEthereumTransactionResponse=Px;function Dx(t){return{method:Ht.Web3Method.submitEthereumTransaction,result:t}}Qe.SubmitEthereumTransactionResponse=Dx;function jx(t){return{method:Ht.Web3Method.ethereumAddressFromSignedMessage,result:t}}Qe.EthereumAddressFromSignedMessageResponse=jx;var In={};Object.defineProperty(In,"__esModule",{value:!0});In.isWeb3ResponseMessage=In.Web3ResponseMessage=void 0;const fd=ls;function Bx(t){return Object.assign({type:fd.RelayMessageType.WEB3_RESPONSE},t)}In.Web3ResponseMessage=Bx;function Fx(t){return t&&t.type===fd.RelayMessageType.WEB3_RESPONSE}In.isWeb3ResponseMessage=Fx;var Wx=X&&X.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$x=X&&X.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hd=X&&X.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},Ux=X&&X.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Wx(e,t,r);return $x(e,t),e},zx=X&&X.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(is,"__esModule",{value:!0});is.WalletSDKRelay=void 0;const dd=zx(os),Hx=bi,Qi=Bn,rt=Io,ft=Nn,qx=ss,ca=us,Ge=B,Mr=Ux(Rn),Gt=Ln,Yi=Rt,nt=Lu,Vx=cs,Gx=fs,kt=Qe,gt=In;class Ct extends Yi.WalletSDKRelayAbstract{constructor(e){super(),this.accountsCallback=null,this.chainCallback=null,this.appName="",this.appLogoUrl=null,this.subscriptions=new Qi.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this._session=Gt.Session.load(e.storage)||new Gt.Session(e.storage).save(),this.relayEventManager=e.relayEventManager,this.eventListener=e.eventListener,this.connection=new qx.WalletSDKConnection(this._session.id,this._session.key,this.linkAPIUrl,this.eventListener),this.subscriptions.add(this.connection.sessionConfig$.subscribe({next:r=>{this.onSessionConfigChanged(r)},error:()=>{var r;(r=this.eventListener)===null||r===void 0||r.onEvent(ft.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(this.connection.incomingEvent$.pipe((0,rt.filter)(r=>r.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(this.connection.linked$.pipe((0,rt.skip)(1),(0,rt.tap)(r=>{var n;this.isLinked=r;const i=this.storage.getItem(Yi.LOCAL_STORAGE_ADDRESSES_KEY);if(r&&(this.session.linked=r),this.isUnlinkedErrorState=!1,i){const o=i.split(" "),s=this.storage.getItem("IsStandaloneSigning")==="true";if(o[0]!==""&&!r&&this.session.linked&&!s){this.isUnlinkedErrorState=!0;const a=this.getSessionIdHash();(n=this.eventListener)===null||n===void 0||n.onEvent(ft.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:a})}}})).subscribe()),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,rt.filter)(r=>!!r.metadata&&r.metadata.__destroyed==="1")).subscribe(()=>{var r;const n=this.connection.isDestroyed;return(r=this.eventListener)===null||r===void 0||r.onEvent(ft.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:n,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,rt.filter)(r=>r.metadata&&r.metadata.WalletUsername!==void 0)).pipe((0,rt.mergeMap)(r=>Mr.decrypt(r.metadata.WalletUsername,this._session.secret))).subscribe({next:r=>{this.storage.setItem(Yi.WALLET_USER_NAME_KEY,r)},error:()=>{var r;(r=this.eventListener)===null||r===void 0||r.onEvent(ft.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,rt.filter)(r=>r.metadata&&r.metadata.AppVersion!==void 0)).pipe((0,rt.mergeMap)(r=>Mr.decrypt(r.metadata.AppVersion,this._session.secret))).subscribe({next:r=>{this.storage.setItem(Yi.APP_VERSION_KEY,r)},error:()=>{var r;(r=this.eventListener)===null||r===void 0||r.onEvent(ft.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,rt.filter)(r=>r.metadata&&r.metadata.ChainId!==void 0&&r.metadata.JsonRpcUrl!==void 0)).pipe((0,rt.mergeMap)(r=>(0,Qi.zip)(Mr.decrypt(r.metadata.ChainId,this._session.secret),Mr.decrypt(r.metadata.JsonRpcUrl,this._session.secret)))).pipe((0,rt.distinctUntilChanged)()).subscribe({next:([r,n])=>{this.chainCallback&&this.chainCallback(r,n)},error:()=>{var r;(r=this.eventListener)===null||r===void 0||r.onEvent(ft.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,rt.filter)(r=>r.metadata&&r.metadata.EthereumAddress!==void 0)).pipe((0,rt.mergeMap)(r=>Mr.decrypt(r.metadata.EthereumAddress,this._session.secret))).subscribe({next:r=>{this.accountsCallback&&this.accountsCallback([r]),Ct.accountRequestCallbackIds.size>0&&(Array.from(Ct.accountRequestCallbackIds.values()).forEach(n=>{const i=(0,gt.Web3ResponseMessage)({id:n,response:(0,kt.RequestEthereumAccountsResponse)([r])});this.invokeCallback(Object.assign(Object.assign({},i),{id:n}))}),Ct.accountRequestCallbackIds.clear())},error:()=>{var r;(r=this.eventListener)===null||r===void 0||r.onEvent(ft.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.ui=e.uiConstructor({linkAPIUrl:e.linkAPIUrl,version:e.version,darkMode:e.darkMode,session:this._session,connected$:this.connection.connected$}),this.connection.connect()}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,rt.timeout)(1e3),(0,rt.catchError)(e=>(0,Qi.of)(null))).subscribe(e=>{var r,n,i;try{this.subscriptions.unsubscribe()}catch{(r=this.eventListener)===null||r===void 0||r.onEvent(ft.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.eventListener)===null||n===void 0||n.onEvent(ft.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=Gt.Session.load(this.storage);(o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.eventListener)===null||i===void 0||i.onEvent(ft.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Gt.Session.hash(o.id)})),this.ui.reloadUI()},e=>{var r;(r=this.eventListener)===null||r===void 0||r.onEvent(ft.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:nt.Web3Method.signEthereumMessage,params:{message:(0,Ge.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:nt.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,Ge.hexStringFromBuffer)(e,!0),signature:(0,Ge.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:nt.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Ge.bigIntStringFromBN)(e.weiValue),data:(0,Ge.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Ge.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,Ge.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,Ge.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,Ge.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:nt.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Ge.bigIntStringFromBN)(e.weiValue),data:(0,Ge.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Ge.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,Ge.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,Ge.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,Ge.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:nt.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,Ge.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:nt.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,Ge.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1)}genericRequest(e,r){return this.sendRequest({method:nt.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,Ge.randomBytesHex)(8),i=s=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,s),r==null||r()};return{promise:new Promise((s,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,l=>{if(r==null||r(),l.errorMessage)return a(new Error(l.errorMessage));s(l)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}publishWeb3RequestEvent(e,r){var n;const i=(0,Gx.Web3RequestMessage)({id:e,request:r}),o=Gt.Session.load(this.storage);(n=this.eventListener)===null||n===void 0||n.onEvent(ft.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:o?Gt.Session.hash(o.id):"",isSessionMismatched:((o==null?void 0:o.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:s=>{var a;(a=this.eventListener)===null||a===void 0||a.onEvent(ft.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:o?Gt.Session.hash(o.id):"",isSessionMismatched:((o==null?void 0:o.id)!==this._session.id).toString()})},error:s=>{this.handleWeb3ResponseMessage((0,gt.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:s.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,Vx.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new Qi.Observable(o=>{Mr.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(s=>{o.next(s),o.complete()})}).pipe((0,rt.mergeMap)(o=>this.connection.publishEvent(e,o,n)))}handleIncomingEvent(e){try{this.subscriptions.add(Mr.decrypt(e.data,this.session.secret).pipe((0,rt.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,gt.isWeb3ResponseMessage)(r)?r:null;!n||this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.eventListener)===null||r===void 0||r.onEvent(ft.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.eventListener)===null||r===void 0||r.onEvent(ft.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,kt.isRequestEthereumAccountsResponse)(n)){Ct.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),Ct.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){this.handleWeb3ResponseMessage((0,gt.Web3ResponseMessage)({id:e,response:(0,kt.ErrorResponse)(r,(n!=null?n:ca.WalletUIError.UserRejectedRequest).message,i)}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:nt.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,Ge.randomBytesHex)(8),n=o=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,o)};return{promise:new Promise((o,s)=>{var a;this.relayEventManager.callbacks.set(r,d=>{if(this.ui.hideRequestEthereumAccounts(),d.errorMessage)return s(new Error(d.errorMessage));o(d)});const l=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(l&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(l)){window.location.href=`https://go.cb-w.com/xoXnYwQimhb?cb_url=${encodeURIComponent(window.location.href)}`;return}if(this.ui.inlineAccountsResponse()){const d=p=>{this.handleWeb3ResponseMessage((0,gt.Web3ResponseMessage)({id:r,response:(0,kt.RequestEthereumAccountsResponse)(p)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:d})}else this.ui.requestEthereumAccounts({onCancel:n});Ct.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}watchAsset(e,r,n,i,o,s){const a={method:nt.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:o},chainId:s}};let l=null;const d=(0,Ge.randomBytesHex)(8),p=m=>{this.publishWeb3RequestCanceledEvent(d),this.handleErrorResponse(d,a.method,m),l==null||l()};this.ui.inlineWatchAsset()||(l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:p,onResetConnection:this.resetAndReload}));const S=new Promise((m,E)=>{this.relayEventManager.callbacks.set(d,R=>{if(l==null||l(),R.errorMessage)return E(new Error(R.errorMessage));m(R)});const k=R=>{this.handleWeb3ResponseMessage((0,gt.Web3ResponseMessage)({id:d,response:(0,kt.WatchAssetReponse)(!1)}))},P=()=>{this.handleWeb3ResponseMessage((0,gt.Web3ResponseMessage)({id:d,response:(0,kt.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:P,onCancel:k,type:e,address:r,symbol:n,decimals:i,image:o,chainId:s}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(d,a)});return{cancel:p,promise:S}}addEthereumChain(e,r,n,i,o,s){const a={method:nt.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:o,iconUrls:n,nativeCurrency:s}};let l=null;const d=(0,Ge.randomBytesHex)(8),p=m=>{this.publishWeb3RequestCanceledEvent(d),this.handleErrorResponse(d,a.method,m),l==null||l()};return this.ui.inlineAddEthereumChain(e)||(l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:p,onResetConnection:this.resetAndReload})),{promise:new Promise((m,E)=>{this.relayEventManager.callbacks.set(d,R=>{if(l==null||l(),R.errorMessage)return E(new Error(R.errorMessage));m(R)});const k=R=>{this.handleWeb3ResponseMessage((0,gt.Web3ResponseMessage)({id:d,response:(0,kt.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},P=R=>{this.handleWeb3ResponseMessage((0,gt.Web3ResponseMessage)({id:d,response:(0,kt.AddEthereumChainResponse)({isApproved:!0,rpcUrl:R})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:k,onApprove:P,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(d,a)}),cancel:p}}switchEthereumChain(e){const r={method:nt.Web3Method.switchEthereumChain,params:{chainId:e}};let n=null;const i=(0,Ge.randomBytesHex)(8),o=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,r.method,a),n==null||n()};return this.ui.inlineSwitchEthereumChain()||(n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:o,onResetConnection:this.resetAndReload})),{promise:new Promise((a,l)=>{this.relayEventManager.callbacks.set(i,S=>{if(n==null||n(),S.errorMessage&&S.errorCode)return l(Hx.ethErrors.provider.custom({code:S.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(S.errorMessage)return l(new Error(S.errorMessage));a(S)});const d=S=>{if(typeof S=="number"){const m=S;this.handleWeb3ResponseMessage((0,gt.Web3ResponseMessage)({id:i,response:(0,kt.ErrorResponse)(nt.Web3Method.switchEthereumChain,ca.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,m)}))}else S instanceof ca.WalletUIError?this.handleErrorResponse(i,nt.Web3Method.switchEthereumChain,S,S.errorCode):this.handleWeb3ResponseMessage((0,gt.Web3ResponseMessage)({id:i,response:(0,kt.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},p=S=>{this.handleWeb3ResponseMessage((0,gt.Web3ResponseMessage)({id:i,response:(0,kt.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:S})}))};this.ui.switchEthereumChain({onCancel:d,onApprove:p,chainId:r.params.chainId}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,r)}),cancel:o}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return Gt.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=o=>{this.handleErrorResponse(e,r.method,o)},i=o=>{this.handleWeb3ResponseMessage((0,gt.Web3ResponseMessage)({id:e,response:o}))};switch(r.method){case nt.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case nt.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case nt.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case nt.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}Ct.accountRequestCallbackIds=new Set;hd([dd.default],Ct.prototype,"resetAndReload",null);hd([dd.default],Ct.prototype,"handleIncomingEvent",null);is.WalletSDKRelay=Ct;var hs={};Object.defineProperty(hs,"__esModule",{value:!0});hs.WalletSDKRelayEventManager=void 0;const Qx=B;class Yx{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,Qx.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}hs.WalletSDKRelayEventManager=Yx;const Kx=[["@coinbase/wallet-sdk@3.1.0","/home/augustine/Dapps/DLib2/client"]],Jx="@coinbase/wallet-sdk@3.1.0",Zx="@coinbase/wallet-sdk@3.1.0",Xx=!1,e2="sha512-8IGfVklv/CMfCT4qd9KfL0IwlINsIgSlW1oQB/or8uSY9wAqoY8lIoQVpOyFx7YDK094Xfd9alhulZtRZNJBjw==",t2="/@coinbase/wallet-sdk",r2={},n2={type:"version",registry:!0,raw:"@coinbase/wallet-sdk@3.1.0",name:"@coinbase/wallet-sdk",escapedName:"@coinbase%2fwallet-sdk",scope:"@coinbase",rawSpec:"3.1.0",saveSpec:null,fetchSpec:"3.1.0"},i2=["/","/@web3-onboard/coinbase","/wagmi"],o2="https://registry.npmjs.org/@coinbase/wallet-sdk/-/wallet-sdk-3.1.0.tgz",s2="3.1.0",a2="/home/augustine/Dapps/DLib2/client",u2={name:"Coinbase, Inc."},c2={url:"https://github.com/coinbase/coinbase-wallet-sdk/issues"},l2={"@metamask/safe-event-emitter":"2.0.0","bind-decorator":"^1.0.11","bn.js":"^5.1.1",clsx:"^1.1.0","eth-block-tracker":"4.4.3","eth-json-rpc-filters":"4.2.2","eth-rpc-errors":"4.0.2","js-sha256":"0.9.0","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","stream-browserify":"^3.0.0"},f2="Coinbase Wallet JavaScript SDK",h2={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2",karma:"^6.3.15","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.72.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},d2={node:">= 10.0.0"},p2="https://github.com/coinbase/coinbase-wallet-sdk#readme",g2=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],y2="Apache-2.0",v2="dist/index.js",b2="@coinbase/wallet-sdk",m2={type:"git",url:"git+https://github.com/coinbase/coinbase-wallet-sdk.git"},w2={build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ./README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write","lint:eslint":"eslint ./src --ext .ts,.tsx","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:types":"tsc --noEmit",prebuild:`node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,"pretest:unit":"node compile-assets.js",release:"./scripts/release.sh","test:karma":"yarn build-npm && karma start","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html"},_2="dist/index.d.ts",S2="3.1.0";var E2={_args:Kx,_from:Jx,_id:Zx,_inBundle:Xx,_integrity:e2,_location:t2,_phantomChildren:r2,_requested:n2,_requiredBy:i2,_resolved:o2,_spec:s2,_where:a2,author:u2,bugs:c2,dependencies:l2,description:f2,devDependencies:h2,engines:d2,homepage:p2,keywords:g2,license:y2,main:v2,name:b2,repository:m2,scripts:w2,types:_2,version:S2};Object.defineProperty(ui,"__esModule",{value:!0});ui.CoinbaseWalletSDK=void 0;const M2=xo,x2=bn,k2=Jo,A2=is,C2=hs,R2=B,I2={}.LINK_API_URL||"https://www.walletlink.org",pd={}.SDK_VERSION||E2.version||"unknown";class ds{constructor(e){var r,n;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const i=e.linkAPIUrl||I2;let o;e.uiConstructor?o=e.uiConstructor:o=l=>new k2.WalletSDKUI(l),typeof e.overrideIsMetaMask=="undefined"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this._eventListener=e.eventListener;const s=new URL(i),a=`${s.protocol}//${s.host}`;this._storage=new M2.ScopedLocalStorage(`-walletlink:${a}`),this._storage.setItem("version",ds.VERSION),!this.walletExtension&&(this._relayEventManager=new C2.WalletSDKRelayEventManager,this._relay=new A2.WalletSDKRelay({linkAPIUrl:i,version:pd,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,eventListener:this._eventListener}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),n;const i=this._relay;if(!i||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||i.setConnectDisabled(!0),new x2.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(i),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),eventListener:this._eventListener,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,R2.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}ui.CoinbaseWalletSDK=ds;ds.VERSION=pd;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=ui,r=bn;var n=ui;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=bn;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window!="undefined"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(ja);var T2=bd(ja),D2=_d({__proto__:null,default:T2},[ja]);export{D2 as i};
